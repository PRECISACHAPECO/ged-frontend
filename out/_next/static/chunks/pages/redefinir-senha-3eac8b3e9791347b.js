(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4199],{49837:function(e,s,o){"use strict";o.d(s,{Z:function(){return j}});var n=o(87462),r=o(63366),t=o(67294),i=o(86010),a=o(94780),d=o(67074),l=o(78884),c=o(70918),u=o(1588),w=o(34867);function h(e){return(0,w.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var m=o(85893);let f=["className","raised"],x=e=>{let{classes:s}=e;return(0,a.Z)({root:["root"]},h,s)},p=(0,d.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,s)=>s.root})(()=>({overflow:"hidden"})),Z=t.forwardRef(function(e,s){let o=(0,l.Z)({props:e,name:"MuiCard"}),{className:t,raised:a=!1}=o,d=(0,r.Z)(o,f),c=(0,n.Z)({},o,{raised:a}),u=x(c);return(0,m.jsx)(p,(0,n.Z)({className:(0,i.Z)(u.root,t),elevation:a?8:void 0,ref:s,ownerState:c},d))});var j=Z},19261:function(e,s,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/redefinir-senha",function(){return o(47791)}])},47791:function(e,s,o){"use strict";o.r(s);var n=o(85893),r=o(67294),t=o(41664),i=o.n(t),a=o(60664),d=o(30120),l=o(54225),c=o(29630),u=o(58316),w=o(80562),h=o(91359),m=o(55343),f=o(39063),x=o(67074),p=o(62097),Z=o(49837),j=o(9041),g=o(39976),P=o(21609);o(30152);var v=o(88942),N=o(32414),b=o(41099),y=o(87536),C=o(11163),D=o.n(C),I=o(86501);let _=(0,x.ZP)(Z.Z)(e=>{let{theme:s}=e;return{[s.breakpoints.up("sm")]:{width:"28rem"}}}),k=()=>{let[e,s]=(0,r.useState)({showNewPassword:!1,showConfirmNewPassword:!1}),o=D(),t=o.query.type,{createNewNotification:x}=(0,r.useContext)(g.u);(0,p.Z)();let Z=()=>{s({...e,showNewPassword:!e.showNewPassword})},v=e=>{e.preventDefault()},C=()=>{s({...e,showConfirmNewPassword:!e.showConfirmNewPassword})},k=e=>{e.preventDefault()},{handleSubmit:S,formState:{errors:A},register:E,watch:M}=(0,y.cI)({}),q=e=>{let s=o.query.userId,n={senha:e.newPassword,usuarioID:s},r={titulo:"Redefini\xe7\xe3o de senha",descricao:"Sua senha senha foi redefinida com sucesso.",url:null,urlID:null,tipoNotificacaoID:2,usuarioGeradorID:null,usuarioID:n.usuarioID,papelID:1};a.h.post("/esqueceuSenha/newPassword",{data:n}).then(e=>{200===e.status?(I.Am.success("Senha redefinida com sucesso!"),o.push("login"===t?"/login":"/fornecedor"),x(r)):I.Am.error("Erro ao redefinir senha!")})};return(0,n.jsxs)(d.Z,{className:"content-center",children:[(0,n.jsx)(_,{sx:{zIndex:1},children:(0,n.jsxs)(h.Z,{sx:{p:e=>"".concat(e.spacing(15.5,7,8)," !important")},children:[(0,n.jsx)(d.Z,{sx:{mb:8,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(b.Z,{})}),(0,n.jsxs)(d.Z,{sx:{mb:6},children:[(0,n.jsx)(c.Z,{variant:"h5",sx:{mb:1.5,letterSpacing:"0.18px",fontWeight:600},children:"Redefinir senha \uD83D\uDD12"}),(0,n.jsx)(c.Z,{variant:"body2",children:"Sua nova senha deve ser diferente das senhas usadas anteriormente"})]}),(0,n.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:S(q),children:[(0,n.jsxs)(m.Z,{fullWidth:!0,sx:{mb:4},children:[(0,n.jsx)(u.Z,{htmlFor:"auth-reset-password-new-password",color:(null==A?void 0:A.newPassword)?"error":"",children:"Nova senha"}),(0,n.jsx)(f.Z,{autoFocus:!0,label:"New Password",name:"newPassword",id:"auth-reset-password-new-password",type:e.showNewPassword?"text":"password",...E("newPassword",{required:!0,validate:e=>e.length>=4||"A senha deve conter no m\xednimo 4 d\xedgitos."}),error:A.newPassword,endAdornment:(0,n.jsx)(j.Z,{position:"end",children:(0,n.jsx)(w.Z,{edge:"end",onClick:Z,"aria-label":"toggle password visibility",onMouseDown:v,children:(0,n.jsx)(P.Z,{icon:e.showNewPassword?"mdi:eye-outline":"mdi:eye-off-outline"})})})}),A.newPassword&&(0,n.jsx)(c.Z,{variant:"caption",color:"error",children:A.newPassword.message})]}),(0,n.jsxs)(m.Z,{fullWidth:!0,sx:{mb:4},children:[(0,n.jsx)(u.Z,{htmlFor:"input-confirmNewPassword",color:(null==A?void 0:A.confirmNewPassword)?"error":"",children:"Confirme a senha"}),(0,n.jsx)(f.Z,{label:"Confirm Password",name:"confirmNewPassword",id:"auth-reset-password-confirm-password",type:e.showConfirmNewPassword?"text":"password",...E("confirmNewPassword",{required:!0,validate:{matchesPassword:e=>e===M("newPassword")||"As senhas n\xe3o conferem.",minLength:e=>e.length>=4||"A senha deve conter no m\xednimo 4 d\xedgitos."}}),error:A.confirmNewPassword,endAdornment:(0,n.jsx)(j.Z,{position:"end",children:(0,n.jsx)(w.Z,{edge:"end","aria-label":"toggle password visibility",onClick:C,onMouseDown:k,children:(0,n.jsx)(P.Z,{icon:e.showConfirmNewPassword?"mdi:eye-outline":"mdi:eye-off-outline"})})})}),A.confirmNewPassword&&(0,n.jsx)(c.Z,{variant:"caption",color:"error",children:A.confirmNewPassword.message})]}),(0,n.jsx)(l.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",sx:{mb:5.25},children:"Definir nova senha"}),(0,n.jsx)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsxs)(c.Z,{component:i(),href:"login"===t?"/login":"/fornecedor",sx:{display:"flex","& svg":{mr:1.5},alignItems:"center",color:"primary.main",textDecoration:"none",justifyContent:"center"},children:[(0,n.jsx)(P.Z,{icon:"mdi:chevron-left",fontSize:"2rem"}),(0,n.jsx)("span",{children:"Volte ao login"})]})})]})]})}),(0,n.jsx)(N.Z,{})]})};k.getLayout=e=>(0,n.jsx)(v.Z,{children:e}),k.guestGuard=!0,s.default=k},32414:function(e,s,o){"use strict";var n=o(85893),r=o(61225),t=o(67074),i=o(62097);let a=(0,t.ZP)("img")(e=>{let{theme:s}=e;return{zIndex:-1,bottom:"7%",width:"100%",position:"absolute",[s.breakpoints.down("lg")]:{bottom:"10%"}}}),d=e=>{let{image:s}=e,o=(0,i.Z)(),t=(0,r.Z)(o.breakpoints.down("md")),d=s||"/images/pages/auth-v1-login-mask-".concat(o.palette.mode,".png");return t?null:(0,n.jsx)(a,{alt:"mask",src:d})};s.Z=d}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=19261)}),_N_E=e.O()}]);