(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6364],{92689:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configuracoes/formularios",function(){return o(55615)}])},93250:function(e,t,o){"use strict";var n=o(85893),i=o(49837),s=o(91359),a=o(40372);let l=e=>{let{result:t,columns:o,btnNew:l=!0,btnPrint:r=!0,openModal:d}=e;return(0,n.jsx)(i.Z,{children:(0,n.jsx)(s.Z,{sx:{pt:"0"},children:(0,n.jsx)(a.Z,{rows:t,columns:o,buttonsHeader:{btnNew:l,btnPrint:r,openModal:d}})})})};t.Z=l},47842:function(e,t,o){"use strict";var n=o(85893),i=o(70754),s=o(61953);let a=e=>{let{title:t}=e;return(0,n.jsxs)(s.Z,{sx:{position:"absolute",top:"50%",left:"50%",textAlign:"center"},children:[(0,n.jsx)(i.Z,{}),(0,n.jsx)("p",{children:null!=t?t:"Carregando..."})]})};t.Z=a},55615:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return T}});var n=o(85893),i=o(67294),s=o(60664),a=o(93250),l=o(60565),r=o(83830),d=o(87536),c=o(49837),m=o(91359),u=o(85214),x=o(79072),v=o(29630),p=o(61953),h=o(75084),j=o(11163),b=o.n(j),Z=o(46749),g=o(14155),f=o(40039),I=o(86501),k=o(47842),D=o(21609),P=o(1890),y=o(77745),C=o(95398),S=o(76779),B=o(44642),w=o(22416),F=o(22841),N=o(16056),R=o(55343),q=o(67836);let E=e=>{let{openModal:t,setOpenModalConfirmScore:o,itemScore:i,setItemScore:a}=e,l=()=>{o(!1)},{handleSubmit:r,register:c}=(0,d.cI)({}),m=e=>{let t={alternativaID:null==i?void 0:i.alternativaID,pontuacao:(null==e?void 0:e.pontuacao)?1:0,parFornecedorBlocoItemID:null==i?void 0:i.parFornecedorBlocoItemID,alternatives:null==i?void 0:i.alternatives.map((t,o)=>({alternativaItemID:null==t?void 0:t.alternativaItemID,score:e[null==t?void 0:t.nome]}))};s.h.post("/formularios/fornecedor/saveItemScore",{data:t}).then(e=>{o(!1),I.Am.success("Pontua\xe7\xe3o salva com sucesso!")})};return(0,n.jsx)(n.Fragment,{children:(null==i?void 0:i.alternatives)&&(0,n.jsx)(P.Z,{open:t,onClose:l,"aria-labelledby":"form-dialog-title",children:(0,n.jsxs)("form",{onSubmit:r(m),children:[(0,n.jsx)(y.Z,{id:"form-dialog-title",children:"Pontua\xe7\xe3o das respostas"}),(0,n.jsxs)(C.Z,{children:[(0,n.jsx)(B.Z,{sx:{mb:3},children:"Defina a pontua\xe7\xe3o para cada alternativa"}),(0,n.jsx)(p.Z,{sx:{mb:4},children:(0,n.jsx)(w.Z,{row:!0,children:(0,n.jsx)(F.Z,{label:"Habilitar pontua\xe7\xe3o",control:(0,n.jsx)(N.Z,{name:"pontuacao",...c("pontuacao"),checked:(null==i?void 0:i.pontuacao)==1,onChange(e){a({...i,pontuacao:e.target.checked?1:0})}})})})}),i&&(null==i?void 0:i.alternatives.map((e,t)=>(0,n.jsx)(x.ZP,{md:12,sx:{mb:4},children:(0,n.jsx)("grid",{item:!0,md:12,children:(0,n.jsx)(R.Z,{fullWidth:!0,children:(0,n.jsx)(q.Z,{disabled:1!=i.pontuacao,id:"outlined-basic",label:null==e?void 0:e.nome,...c("".concat(null==e?void 0:e.nome)),name:"".concat(null==e?void 0:e.nome),defaultValue:null==e?void 0:e.score,variant:"outlined",size:"small",type:"number",title:0!=i.pontuacao||"Habilite a pontua\xe7\xe3o para preencher"})})})},t)))]}),(0,n.jsxs)(S.Z,{className:"dialog-actions-dense",children:[(0,n.jsx)(h.Z,{variant:"outlined",color:"primary",onClick:l,children:"Cancelar"}),(0,n.jsx)(h.Z,{variant:"contained",color:"primary",onClick:r(m),children:"Confirmar"})]})]})})})};var O=o(84220),M=o(29308),V=o(67569),W=o(3893),_=o(88475);let A=e=>{var t,o;let{id:a}=e,{user:l,loggedUnity:r}=(0,i.useContext)(f.V),[j,P]=(0,i.useState)(),[y,C]=(0,i.useState)(null),[S,B]=(0,i.useState)(),[w,F]=(0,i.useState)(),[N,R]=(0,i.useState)(!1),[q,A]=(0,i.useState)(),[z,H]=(0,i.useState)(!1),[T,X]=(0,i.useState)([]),[G,U]=(0,i.useState)([]),L=b(),J=L.pathname,{setValue:K,register:Q,handleSubmit:Y,reset:$,control:ee,formState:{errors:et}}=(0,d.cI)(),eo=async e=>{let t={unidadeID:r.unidadeID,header:e.header,blocks:e.blocks,arrRemovedBlocks:G,arrRemovedItems:T,orientacoes:e.orientations};P(null),console.log("\uD83D\uDE80 ~ onSubmit:",t);try{await s.h.put("".concat(J,"/fornecedor/updateData"),t).then(e=>{I.ZP.success(Z.OD.successUpdate),H(!z)})}catch(o){console.log(o)}},en=(e,t,o,n)=>{let i=n.itens;i=i.filter(t=>{let o=e.itens.some(e=>e.item&&t.id===e.item.id);return!o});let s=[...o];s[t].optionsBlock.itens=i,B(s)},ei=e=>{var t;let o=[...S];o[e].itens.push({ordem:(null===(t=o[e].itens)||void 0===t?void 0:t.length)+1,obs:1,status:1,obrigatorio:1}),B(o),K("blocks.[".concat(e,"].itens.[").concat(o[e].itens.length-1,"].new"),!0),en(o[e],e,S,y)},es=(e,t,o)=>{if(console.log("\uD83D\uDE80 ~ length:",S[t].itens.length),1===S[t].itens.length){I.ZP.error("Voc\xea deve ter ao menos um item!");return}let n=[...T];n.push(e),X(n);let i=[...S],s=[...S[t].itens];s.splice(o,1),i[t].itens=s,B(i),K("blocks.[".concat(t,"].itens"),s),en(S[t],t,S,y)},ea=(e,t)=>{let o=!0;if(e&&e.itens.map(e=>{1==e.hasPending&&(o=!1)}),!o){I.ZP.error("Este bloco n\xe3o pode ser removido pois possui itens respondidos em um formul\xe1rio");return}let n=[...G];n.push(e.dados.parFornecedorBlocoID),U(n);let i=[...S];i.splice(t,1),B(i),K("blocks",i),I.ZP.success("Bloco pr\xe9-removido. Salve para concluir!")},el=e=>{A(null),s.h.post("/formularios/fornecedor/getItemScore",{data:e}).then(e=>{A(e.data)}),A&&R(!0)},er=()=>{let e=[...S];e.push({dados:{ordem:e.length+1,nome:"",status:1},categorias:[],atividades:[],optionsBlock:{itens:[...y.itens],alternativas:[...y.alternativas]},itens:[{parFormularioID:1,new:!0,ordem:"1",nome:"",status:1,item:null,alternativa:null}]}),B(e)},ed=()=>{try{s.h.post("".concat(J,"/fornecedor/getData"),{unidadeID:r.unidadeID}).then(e=>{console.log("getdata",e.data),P(e.data.header),B(e.data.blocks),C({categorias:e.data.options.categorias,atividades:e.data.options.atividades,itens:e.data.options.itens,alternativas:e.data.options.alternativas}),F(e.data.orientations),$(e.data),setTimeout(()=>{e.data.blocks.map((t,o)=>{en(t,o,e.data.blocks,e.data.options)})},3e3)})}catch(e){console.log(e)}};return(0,i.useEffect)(()=>{ed()},[a,z]),(0,n.jsx)(n.Fragment,{children:j?(0,n.jsxs)("form",{onSubmit:Y(eo),children:[j&&(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(g.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>Y(eo),type:"edit"}),(0,n.jsx)(m.Z,{children:(0,n.jsx)(u.Z,{component:"nav","aria-label":"main mailbox",children:(0,n.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(x.ZP,{item:!0,md:4,xs:4,children:(0,n.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Nome do Campo"})}),(0,n.jsx)(x.ZP,{item:!0,md:3,xs:4,children:(0,n.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostra no Formul\xe1rio"})}),(0,n.jsx)(x.ZP,{item:!0,md:3,xs:4,children:(0,n.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Obrigat\xf3rio"})}),j.map((e,t)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"hidden",name:"header.[".concat(t,"].parFornecedorID"),defaultValue:e.parFornecedorID,...Q("header.[".concat(t,"].parFornecedorID"))}),(0,n.jsx)(x.ZP,{item:!0,md:4,xs:6,children:e.nomeCampo}),(0,n.jsx)(x.ZP,{item:!0,md:3,xs:3,children:(0,n.jsx)(W.Z,{title:"",name:"header.[".concat(t,"].mostra"),value:e.mostra,register:Q,disabled:"cnpj"==e.nomeColuna})}),(0,n.jsx)(x.ZP,{item:!0,md:3,xs:3,children:(0,n.jsx)(W.Z,{title:"",name:"header.[".concat(t,"].obrigatorio"),value:e.obrigatorio,register:Q,disabled:"cnpj"==e.nomeColuna})})]}))]})})})]}),!S&&(0,n.jsx)(k.Z,{}),S&&S.map((e,i)=>{var s,a,l,r,d,u,j,b,Z,g;return(0,n.jsx)(c.Z,{md:12,sx:{mt:4},children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)("input",{type:"hidden",name:"blocks.[".concat(i,"].dados.parFornecedorBlocoID"),value:e.dados.parFornecedorBlocoID,...Q("blocks.[".concat(i,"].dados.parFornecedorBlocoID"))}),(0,n.jsxs)(x.ZP,{container:!0,spacing:4,children:[(0,n.jsx)(M.Z,{xs:12,md:1,title:"Sequ\xeancia",name:"blocks.[".concat(i,"].dados.ordem"),value:e.dados.ordem,required:!0,control:ee,errors:null==et?void 0:null===(s=et.blocks)||void 0===s?void 0:null===(a=s[i])||void 0===a?void 0:null===(l=a.dados)||void 0===l?void 0:l.ordem}),(0,n.jsx)(M.Z,{xs:12,md:9,title:"Nome do Bloco",name:"blocks.[".concat(i,"].dados.nome"),value:e.dados.nome,required:!0,control:ee,errors:null==et?void 0:null===(r=et.blocks)||void 0===r?void 0:null===(d=r[i])||void 0===d?void 0:null===(u=d.dados)||void 0===u?void 0:u.nome}),(0,n.jsx)(V.Z,{xs:12,md:1,title:"Ativo",name:"blocks.[".concat(i,"].dados.status"),value:S[i].dados.status,register:Q}),(0,n.jsx)(V.Z,{xs:12,md:1,title:"Observa\xe7\xe3o",name:"blocks.[".concat(i,"].dados.obs"),value:S[i].dados.obs,register:Q}),(0,n.jsx)(O.Z,{xs:12,md:5,multiple:!0,title:"Mostrar esse bloco quando \xe9",name:"blocks.[".concat(i,"].categorias"),value:e.categorias,required:!0,options:y.categorias,register:Q,setValue:K,control:ee,errors:null==et?void 0:null===(j=et.blocks)||void 0===j?void 0:null===(b=j[i])||void 0===b?void 0:b.categorias}),(0,n.jsx)(O.Z,{xs:12,md:7,multiple:!0,title:"Atividade(s)",name:"blocks.[".concat(i,"].atividades"),value:e.atividades,required:!1,options:y.atividades,register:Q,setValue:K,control:ee,errors:null==et?void 0:null===(Z=et.blocks)||void 0===Z?void 0:null===(g=Z[i])||void 0===g?void 0:g.atividades})]}),(0,n.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600,mt:4},children:"Itens"}),e.itens&&e.itens.map((e,s)=>{var a,l,r,d,c,m,u,j,b,Z,g,f,I;return(0,n.jsxs)(x.ZP,{id:"item-".concat(i,"-").concat(s),container:!0,spacing:2,sx:{my:1},children:[(0,n.jsx)("input",{type:"hidden",name:"blocks.[".concat(i,"].itens.[").concat(s,"].parFornecedorBlocoItemID"),value:e.parFornecedorBlocoItemID,...Q("blocks.[".concat(i,"].itens.[").concat(s,"].parFornecedorBlocoItemID"))}),(0,n.jsx)(M.Z,{xs:12,md:1,title:"Sequ\xeancia",name:"blocks.[".concat(i,"].itens.[").concat(s,"].ordem"),value:e.ordem,required:!0,control:ee,errors:null==et?void 0:null===(a=et.blocks)||void 0===a?void 0:null===(l=a[i])||void 0===l?void 0:null===(r=l.itens)||void 0===r?void 0:null===(d=r[s])||void 0===d?void 0:d.ordem}),(0,n.jsx)(O.Z,{xs:12,md:4,title:S[i].itens[s].itemID?"Item [".concat(S[i].itens[s].itemID,"]"):"Item",name:"blocks.[".concat(i,"].itens.[").concat(s,"].item"),value:null!==(t=S[i].itens[s].item)&&void 0!==t?t:null,required:!0,options:null===(c=S[i].optionsBlock)||void 0===c?void 0:c.itens,register:Q,setValue:K,control:ee,errors:null==et?void 0:null===(m=et.blocks)||void 0===m?void 0:null===(u=m[i])||void 0===u?void 0:null===(j=u.itens)||void 0===j?void 0:null===(b=j[s])||void 0===b?void 0:b.item}),(0,n.jsx)(O.Z,{xs:12,md:2,title:"Alternativa",name:"blocks.[".concat(i,"].itens.[").concat(s,"].alternativa"),value:null!==(o=S[i].itens[s].alternativa)&&void 0!==o?o:null,required:!0,options:y.alternativas,register:Q,setValue:K,control:ee,errors:null==et?void 0:null===(Z=et.blocks)||void 0===Z?void 0:null===(g=Z[i])||void 0===g?void 0:null===(f=g.itens)||void 0===f?void 0:null===(I=f[s])||void 0===I?void 0:I.alternativa}),(0,n.jsx)(V.Z,{xs:12,md:1,title:"Ativo",index:s,name:"blocks.[".concat(i,"].itens.[").concat(s,"].status"),value:S[i].itens[s].status,register:Q}),(0,n.jsx)(V.Z,{xs:12,md:1,title:"Obs",index:s,name:"blocks.[".concat(i,"].itens.[").concat(s,"].obs"),value:S[i].itens[s].obs,register:Q}),(0,n.jsx)(V.Z,{xs:12,md:1,title:"Obrigat\xf3rio",index:s,name:"blocks.[".concat(i,"].itens.[").concat(s,"].obrigatorio"),value:S[i].itens[s].obrigatorio,register:Q}),(0,n.jsx)(x.ZP,{item:!0,xs:12,md:1,children:(0,n.jsxs)(p.Z,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,n.jsx)(v.Z,{variant:"caption",children:0==s?"Pontua\xe7\xe3o":""}),(0,n.jsx)(h.Z,{style:0===e.pontuacao?{opacity:.3}:{},title:e.parFornecedorBlocoID?"Definir pontua\xe7\xe3o para as respostas":"Salve o bloco para definir a pontua\xe7\xe3o",disabled:!e.parFornecedorBlocoID,onClick:()=>el(e),children:(0,n.jsx)(D.Z,{icon:"ic:baseline-assessment"})})]})}),(0,n.jsx)(_.Z,{xs:12,md:1,title:0==s?"Remover":"",index:i,removeItem:es,item:e,pending:e.hasPending,textSuccess:"Remover este item",textError:"Este item n\xe3o pode mais ser removido pois j\xe1 foi respondido em um formul\xe1rio"})]},s)}),N&&q&&(0,n.jsx)(E,{openModal:N,setOpenModalConfirmScore:R,itemScore:q,setItemScore:A}),(0,n.jsx)(x.ZP,{container:!0,spacing:4,sx:{mt:4},children:(0,n.jsxs)(x.ZP,{item:!0,xs:12,md:12,children:[(0,n.jsx)(h.Z,{variant:"outlined",color:"primary",startIcon:(0,n.jsx)(D.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){ei(i)},children:"Inserir Item"}),(0,n.jsx)(h.Z,{variant:"outlined",color:"error",startIcon:(0,n.jsx)(D.Z,{icon:"tabler:trash-filled"}),onClick(){ea(e,i)},sx:{ml:2},children:"Remover Bloco"})]})})]})},i)}),(0,n.jsx)(x.ZP,{item:!0,xs:12,md:12,sx:{mt:4},children:(0,n.jsx)(h.Z,{variant:"outlined",color:"primary",startIcon:(0,n.jsx)(D.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){er()},children:"Inserir Bloco"})}),w&&(0,n.jsx)(c.Z,{md:12,sx:{mt:4},children:(0,n.jsx)(m.Z,{children:(0,n.jsx)(x.ZP,{container:!0,spacing:4,children:(0,n.jsx)(M.Z,{xs:12,md:12,title:"Orienta\xe7\xf5es",name:"orientations.obs",required:!1,value:null==w?void 0:w.obs,multiline:!0,rows:4,control:ee})})})})]}):(0,n.jsx)(k.Z,{})})},z=e=>{var t,o;let{id:a}=e,{user:l,loggedUnity:p}=(0,i.useContext)(f.V),[j,P]=(0,i.useState)(),[y,C]=(0,i.useState)(),[S,B]=(0,i.useState)(null),[w,F]=(0,i.useState)([]),[N,R]=(0,i.useState)(null),[q,E]=(0,i.useState)(!1),[A,z]=(0,i.useState)([]),H=b(),T=H.pathname,{setId:X}=(0,i.useContext)(r.X),{setValue:G,register:U,reset:L,control:J,handleSubmit:K,formState:{errors:Q}}=(0,d.cI)(),Y=async e=>{let t={unidadeID:p.unidadeID,header:e.header,products:e.products,blocks:e.blocks,arrRemovedItems:A,orientacoes:e.orientacoes};P(null),console.log("onSubmit: ",t);try{await s.h.put("".concat(T,"/recebimentoMp/updateData"),t).then(e=>{I.ZP.success(Z.OD.successUpdate),E(!q)})}catch(o){console.log(o)}},$=e=>{let t=[...w];t[e].itens.push({ordem:t[e].itens.length+1,obs:1,status:1,obrigatorio:1}),F(t),en(t[e],e,w,S)},ee=()=>{let e=[...w];e.push({dados:{ordem:e.length+1,nome:"",status:1},itens:[{ordem:1,obs:1,status:1,obrigatorio:1}]}),F(e)},et=()=>{try{s.h.post("".concat(T,"/recebimentoMp/getData"),{unidadeID:p.unidadeID}).then(e=>{console.log("getData: ",e.data),P(e.data.header),C(e.data.products),F(e.data.blocks),R(e.data.orientacoes.obs),B(e.data.options),L(e.data),setTimeout(()=>{e.data.blocks.map((t,o)=>{en(t,o,e.data.blocks,e.data.options)})},3e3)})}catch(e){console.log(e)}},eo=(e,t,o)=>{if(console.log("\uD83D\uDE80 ~ length:",w[t].itens.length),1===w[t].itens.length){I.ZP.error("Voc\xea deve ter ao menos um item!");return}let n=[...A];n.push(e),z(n);let i=[...w],s=[...w[t].itens];s.splice(o,1),i[t].itens=s,F(i),console.log("\uD83D\uDE80 ~ newBlock:",s),G("blocks.[".concat(t,"].itens"),s),en(w[t],t,w,S)},en=(e,t,o,n)=>{let i=n.itens;i=i.filter(t=>{let o=e.itens.some(e=>e.item&&t.id===e.item.id);return!o});let s=[...o];s[t].optionsBlock.itens=i,F(s)};return(0,i.useEffect)(()=>{et()},[a,q]),console.log("errors: ",Q),(0,n.jsx)(n.Fragment,{children:j?(0,n.jsxs)("form",{onSubmit:K(Y),children:[j&&(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(g.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>K(Y),type:"edit"}),(0,n.jsx)(m.Z,{children:(0,n.jsx)(u.Z,{component:"nav","aria-label":"main mailbox",children:(0,n.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(x.ZP,{item:!0,md:4,xs:4,children:(0,n.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Nome do Campo"})}),(0,n.jsx)(x.ZP,{item:!0,md:3,xs:4,children:(0,n.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostra no Formul\xe1rio"})}),(0,n.jsx)(x.ZP,{item:!0,md:3,xs:4,children:(0,n.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Obrigat\xf3rio"})}),j.map((e,t)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"hidden",name:"header.[".concat(t,"].parRecebimentompID"),defaultValue:e.parRecebimentompID,...U("headers.[".concat(t,"].parRecebimentompID"))}),(0,n.jsx)(x.ZP,{item:!0,md:4,xs:6,children:e.nomeCampo}),(0,n.jsx)(x.ZP,{item:!0,md:3,xs:3,children:(0,n.jsx)(W.Z,{title:"",name:"header.[".concat(t,"].mostra"),value:e.mostra,register:U})}),(0,n.jsx)(x.ZP,{item:!0,md:3,xs:3,children:(0,n.jsx)(W.Z,{title:"",name:"header.[".concat(t,"].obrigatorio"),value:e.obrigatorio,register:U})})]}))]})})})]}),y&&(0,n.jsx)(c.Z,{sx:{mt:4},children:(0,n.jsx)(m.Z,{children:(0,n.jsx)(u.Z,{component:"nav","aria-label":"main mailbox",children:(0,n.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(x.ZP,{item:!0,md:4,xs:4,children:(0,n.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Nome do Campo"})}),(0,n.jsx)(x.ZP,{item:!0,md:3,xs:4,children:(0,n.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostra no Formul\xe1rio"})}),(0,n.jsx)(x.ZP,{item:!0,md:3,xs:4,children:(0,n.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Obrigat\xf3rio"})}),y.map((e,t)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"hidden",name:"products.[".concat(t,"].parRecebimentoMpProdutoID"),defaultValue:e.parRecebimentompProdutoID,...U("products.[".concat(t,"].parRecebimentoMpProdutoID"))}),(0,n.jsx)(x.ZP,{item:!0,md:4,xs:6,children:e.nomeCampo}),(0,n.jsx)(x.ZP,{item:!0,md:3,xs:3,children:(0,n.jsx)(W.Z,{title:"",name:"products.[".concat(t,"].mostra"),value:e.mostra,register:U})}),(0,n.jsx)(x.ZP,{item:!0,md:3,xs:3,children:(0,n.jsx)(W.Z,{title:"",name:"products.[".concat(t,"].obrigatorio"),value:e.obrigatorio,register:U})})]}))]})})})}),w&&w.map((e,i)=>{var s,a,l,r,d,u;return(0,n.jsx)(c.Z,{md:12,sx:{mt:4},children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:4},children:"Bloco ".concat(i+1)}),(0,n.jsx)("input",{type:"hidden",name:"blocks.[".concat(i,"].parRecebimentompBlocoID"),defaultValue:e.dados.parRecebimentompBlocoID,...U("blocks.[".concat(i,"].parRecebimentompBlocoID"))}),(0,n.jsxs)(x.ZP,{container:!0,spacing:4,children:[(0,n.jsx)(M.Z,{xs:12,md:1,title:"Sequ\xeancia",name:"blocks.[".concat(i,"].dados.ordem"),value:e.dados.ordem,required:!0,control:J,errors:null==Q?void 0:null===(s=Q.blocks)||void 0===s?void 0:null===(a=s[i])||void 0===a?void 0:null===(l=a.dados)||void 0===l?void 0:l.ordem}),(0,n.jsx)(M.Z,{xs:12,md:9,title:"Nome do Bloco",name:"blocks.[".concat(i,"].dados.nome"),value:e.dados.nome,required:!0,control:J,errors:null==Q?void 0:null===(r=Q.blocks)||void 0===r?void 0:null===(d=r[i])||void 0===d?void 0:null===(u=d.dados)||void 0===u?void 0:u.nome}),(0,n.jsx)(V.Z,{xs:12,md:1,title:"Ativo",name:"blocks.[".concat(i,"].dados.status"),value:w[i].dados.status,register:U}),(0,n.jsx)(V.Z,{xs:12,md:1,title:"Observa\xe7\xe3o",name:"blocks.[".concat(i,"].dados.obs"),value:w[i].dados.obs,register:U})]}),(0,n.jsxs)(x.ZP,{container:!0,spacing:4,sx:{mt:0},children:[(0,n.jsx)(x.ZP,{item:!0,xs:12,md:12,children:(0,n.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Itens"})}),e.itens&&e.itens.map((e,s)=>{var a,l,r,d,c,m,u,x,v,p,h,j;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"hidden",name:"blocks.[".concat(i,"].itens.[").concat(s,"].parRecebimentompBlocoItemID"),defaultValue:e.parRecebimentompBlocoItemID,...U("blocks.[".concat(i,"].itens.[").concat(s,"].parRecebimentompBlocoItemID"))}),(0,n.jsx)(M.Z,{xs:12,md:1,title:"Sequ\xeancia",name:"blocks.[".concat(i,"].itens.[").concat(s,"].ordem"),value:e.ordem,required:!0,control:J,errors:null==Q?void 0:null===(a=Q.blocks)||void 0===a?void 0:null===(l=a[i])||void 0===l?void 0:null===(r=l.itens)||void 0===r?void 0:null===(d=r[s])||void 0===d?void 0:d.ordem}),(0,n.jsx)(O.Z,{xs:12,md:5,title:w[i].itens[s].itemID?"Item [".concat(w[i].itens[s].itemID,"]"):"Item",name:"blocks.[".concat(i,"].itens.[").concat(s,"].item"),value:null!==(t=w[i].itens[s].item)&&void 0!==t?t:null,required:!0,options:S.itens,register:U,setValue:G,control:J,errors:null==Q?void 0:null===(c=Q.blocks)||void 0===c?void 0:null===(m=c[i])||void 0===m?void 0:null===(u=m.itens)||void 0===u?void 0:null===(x=u[s])||void 0===x?void 0:x.item}),(0,n.jsx)(O.Z,{xs:12,md:2,title:"Alternativa",name:"blocks.[".concat(i,"].itens.[").concat(s,"].alternativa"),value:null!==(o=w[i].itens[s].alternativa)&&void 0!==o?o:null,required:!0,options:S.alternativas,register:U,setValue:G,control:J,errors:null==Q?void 0:null===(v=Q.blocks)||void 0===v?void 0:null===(p=v[i])||void 0===p?void 0:null===(h=p.itens)||void 0===h?void 0:null===(j=h[s])||void 0===j?void 0:j.alternativa}),(0,n.jsx)(V.Z,{xs:12,md:1,title:"Ativo",index:s,name:"blocks.[".concat(i,"].itens.[").concat(s,"].status"),value:w[i].itens[s].status,register:U}),(0,n.jsx)(V.Z,{xs:12,md:1,title:"Obs",index:s,name:"blocks.[".concat(i,"].itens.[").concat(s,"].obs"),value:w[i].itens[s].obs,register:U}),(0,n.jsx)(V.Z,{xs:12,md:1,title:"Obrigat\xf3rio",index:s,name:"blocks.[".concat(i,"].itens.[").concat(s,"].obrigatorio"),value:w[i].itens[s].obrigatorio,register:U}),(0,n.jsx)(_.Z,{xs:12,md:1,title:0==s?"Remover":"",index:i,removeItem:eo,item:e,pending:e.hasPending,textSuccess:"Remover este item",textError:"Este item n\xe3o pode mais ser removido pois j\xe1 foi respondido em um formul\xe1rio"})]})}),(0,n.jsx)(x.ZP,{item:!0,xs:12,md:12,children:(0,n.jsx)(h.Z,{variant:"outlined",color:"primary",startIcon:(0,n.jsx)(D.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){$(i)},children:"Inserir Item"})})]})]})},i)}),(0,n.jsx)(x.ZP,{item:!0,xs:12,md:12,sx:{mt:4},children:(0,n.jsx)(h.Z,{variant:"outlined",color:"primary",startIcon:(0,n.jsx)(D.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){ee()},children:"Inserir Bloco"})}),j&&(0,n.jsx)(c.Z,{md:12,sx:{mt:4},children:(0,n.jsx)(m.Z,{children:(0,n.jsx)(x.ZP,{container:!0,spacing:4,children:(0,n.jsx)(x.ZP,{item:!0,xs:12,md:12,children:(0,n.jsx)(M.Z,{xs:12,md:12,title:"Orienta\xe7\xf5es",name:"orientacoes.obs",required:!1,value:null==N?void 0:N.obs,multiline:!0,rows:4,control:J})})})})})]}):(0,n.jsx)(k.Z,{})})},H=()=>{let[e,t]=(0,i.useState)(null),o=(0,j.useRouter)(),d=o.pathname,{setTitle:c}=(0,i.useContext)(l.f),{id:m}=(0,i.useContext)(r.X);(0,i.useEffect)(()=>{let e=async()=>{await s.h.get(d).then(e=>{t(e.data),c({title:"Formul\xe1rios",subtitle:{id:m,count:e.data.length,new:!1}})})};e()},[m]);let u=(0,Z.OL)(d,[{title:"ID",field:"id",size:.2},{title:"Nome",field:"nome",size:.8}]);return(0,n.jsx)(n.Fragment,{children:e?m&&m>0?1==m?(0,n.jsx)(A,{id:m}):2==m?(0,n.jsx)(z,{id:m}):(0,n.jsx)("h3",{children:"Em desenvolvimento..."}):(0,n.jsx)(a.Z,{result:e,columns:u}):(0,n.jsx)(k.Z,{})})};var T=H},40372:function(e,t,o){"use strict";o.d(t,{Z:function(){return D}});var n=o(85893),i=o(67294),s=o(87630),a=o(75680),l=o(61953),r=o(67836),d=o(80562),c=o(50853),m=o(11163),u=o.n(m),x=o(75084),v=o(41664),p=o.n(v),h=o(40039),j=o(21609);let b=e=>{let{btnNew:t,btnPrint:o,openModal:s}=e,a=u(),{routes:l}=(0,i.useContext)(h.V);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex items-center justify-end sm:justify-normal gap-4 my-2 ",children:[(0,n.jsx)("div",{children:o&&(0,n.jsxs)(x.Z,{onClick:()=>window.print(),type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,n.jsx)(j.Z,{icon:"mdi:printer"}),(0,n.jsx)("span",{className:"hidden sm:block",children:"Imprimir"})]})}),(0,n.jsx)("div",{className:"",children:t&&l.find(e=>e.rota===a.pathname&&e.inserir)&&(0,n.jsx)(p(),{href:s?"":"".concat(a.pathname,"/novo"),children:(0,n.jsxs)(x.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",onClick:s||null,sx:{display:"flex",gap:2},children:[(0,n.jsx)(j.Z,{icon:"ic:outline-plus"}),(0,n.jsx)("span",{className:"hidden sm:block",children:"Novo"})]})})})]})})};var Z=o(61225);let g=e=>((0,Z.Z)("(min-width:640px)"),(0,n.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"row",gap:2,alignItems:"baseline",justifyContent:"space-between",p:e=>e.spacing(8,0,0,0)},children:[(0,n.jsxs)(l.Z,{sx:{display:"flex",gap:"8px",textAlig:"end"},children:[(0,n.jsx)(r.Z,{size:"medium",value:e.value,onChange:e.onChange,placeholder:"Buscar…",variant:"standard",InputProps:{startAdornment:(0,n.jsx)(l.Z,{sx:{mr:2,display:"flex"},children:(0,n.jsx)(j.Z,{icon:"mdi:magnify",fontSize:20})}),endAdornment:(0,n.jsx)(d.Z,{size:"medium",title:"Clear","aria-label":"Clear",onClick:e.clearSearch,children:(0,n.jsx)(j.Z,{icon:"mdi:close",fontSize:20})})},sx:{width:{xs:1,sm:"auto"},"& .MuiInputBase-root > svg":{mr:2}}}),(0,n.jsx)("div",{className:"hidden sm:block",children:(0,n.jsx)(c.M,{})})]}),(0,n.jsx)(b,{btnNew:e.buttonsHeader.btnNew,btnPrint:e.buttonsHeader.btnPrint,openModal:e.buttonsHeader.openModal})]}));var f=o(60565),I=o(83830);let k=e=>{let{rows:t,columns:o,buttonsHeader:l}=e,{handleSearch:r,pageSize:d,setPageSize:c,searchText:m,filteredData:u,setData:x,data:v}=(0,i.useContext)(f.f),{setId:p}=(0,i.useContext)(I.X);return x(t),(0,n.jsx)(s._,{localeText:a.F.components.MuiDataGrid.defaultProps.localeText,autoHeight:!0,columns:o,pageSize:d,rowsPerPageOptions:[10,20,30,40,50,100],components:{Toolbar:g},rows:m?u:v,onCellClick(e,t){p(e.row.id)},onPageSizeChange:e=>c(e),sx:{"& .MuiDataGrid-cell":{cursor:"pointer",overflow:"scroll"}},componentsProps:{toolbar:{value:m,clearSearch:()=>r(""),onChange:e=>r(e.target.value),buttonsHeader:l}}})};var D=k}},function(e){e.O(0,[4186,1445,1111,5999,7536,2064,2187,1082,8213,9774,2888,179],function(){return e(e.s=92689)}),_N_E=e.O()}]);