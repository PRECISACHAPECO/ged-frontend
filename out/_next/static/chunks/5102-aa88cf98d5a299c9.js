"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5102],{93778:function(e,o,i){i.r(o);var n=i(85893),l=i(60664),t=i(61953),r=i(79072),a=i(54225),s=i(29630),c=i(86501),d=i(21609),u=i(17288);i(61310);var x=i(67294),p=i(82747),m=i(39976);let v=e=>{var o,i,v,f,h,j,b;let{handlePrev:Z,dataGlobal:y,setDataGlobal:g}=e,[S,C]=(0,x.useState)(!0),[w,T]=(0,x.useState)(!1),D=(0,u.a)(),{createNewNotification:I}=(0,x.useContext)(m.u),M=()=>{if(y.sectionOne.email&&(0,p.dI)(y.sectionOne.email)){let e={cnpj:y.sectionOne.cnpj,nomeFornecedor:y.sectionOne.nomeFantasia,destinatario:y.sectionOne.email};l.h.post("/registro-fornecedor/sendMailNewFornecedor",{data:e}).then(e=>{c.ZP.success("E-mail enviado com sucesso")}).catch(e=>{console.error("Erro ao enviar email",e)})}},z=e=>{let o={titulo:"Cadastro realizado com sucesso",descricao:"Ol\xe1 ".concat(e.factory.nomeFantasia,", o fornecedor ").concat(y.sectionOne.nomeFantasia," acabou de realizar o cadastro."),url:null,urlID:null,tipoNotificacaoID:1,usuarioGeradorID:null,usuarioID:0,unidadeID:e.factory.unidadeID,papelID:1},i={titulo:"Cadastro realizado com sucesso",descricao:"Ol\xe1 ".concat(y.sectionOne.nomeFantasia,", seja bem-vindo(a) ao GEDagro!"),url:null,urlID:null,tipoNotificacaoID:1,usuarioGeradorID:null,usuarioID:e.supplier.usuarioID,unidadeID:e.supplier.unidadeID};I(i),I(o)},F=()=>{T(!0),l.h.post("/registro-fornecedor/registerNew",{data:y}).then(e=>{if(201===e.status)c.ZP.error(e.data.message);else{z(e.data),c.ZP.success("Cadastro efetuado com sucesso!");let{cnpj:o,senha:i}=null==y?void 0:y.sectionOne;return M(),D.loginFornecedor({cnpj:o,password:i,rememberMe:S})}}).then(()=>{setTimeout(()=>{c.ZP.success("Efetuando login no sistema")},2e3)}).catch(e=>{c.ZP.error("Erro: "+e.message)}).finally(()=>{T(!1)})};return(0,x.useEffect)(()=>{var e,o,i,n,l,t;let r={logradouro:null==y?void 0:null===(e=y.sectionTwo)||void 0===e?void 0:e.logradouro,numero:null==y?void 0:null===(o=y.sectionTwo)||void 0===o?void 0:o.numero,complemento:null==y?void 0:null===(i=y.sectionTwo)||void 0===i?void 0:i.complemento,bairro:null==y?void 0:null===(n=y.sectionTwo)||void 0===n?void 0:n.bairro,cidade:null==y?void 0:null===(l=y.sectionTwo)||void 0===l?void 0:l.cidade,uf:null==y?void 0:null===(t=y.sectionTwo)||void 0===t?void 0:t.uf},a=Object.entries(r).map(e=>{let[o,i]=e;if(i)return"".concat(i,", ")}).join("").slice(0,-2)+".";g({...y,sectionThree:{endereco:a}})},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.Z,{sx:{mb:4},children:[(0,n.jsx)(s.Z,{variant:"h5",children:"Verifique as informa\xe7\xf5es"}),(0,n.jsx)(s.Z,{sx:{color:"text.secondary"},children:"Envie se estiver tudo certo"})]}),(0,n.jsx)(r.ZP,{container:!0,spacing:5,children:(0,n.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,n.jsxs)(t.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,n.jsxs)(t.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(s.Z,{variant:"caption",sx:{color:"text.secondary"},children:"CNPJ"}),(0,n.jsx)(s.Z,{sx:{color:"text.primary"},children:null==y?void 0:null===(o=y.sectionOne)||void 0===o?void 0:o.cnpj})]}),(0,n.jsxs)(t.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(s.Z,{variant:"caption",sx:{color:"text.secondary"},children:"Nome Fantasia"}),(0,n.jsx)(s.Z,{sx:{color:"text.primary"},children:null==y?void 0:null===(i=y.sectionOne)||void 0===i?void 0:i.nomeFantasia})]}),(0,n.jsxs)(t.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(s.Z,{variant:"caption",sx:{color:"text.secondary"},children:"Raz\xe3o Social"}),(0,n.jsx)(s.Z,{sx:{color:"text.primary"},children:null==y?void 0:null===(v=y.sectionOne)||void 0===v?void 0:v.razaoSocial})]}),(0,n.jsxs)(t.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(s.Z,{variant:"caption",sx:{color:"text.secondary"},children:"Email Institucional"}),(0,n.jsx)(s.Z,{sx:{color:"text.primary"},children:null==y?void 0:null===(f=y.sectionOne)||void 0===f?void 0:f.email})]}),(0,n.jsxs)(t.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(s.Z,{variant:"caption",sx:{color:"text.secondary"},children:"Telefone"}),(0,n.jsx)(s.Z,{sx:{color:"text.primary"},children:null==y?void 0:null===(h=y.sectionTwo)||void 0===h?void 0:h.telefone})]}),(0,n.jsxs)(t.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(s.Z,{variant:"caption",sx:{color:"text.secondary"},children:"Cep"}),(0,n.jsx)(s.Z,{sx:{color:"text.primary"},children:null==y?void 0:null===(j=y.sectionTwo)||void 0===j?void 0:j.cep})]}),(0,n.jsxs)(t.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(s.Z,{variant:"caption",sx:{color:"text.secondary"},children:"Endere\xe7o"}),(0,n.jsx)(s.Z,{sx:{color:"text.primary"},children:null==y?void 0:null===(b=y.sectionThree)||void 0===b?void 0:b.endereco})]})]}),(0,n.jsxs)(t.Z,{sx:{display:"flex",justifyContent:"space-between",mt:5},children:[(0,n.jsx)(a.Z,{color:"secondary",variant:"contained",onClick:Z,startIcon:(0,n.jsx)(d.Z,{icon:"mdi:chevron-left",fontSize:20}),children:"Anterior"}),(0,n.jsx)(a.Z,{type:"submit",onClick:F,color:"success",variant:"contained",disabled:w,children:"Concluir"})]})]})})]})};o.default=v},29342:function(e,o,i){i.r(o);var n=i(85893),l=i(61953),t=i(79072),r=i(54225),a=i(29630),s=i(87536),c=i(60664),d=i(21609),u=i(29308),x=i(67294);let p=e=>{var o,i,p,m,v,f,h,j;let{handleNext:b,handlePrev:Z,setDataGlobal:y,dataGlobal:g}=e,{control:S,handleSubmit:C,setValue:w,formState:{errors:T}}=(0,s.cI)({}),D=e=>{y({...g,sectionTwo:{...g.sectionTwo,...e}}),b()},I=async e=>{9===e.length&&c.h.get("https://viacep.com.br/ws/".concat(e,"/json/")).then(e=>{M(e.data)})},M=e=>{w("logradouro",null==e?void 0:e.logradouro),w("bairro",null==e?void 0:e.bairro),w("cidade",null==e?void 0:e.localidade),w("uf",null==e?void 0:e.uf)};return(0,x.useEffect)(()=>{var e,o,i,n,l,t,r,a;w("telefone",null==g?void 0:null===(e=g.sectionTwo)||void 0===e?void 0:e.telefone),w("cep",null==g?void 0:null===(o=g.sectionTwo)||void 0===o?void 0:o.cep),w("logradouro",null==g?void 0:null===(i=g.sectionTwo)||void 0===i?void 0:i.logradouro),w("numero",null==g?void 0:null===(n=g.sectionTwo)||void 0===n?void 0:n.numero),w("complemento",null==g?void 0:null===(l=g.sectionTwo)||void 0===l?void 0:l.complemento),w("bairro",null==g?void 0:null===(t=g.sectionTwo)||void 0===t?void 0:t.bairro),w("cidade",null==g?void 0:null===(r=g.sectionTwo)||void 0===r?void 0:r.cidade),w("uf",null==g?void 0:null===(a=g.sectionTwo)||void 0===a?void 0:a.uf)},[]),g&&(0,n.jsxs)("form",{onSubmit:C(D),children:[(0,n.jsxs)(l.Z,{sx:{mb:4},children:[(0,n.jsx)(a.Z,{variant:"h5",children:"Informa\xe7\xf5es opcionais"}),(0,n.jsx)(a.Z,{sx:{color:"text.secondary"},children:"Insira as informa\xe7\xf5es opcionais"})]}),(0,n.jsxs)(t.ZP,{container:!0,spacing:5,children:[(0,n.jsx)(u.Z,{xs:12,md:6,title:"Telefone",name:"telefone",defaultValue:null==g?void 0:null===(o=g.sectionTwo)||void 0===o?void 0:o.telefone,mask:"telefone",control:S,errors:null==T?void 0:T.telefone}),(0,n.jsx)(u.Z,{xs:12,md:6,title:"Cep",name:"cep",defaultValue:null==g?void 0:null===(i=g.sectionTwo)||void 0===i?void 0:i.cep,mask:"cep2",control:S,errors:null==T?void 0:T.cnpj,onChange:e=>I(e)}),(0,n.jsx)(u.Z,{xs:12,md:6,title:"Rua",name:"logradouro",defaultValue:null==g?void 0:null===(p=g.sectionTwo)||void 0===p?void 0:p.logradouro,control:S,errors:null==T?void 0:T.logradouro}),(0,n.jsx)(u.Z,{xs:12,md:6,title:"N\xfamero",name:"numero",defaultValue:null==g?void 0:null===(m=g.sectionTwo)||void 0===m?void 0:m.numero,control:S,errors:null==T?void 0:T.numero}),(0,n.jsx)(u.Z,{xs:12,md:6,title:"Complemento",name:"complemento",defaultValue:null==g?void 0:null===(v=g.sectionTwo)||void 0===v?void 0:v.complemento,control:S,errors:null==T?void 0:T.complemento}),(0,n.jsx)(u.Z,{xs:12,md:6,title:"Bairro",name:"bairro",defaultValue:null==g?void 0:null===(f=g.sectionTwo)||void 0===f?void 0:f.bairro,control:S,errors:null==T?void 0:T.bairro}),(0,n.jsx)(u.Z,{xs:12,md:6,title:"Cidade",name:"cidade",defaultValue:null==g?void 0:null===(h=g.sectionTwo)||void 0===h?void 0:h.cidade,control:S,errors:null==T?void 0:T.cidade}),(0,n.jsx)(u.Z,{xs:12,md:6,title:"Estado",name:"uf",defaultValue:null==g?void 0:null===(j=g.sectionTwo)||void 0===j?void 0:j.uf,control:S,errors:null==T?void 0:T.uf,mask:"estado"}),(0,n.jsx)(t.ZP,{item:!0,xs:12,children:(0,n.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)(r.Z,{color:"secondary",variant:"contained",onClick:Z,startIcon:(0,n.jsx)(d.Z,{icon:"mdi:chevron-left",fontSize:20}),children:"Anterior"}),(0,n.jsx)(r.Z,{type:"submit",variant:"contained",onClick:C,endIcon:(0,n.jsx)(d.Z,{icon:"mdi:chevron-right",fontSize:20}),children:"Proximo"})]})})]})]})};o.default=p},25102:function(e,o,i){i.r(o),i.d(o,{default:function(){return g}});var n=i(85893),l=i(67294),t=i(44044),r=i(98948),a=i(94071),s=i(29630),c=i(29342),d=i(48996),u=i(93778),x=i(61953),p=i(67074),m=i(62097),v=i(41796),f=i(21609);let h=(0,p.ZP)(x.Z)(()=>({width:20,height:20,borderWidth:3,borderRadius:"50%",borderStyle:"solid"})),j=e=>{let{active:o,completed:i,error:l}=e,t=(0,m.Z)();return l?(0,n.jsx)(f.Z,{icon:"mdi:alert",fontSize:20,color:t.palette.error.main,transform:"scale(1.2)"}):i?(0,n.jsx)(f.Z,{icon:"mdi:check-circle",fontSize:20,color:t.palette.primary.main,transform:"scale(1.2)"}):(0,n.jsx)(h,{sx:{borderColor:o?"primary.main":(0,v.Fq)(t.palette.primary.main,.3)}})},b=(0,p.ZP)(x.Z)(e=>{let{theme:o}=e;return{[o.breakpoints.down("md")]:{"& .MuiStepper-horizontal:not(.MuiStepper-alternativeLabel)":{flexDirection:"column",alignItems:"flex-start"}},"& .MuiStep-root":{"& .step-label":{display:"flex",alignItems:"center",justifyContent:"center"},"& .step-number":{fontWeight:600,letterSpacing:.25,fontSize:"2.125rem",marginRight:o.spacing(2.5),color:o.palette.text.primary},"& .step-title":{fontWeight:500,fontSize:"0.875rem",letterSpacing:"0.1px",color:o.palette.text.primary},"& .step-subtitle":{fontWeight:400,fontSize:"0.75rem",letterSpacing:"0.4px",color:o.palette.text.secondary},"& .MuiStepLabel-root.Mui-disabled":{"& .step-number":{color:o.palette.text.disabled}},"& .Mui-error":{"& .MuiStepLabel-labelContainer, & .step-number, & .step-title, & .step-subtitle":{color:o.palette.error.main}}},"& .MuiStepConnector-root":{"& .MuiStepConnector-line":{borderWidth:3,borderRadius:3},"&.Mui-active, &.Mui-completed":{"& .MuiStepConnector-line":{borderColor:o.palette.primary.main}},"&.Mui-disabled .MuiStepConnector-line":{borderColor:(0,v.Fq)(o.palette.primary.main,.3)}},"& .MuiStepper-alternativeLabel":{"& .MuiStepConnector-root":{top:10},"& .MuiStepLabel-labelContainer":{display:"flex",alignItems:"center",flexDirection:"column","& > * + *":{marginTop:o.spacing(1)}}},"& .MuiStepper-vertical":{"& .MuiStep-root":{"& .step-label":{justifyContent:"flex-start"},"& .MuiStepContent-root":{borderWidth:3,marginLeft:o.spacing(2.25),borderColor:o.palette.primary.main},"& .button-wrapper":{marginTop:o.spacing(4)},"&.active + .MuiStepConnector-root .MuiStepConnector-line":{borderColor:o.palette.primary.main}},"& .MuiStepConnector-root":{marginLeft:o.spacing(2.25),"& .MuiStepConnector-line":{borderRadius:0}}}}}),Z=[{title:"Dados obrigat\xf3rios",subtitle:"Insira os dados obrigat\xf3rios"},{title:"Dados opcionais",subtitle:"Insira os dados opcionais"},{title:"Finalizar",subtitle:"Finalize o cadastro"}],y=()=>{let[e,o]=(0,l.useState)(0),[i,x]=(0,l.useState)(),p=()=>{o(e+1)},m=()=>{0!==e&&o(e-1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{sx:{mb:10},children:(0,n.jsx)(r.Z,{activeStep:e,children:Z.map((e,o)=>(0,n.jsx)(t.Z,{children:(0,n.jsx)(a.Z,{StepIconComponent:j,children:(0,n.jsxs)("div",{className:"step-label",children:[(0,n.jsx)(s.Z,{className:"step-number",children:"0".concat(o+1)}),(0,n.jsxs)("div",{children:[(0,n.jsx)(s.Z,{className:"step-title",children:e.title}),(0,n.jsx)(s.Z,{className:"step-subtitle",children:e.subtitle})]})]})})},o))})}),(e=>{switch(e){case 0:return(0,n.jsx)(d.default,{handleNext:p,setDataGlobal:x,dataGlobal:i});case 1:return(0,n.jsx)(c.default,{handleNext:p,handlePrev:m,setDataGlobal:x,dataGlobal:i});case 2:return(0,n.jsx)(u.default,{handlePrev:m,setDataGlobal:x,dataGlobal:i});default:return null}})(e)]})};var g=y}}]);