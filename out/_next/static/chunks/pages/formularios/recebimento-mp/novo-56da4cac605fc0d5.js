(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1421],{5071:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/recebimento-mp/novo",function(){return n(7224)}])},7224:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var o=n(85893);n(96729);var s=n(30120),l=n(49837),r=n(91359),a=n(79072),i=n(19604),c=n(86501),u=n(47842),d=n(84220),m=n(83830),f=n(40039),x=n(86887),h=n(87536),p=n(67294),b=n(60664),j=n(11163),_=n.n(j);let g=()=>{let{user:e,loggedUnity:t}=(0,p.useContext)(f.V),{setId:n}=(0,p.useContext)(m.X),[j,g]=(0,p.useState)([]),[w,Z]=(0,p.useState)(null),[N,v]=(0,p.useState)(!1),y=_(),{reset:C,register:D,getValues:E,setValue:I,control:P,watch:S,handleSubmit:k,clearErrors:M,setError:X,formState:{errors:F}}=(0,h.cI)(),O=async o=>{try{let s={model:o.model,profissionalID:e.profissionalID,unidadeID:t.unidadeID},l=await b.h.post("/formularios/recebimento-mp/insertData",s);l&&(c.ZP.success("Novo formul\xe1rio criado!"),n(l.data.recebimentoMpID),y.push("/formularios/recebimento-mp/"))}catch(r){console.log(r)}},T=async()=>{try{v(!0);let e=await b.h.get("/formularios/recebimento-mp/getModels/1");console.log(e.data),g(e.data),v(!1)}catch(t){console.log(t)}},V=e=>{Z(e)};return(0,p.useEffect)(()=>{T()},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{show:N}),(0,o.jsx)("form",{onSubmit:k(O),children:(0,o.jsx)(s.Z,{display:"flex",flexDirection:"column",sx:{gap:4},children:(0,o.jsxs)(l.Z,{children:[(0,o.jsx)(x.Z,{btnCancel:!0,btnNext:!0,disabled:!w,handleSubmit:()=>k(O),type:"new"}),(0,o.jsx)(r.Z,{children:(0,o.jsx)(a.ZP,{container:!0,spacing:4,children:j&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.Z,{xs:12,md:12,className:"order-1",title:"Modelo de formul\xe1rio",onChange:V,name:"model",options:null!=j?j:[],value:null,register:D,setValue:I,control:P}),w&&""!=w.cabecalho&&(0,o.jsx)(a.ZP,{item:!0,xs:12,md:12,className:"order-2",children:(0,o.jsx)(i.Z,{severity:"info",children:w.cabecalho})})]})})})]})})})]})};var w=n(60565);let Z=()=>{let{setTitle:e}=(0,p.useContext)(w.f);return(0,p.useEffect)(()=>{e({title:"Recebimento de Mat\xe9ria Prima",subtitle:{id:null,count:null,new:!0}})},[]),(0,o.jsx)(g,{})};var N=Z}},function(e){e.O(0,[1515,6319,8934,1959,477,6729,9774,2888,179],function(){return e(e.s=5071)}),_N_E=e.O()}]);