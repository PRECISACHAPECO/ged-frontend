"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7117],{17117:function(e,a,t){t.d(a,{Z:function(){return eN}});var o=t(85893),i=t(67294),l=t(87536),s=t(56531),r=t(29308),n=t(81284),c=t(95309),d=t(29630),u=t(22841),m=t(75158);let x=e=>{let{title:a,values:t,name:i,changeCategory:l,register:s,disabled:r}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.ZP,{disablePadding:!0,children:(0,o.jsx)(c.Z,{children:(0,o.jsx)(d.Z,{variant:"subtitle1",sx:{fontWeight:600},children:a})})}),t&&t.map((e,a)=>(0,o.jsx)(n.ZP,{disablePadding:!0,children:(0,o.jsxs)(c.Z,{children:[(0,o.jsx)("input",{type:"hidden",name:"".concat(i,".[").concat(a,"].id"),defaultValue:e.id,...s("".concat(i,".[").concat(a,"].id"))}),(0,o.jsx)(u.Z,{control:(0,o.jsx)(m.Z,{name:"".concat(i,"[").concat(a,"].checked"),disabled:!!r,...s("".concat(i,"[").concat(a,"].checked")),defaultChecked:1==e.checked,onClick:a=>l?l(e.id,!!a.target.checked):null}),label:e.nome})]})},a))]})};var p=t(79139),h=t(66136),v=t(79072),f=t(72389),g=t(80562),j=t(21609),b=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M16.88 9.1A4 4 0 0116 17H5a5 5 0 01-1-9.9V7a3 3 0 014.52-2.59A4.98 4.98 0 0117 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})})},y=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M531.3 574.4l.3-1.4c5.8-23.9 13.1-53.7 7.4-80.7-3.8-21.3-19.5-29.6-32.9-30.2-15.8-.7-29.9 8.3-33.4 21.4-6.6 24-.7 56.8 10.1 98.6-13.6 32.4-35.3 79.5-51.2 107.5-29.6 15.3-69.3 38.9-75.2 68.7-1.2 5.5.2 12.5 3.5 18.8 3.7 7 9.6 12.4 16.5 15 3 1.1 6.6 2 10.8 2 17.6 0 46.1-14.2 84.1-79.4 5.8-1.9 11.8-3.9 17.6-5.9 27.2-9.2 55.4-18.8 80.9-23.1 28.2 15.1 60.3 24.8 82.1 24.8 21.6 0 30.1-12.8 33.3-20.5 5.6-13.5 2.9-30.5-6.2-39.6-13.2-13-45.3-16.4-95.3-10.2-24.6-15-40.7-35.4-52.4-65.8zM421.6 726.3c-13.9 20.2-24.4 30.3-30.1 34.7 6.7-12.3 19.8-25.3 30.1-34.7zm87.6-235.5c5.2 8.9 4.5 35.8.5 49.4-4.9-19.9-5.6-48.1-2.7-51.4.8.1 1.5.7 2.2 2zm-1.6 120.5c10.7 18.5 24.2 34.4 39.1 46.2-21.6 4.9-41.3 13-58.9 20.2-4.2 1.7-8.3 3.4-12.3 5 13.3-24.1 24.4-51.4 32.1-71.4zm155.6 65.5c.1.2.2.5-.4.9h-.2l-.2.3c-.8.5-9 5.3-44.3-8.6 40.6-1.9 45 7.3 45.1 7.4zm191.4-388.2L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"})})},D=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM528.1 472h-32.2c-5.5 0-10.3 3.7-11.6 9.1L434.6 680l-46.1-198.7c-1.3-5.4-6.1-9.3-11.7-9.3h-35.4a12.02 12.02 0 00-11.6 15.1l74.2 276c1.4 5.2 6.2 8.9 11.6 8.9h32c5.4 0 10.2-3.6 11.6-8.9l52.8-197 52.8 197c1.4 5.2 6.2 8.9 11.6 8.9h31.8c5.4 0 10.2-3.6 11.6-8.9l74.4-276a12.04 12.04 0 00-11.6-15.1H647c-5.6 0-10.4 3.9-11.7 9.3l-45.8 199.1-49.8-199.3c-1.3-5.4-6.1-9.1-11.6-9.1z"})})},I=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"})})},Z=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M424 476c-4.4 0-8 3.6-8 8v276c0 4.4 3.6 8 8 8h32.5c4.4 0 8-3.6 8-8v-95.5h63.3c59.4 0 96.2-38.9 96.2-94.1 0-54.5-36.3-94.3-96-94.3H424zm150.6 94.3c0 43.4-26.5 54.3-71.2 54.3h-38.9V516.2h56.2c33.8 0 53.9 19.7 53.9 54.1zm280-281.7L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"})})},C=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"})})},z=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M296 392h64v64h-64zm0 190v160h128V582h-64v-62h-64v62zm80 48v64h-32v-64h32zm-16-302h64v64h-64zm-64-64h64v64h-64zm64 192h64v64h-64zm0-256h64v64h-64zm494.6 88.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h64v64h64v-64h174v216a42 42 0 0042 42h216v494z"})})},w=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M854.6 288.7L639.4 73.4c-6-6-14.2-9.4-22.7-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.6-9.4-22.6zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM402 549c0 5.4 4.4 9.5 9.8 9.5h32.4c5.4 0 9.8-4.2 9.8-9.4 0-28.2 25.8-51.6 58-51.6s58 23.4 58 51.5c0 25.3-21 47.2-49.3 50.9-19.3 2.8-34.5 20.3-34.7 40.1v32c0 5.5 4.5 10 10 10h32c5.5 0 10-4.5 10-10v-12.2c0-6 4-11.5 9.7-13.3 44.6-14.4 75-54 74.3-98.9-.8-55.5-49.2-100.8-108.5-101.6-61.4-.7-111.5 45.6-111.5 103zm78 195a32 32 0 1064 0 32 32 0 10-64 0z"})})};let F=e=>{let{data:a}=e;return console.log("\uD83D\uDE80 ~ IconAttach data:",a),a&&"application/pdf"==a.tipo?(0,o.jsx)(y,{className:"text-6xl fill-red-500"}):"image/jpeg"==a.tipo||"image/png"==a.tipo?(0,o.jsx)("div",{className:"h-16 w-16 rounded-lg relative ",style:{backgroundImage:"url(".concat(a.path,")"),backgroundSize:"cover",backgroundPosition:"center"}}):"application/vnd.openxmlformats-officedocument.wordprocessingml.document"==a.tipo?(0,o.jsx)(D,{className:"text-6xl fill-blue-500"}):"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==a.tipo?(0,o.jsx)(I,{className:"text-6xl fill-green-500"}):"application/x-zip-compressed"==a.tipo||"application/zip-compressed"==a.tipo||"application/rar-compressed"==a.tipo||"application/x-rar-compressed"==a.tipo?(0,o.jsx)(z,{className:"text-6xl fill-yellow-500"}):"application/vnd.ms-powerpoint"==a.tipo||"application/vnd.openxmlformats-officedocument.presentationml.slideshow"==a.tipo||"application/vnd.openxmlformats-officedocument.presentationml.presentation"==a.tipo?(0,o.jsx)(Z,{className:"text-6xl fill-[#D55736]"}):"text/plain"==a.tipo?(0,o.jsx)(C,{className:"text-6xl fill-sky-600"}):(0,o.jsx)(w,{className:"text-6xl fill-gray-500"})};var N=t(47842);let S=e=>{var a;let{key:t,item:i,handleFileClick:l,selectedItem:s,handleFileSelect:r,handleRemove:n,loadingFile:c,error:d,disabled:u,modeTheme:m,inputRef:x}=e;return console.log("\uD83D\uDE80 ~ AnexoGrid item:",i),(0,o.jsx)(v.ZP,{item:!0,xs:12,md:3,children:(0,o.jsxs)("div",{className:"".concat((null==d?void 0:d[t])?"border border-red-500":"dark"===m?"bg-[#202023]":"bg-[#F6F6F8]"," rounded-lg flex flex-col relative z-10"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center p-2 mt-1 ",children:(0,o.jsx)("p",{className:"font-medium text-sm ",children:i.nome})}),(0,o.jsx)("div",{className:"flex justify-center items-center cursor-pointer p-1 h-[150px] w-full ",disabled:u,onClick(){i.anexo&&i.anexo.path&&i.anexo.exist?window.open(i.anexo.path,"_blank"):u||l(i)},children:(0,o.jsxs)("div",{className:"flex p-2 justify-center items-center gap-2 rounded-lg w-full h-full m-3 border-2 border-dashed hover:border-[#4A8B57] transition-colors ".concat("dark"===m?" border-[#27272a]":"rgba(76, 78, 100, 0.12)"),children:[s&&s.grupoanexoitemID==i.grupoanexoitemID&&(0,o.jsx)(N.Z,{show:c,title:"Enviando anexo..."}),(0,o.jsx)("div",{className:"flex items-center gap-3",children:i.anexo&&i.anexo.exist?(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,o.jsx)(F,{data:i.anexo}),(0,o.jsxs)("p",{className:"text-sm opacity-80",children:[i.anexo.nome,(0,o.jsx)("span",{className:"text-xs opacity-50 ml-1",children:"(".concat((i.anexo.size/1024/1024).toFixed(2),"MB)")})]}),(0,o.jsx)("p",{className:"text-xs opacity-50",children:new Date(i.anexo.time).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})}):(0,o.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,o.jsx)(b,{className:"w-20 h-20 ".concat(i.anexo&&i.anexo.exist?"fill-[#666CFF]":"fill-current","\n                                        animate-custom-bounce")}),(0,o.jsx)("h6",{className:"text-sm font-normal opacity-80",children:"Adicione um arquivo"})]})})]})}),(0,o.jsxs)("div",{className:"flex items-center justify-between gap-1 p-2 py-3 pl-4",children:[(0,o.jsx)("p",{className:"text-xs opacity-70",children:i.descricao}),(0,o.jsx)(f.Z,{title:1==i.hasPending?"Este item n\xe3o pode mais ser removido pois j\xe1 foi respondido em um formul\xe1rio":"Remover este item",children:(0,o.jsx)(g.Z,{color:"error",onClick:()=>n(i),disabled:!(null===(a=i.anexo)||void 0===a?void 0:a.exist)||u,children:(0,o.jsx)(j.Z,{icon:"tabler:trash-filled"})})})]}),(0,o.jsx)("input",{type:"file",ref:x,style:{display:"none"},onChange:e=>r(e,s)})]})})};var A=t(88475);let R=e=>{var a;let{key:t,item:i,handleFileClick:l,selectedItem:s,handleFileSelect:r,handleRemove:n,loadingFile:c,error:d,disabled:u,modeTheme:m,inputRef:x}=e;return console.log("\uD83D\uDE80 ~ AnexoList item:",i),(0,o.jsx)(v.ZP,{item:!0,xs:12,md:12,children:(0,o.jsxs)("div",{className:"".concat(d&&(null==d?void 0:d[t])?"border border-red-500":"dark"===m?"bg-[#202023]":" bg-[#F6F6F8] "," rounded-lg flex flex-col relative z-10"),children:[(0,o.jsx)("div",{className:"px-4 py-2 pb-0 space-y-1",children:(0,o.jsx)("p",{className:"font-medium text-sm ",children:i.nome})}),(0,o.jsxs)(v.ZP,{container:!0,className:"items-cente",children:[(0,o.jsx)(v.ZP,{item:!0,xs:12,md:11,children:(0,o.jsx)("div",{className:"flex justify-start items-center cursor-pointer p-1 w-full ",disabled:u,onClick(){i.anexo&&i.anexo.path&&i.anexo.exist?window.open(i.anexo.path,"_blank"):u||l(i)},children:(0,o.jsxs)("div",{className:"flex relative p-4 justify-start items-center gap-2 rounded-lg w-full mx-2 my-1 mb-2 border-2 border-dashed hover:border-[#4A8B57] transition-colors ".concat("dark"===m?" border-[#27272a]":"rgba(76, 78, 100, 0.12)"),children:[s&&s.grupoanexoitemID==i.grupoanexoitemID&&(0,o.jsx)(N.Z,{show:c,title:"Enviando anexo..."}),(0,o.jsx)("div",{className:"flex items-center gap-3 container",children:i.anexo&&i.anexo.exist?(0,o.jsx)("div",{className:"flex items-center justify-between gap-2 container",children:(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{children:(0,o.jsx)(F,{data:i.anexo})}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("p",{className:"text-sm font-semibold opacity-80",children:i.anexo.nome}),(0,o.jsx)("p",{className:"text-sm opacity-80",children:(0,o.jsx)("span",{className:"text-xs opacity-50",children:"(".concat((i.anexo.size/1024/1024).toFixed(2),"MB)")})}),(0,o.jsx)("p",{className:"text-xs opacity-50",children:"Enviado em: "+new Date(i.anexo.time).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,o.jsx)("p",{className:"text-xs opacity-70",children:i.descricao})]})]})}):(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(b,{className:"w-20 h-20 ".concat(i.anexo&&i.anexo.exist?"fill-[#666CFF]":"fill-current"," \n                                                animate-custom-bounce")}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h6",{className:"text-sm font-semibold opacity-80",children:"Adicione um arquivo"}),(0,o.jsx)("p",{className:"text-xs opacity-70",children:i.descricao})]})]})})]})})}),(0,o.jsx)(v.ZP,{item:!0,xs:12,md:1,className:"flex justify-center",children:(0,o.jsx)(A.Z,{xs:12,md:1,title:"",removeItem:()=>n(i),item:i,pending:!(null===(a=i.anexo)||void 0===a?void 0:a.exist)||u,textSuccess:"Remover este anexo",textError:"Este anexo n\xe3o pode mais ser removido pois o formul\xe1rio j\xe1 foi conclu\xeddo!"})})]}),(0,o.jsx)("input",{type:"file",ref:x,style:{display:"none"},onChange:e=>r(e,s)})]})})};var k=t(49837),M=t(91359),W=t(63366),P=t(87462);t(59864);var V=t(86010),E=t(94780),B=t(67074),L=t(78884),T=t(36622),H=t(1588),G=t(34867);function $(e){return(0,G.Z)("MuiToggleButtonGroup",e)}let O=(0,H.Z)("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),q=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],_=e=>{let{classes:a,orientation:t,fullWidth:o,disabled:i}=e,l={root:["root","vertical"===t&&"vertical",o&&"fullWidth"],grouped:["grouped",`grouped${(0,T.Z)(t)}`,i&&"disabled"]};return(0,E.Z)(l,$,a)},Q=(0,B.ZP)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver(e,a){let{ownerState:t}=e;return[{[`& .${O.grouped}`]:a.grouped},{[`& .${O.grouped}`]:a[`grouped${(0,T.Z)(t.orientation)}`]},a.root,"vertical"===t.orientation&&a.vertical,t.fullWidth&&a.fullWidth]}})(({ownerState:e,theme:a})=>(0,P.Z)({display:"inline-flex",borderRadius:(a.vars||a).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${O.grouped}`]:(0,P.Z)({},"horizontal"===e.orientation?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${O.selected} + .${O.grouped}.${O.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${O.selected} + .${O.grouped}.${O.selected}`]:{borderTop:0,marginTop:0}})})),U=i.forwardRef(function(e,a){let t=(0,L.Z)({props:e,name:"MuiToggleButtonGroup"}),{children:l,className:s,color:r="standard",disabled:n=!1,exclusive:c=!1,fullWidth:d=!1,onChange:u,orientation:m="horizontal",size:x="medium",value:p}=t,h=(0,W.Z)(t,q),v=(0,P.Z)({},t,{disabled:n,fullWidth:d,orientation:m,size:x}),f=_(v),g=(e,a)=>{let t;if(!u)return;let o=p&&p.indexOf(a);p&&o>=0?(t=p.slice()).splice(o,1):t=p?p.concat(a):[a],u(e,t)},j=(e,a)=>{u&&u(e,p===a?null:a)};return(0,o.jsx)(Q,(0,P.Z)({role:"group",className:(0,V.Z)(f.root,s),ref:a,ownerState:v},h,{children:i.Children.map(l,e=>{var a;return i.isValidElement(e)?i.cloneElement(e,{className:(0,V.Z)(f.grouped,e.props.className),onChange:c?j:g,selected:void 0===e.props.selected?(a=e.props.value,void 0!==p&&void 0!==a&&(Array.isArray(p)?p.indexOf(a)>=0:a===p)):e.props.selected,size:e.props.size||x,fullWidth:d,color:e.props.color||r,disabled:e.props.disabled||n}):null})}))});var J=t(41796),K=t(50522);function X(e){return(0,G.Z)("MuiToggleButton",e)}let Y=(0,H.Z)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),ee=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],ea=e=>{let{classes:a,fullWidth:t,selected:o,disabled:i,size:l,color:s}=e,r={root:["root",o&&"selected",i&&"disabled",t&&"fullWidth",`size${(0,T.Z)(l)}`,s]};return(0,E.Z)(r,X,a)},et=(0,B.ZP)(K.Z,{name:"MuiToggleButton",slot:"Root",overridesResolver(e,a){let{ownerState:t}=e;return[a.root,a[`size${(0,T.Z)(t.size)}`]]}})(({theme:e,ownerState:a})=>{let t,o="standard"===a.color?e.palette.text.primary:e.palette[a.color].main;return e.vars&&(o="standard"===a.color?e.vars.palette.text.primary:e.vars.palette[a.color].main,t="standard"===a.color?e.vars.palette.text.primaryChannel:e.vars.palette[a.color].mainChannel),(0,P.Z)({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},a.fullWidth&&{width:"100%"},{[`&.${Y.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,J.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Y.selected}`]:{color:o,backgroundColor:e.vars?`rgba(${t} / ${e.vars.palette.action.selectedOpacity})`:(0,J.Fq)(o,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${t} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,J.Fq)(o,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${t} / ${e.vars.palette.action.selectedOpacity})`:(0,J.Fq)(o,e.palette.action.selectedOpacity)}}}},"small"===a.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===a.size&&{padding:15,fontSize:e.typography.pxToRem(15)})}),eo=i.forwardRef(function(e,a){let t=(0,L.Z)({props:e,name:"MuiToggleButton"}),{children:i,className:l,color:s="standard",disabled:r=!1,disableFocusRipple:n=!1,fullWidth:c=!1,onChange:d,onClick:u,selected:m,size:x="medium",value:p}=t,h=(0,W.Z)(t,ee),v=(0,P.Z)({},t,{color:s,disabled:r,disableFocusRipple:n,fullWidth:c,size:x}),f=ea(v),g=e=>{u&&(u(e,p),e.defaultPrevented)||!d||d(e,p)};return(0,o.jsx)(et,(0,P.Z)({className:(0,V.Z)(f.root,l),disabled:r,focusRipple:!n,ref:a,onClick:g,onChange:d,value:p,ownerState:v,"aria-pressed":m},h,{children:i}))});var ei=function(e){return(0,o.jsx)("svg",{fill:"currentColor",viewBox:"0 0 16 16",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5z"})})},el=function(e){return(0,o.jsx)("svg",{fill:"currentColor",viewBox:"0 0 16 16",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M1 2.5A1.5 1.5 0 012.5 1h3A1.5 1.5 0 017 2.5v3A1.5 1.5 0 015.5 7h-3A1.5 1.5 0 011 5.5v-3zM2.5 2a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zm6.5.5A1.5 1.5 0 0110.5 1h3A1.5 1.5 0 0115 2.5v3A1.5 1.5 0 0113.5 7h-3A1.5 1.5 0 019 5.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zM1 10.5A1.5 1.5 0 012.5 9h3A1.5 1.5 0 017 10.5v3A1.5 1.5 0 015.5 15h-3A1.5 1.5 0 011 13.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zm6.5.5A1.5 1.5 0 0110.5 9h3a1.5 1.5 0 011.5 1.5v3a1.5 1.5 0 01-1.5 1.5h-3A1.5 1.5 0 019 13.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3z"})})};let es=e=>{let{values:a}=e,[t,l]=(0,i.useState)(null);console.log("\uD83D\uDE80 ~ selectedItem:",t);let{settings:s}=(0,i.useContext)(h.J6),r=s.mode,n=(0,i.useRef)(null),c=e=>{n.current.click(),l(e)};(0,i.useEffect)(()=>{n.current.value=""},[a.handleFileSelect]);let[u,m]=(0,i.useState)("list"),x=(e,a)=>{m(a)};return(0,o.jsx)(k.Z,{sx:{mt:4},children:(0,o.jsxs)(M.Z,{children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,o.jsxs)(d.Z,{variant:"subtitle1",sx:{fontWeight:600},children:[a.grupo.nome,(0,o.jsx)(d.Z,{variant:"body2",sx:{mb:2},children:a.grupo.descricao})]}),(0,o.jsx)("div",{children:(0,o.jsxs)(U,{exclusive:!0,color:"primary",value:u,onChange:x,children:[(0,o.jsx)(eo,{value:"list",children:(0,o.jsx)(ei,{})}),(0,o.jsx)(eo,{value:"grid",children:(0,o.jsx)(el,{})})]})})]}),(0,o.jsx)(v.ZP,{container:!0,spacing:4,children:a.grupo.itens.map((e,i)=>"list"===u?(0,o.jsx)(R,{modeTheme:r,handleFileClick:c,selectedItem:t,inputRef:n,item:e,loadingFile:a.loadingFile,grupo:a.grupo,indexGrupo:a.indexGrupo,handleFileSelect:a.handleFileSelect,handleRemove:a.handleRemove,error:a.error,disabled:a.disabled},"".concat(a.indexGrupo,"-").concat(i)):(0,o.jsx)(S,{modeTheme:r,handleFileClick:c,selectedItem:t,inputRef:n,item:e,loadingFile:a.loadingFile,grupo:a.grupo,indexGrupo:a.indexGrupo,handleFileSelect:a.handleFileSelect,handleRemove:a.handleRemove,error:a.error,disabled:a.disabled},"".concat(a.indexGrupo,"-").concat(i)))})]})})};var er=t(39976),en=t(99070),ec=t(40874),ed=t(60664);let eu=e=>{let[a,t]=(0,i.useState)([]);return(0,i.useEffect)(()=>{let a=async()=>{await ed.h.post("relatorio/fornecedor/dadosFornecedor",{data:e}).then(e=>t(e.data))};a()},[e]),a},em=e=>{var a,t,l,s,r,n,c,d,u;let{params:m}=e,x=eu(m);return(0,o.jsx)(o.Fragment,{children:x&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(en.G7,{style:ec.W.containerFields,children:null===(a=x.fields)||void 0===a?void 0:a.map((e,a)=>(0,o.jsxs)(i.Fragment,{children:[(0,o.jsxs)(en.G7,{style:[ec.W.fields,{width:"33%"}],children:[(0,o.jsx)(en.xv,{style:ec.W.fieldTitle,children:null!==(l=e.title)&&void 0!==l?l:"NI"}),(0,o.jsx)(en.xv,{style:ec.W.fieldValue,children:null!==(s=e.value)&&void 0!==s?s:"NI"})]}),(a+1)%3==0&&(0,o.jsx)(en.G7,{style:ec.W.separator})]},a))}),(0,o.jsx)(en.G7,{style:ec.W.separator}),(0,o.jsxs)(en.G7,{style:{display:"flex",flexDirection:"column",gap:7,paddingVertical:10,paddingBottom:10},children:[(0,o.jsxs)(en.xv,{style:ec.W.fieldTitle,children:["Atividades: ",(0,o.jsx)(en.xv,{style:ec.W.fieldValue,children:null!==(r=x.atividades)&&void 0!==r?r:"NI"})]}),(0,o.jsxs)(en.xv,{style:ec.W.fieldTitle,children:["Sistema de qualidade:"," ",(0,o.jsx)(en.xv,{style:ec.W.fieldValue,children:null!==(n=x.sistemaQualidade)&&void 0!==n?n:"NI"})]}),(0,o.jsxs)(en.xv,{style:ec.W.fieldTitle,children:["Categoria: ",(0,o.jsx)(en.xv,{style:ec.W.fieldValue,children:null!==(c=x.categoria)&&void 0!==c?c:"NI"})]})]}),(0,o.jsx)(en.G7,{style:ec.W.separator}),null===(t=x.blocos)||void 0===t?void 0:t.map((e,a)=>(0,o.jsxs)(en.G7,{style:e,children:[(0,o.jsx)(en.xv,{style:[ec.W.blockTitle,{paddingTop:20}],children:e.nome}),(0,o.jsxs)(en.G7,{style:ec.W.table,children:[(0,o.jsxs)(en.G7,{style:ec.W.tableTitle,children:[(0,o.jsx)(en.xv,{style:[ec.W.tableTitlecolumn,{width:"60%"}],children:"Item"}),(0,o.jsx)(en.xv,{style:[ec.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Resposta"}),(0,o.jsx)(en.xv,{style:[ec.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Observa\xe7\xe3o"})]}),e.itens.map((e,a)=>(0,o.jsxs)(en.G7,{style:ec.W.tableContainer,children:[(0,o.jsx)(en.G7,{style:[ec.W.tableContent,{width:"60%"}],children:(0,o.jsx)(en.xv,{style:ec.W.tableContentcolumn,children:e.nome})}),(0,o.jsx)(en.G7,{style:[ec.W.tableContent,{width:"20%"}],children:(0,o.jsx)(en.xv,{style:ec.W.tableContentcolumn,children:null!==(d=e.resposta)&&void 0!==d?d:"--"})}),(0,o.jsx)(en.G7,{style:[ec.W.tableContent,{width:"20%"}],children:(0,o.jsx)(en.xv,{style:ec.W.tableContentcolumn,children:null!==(u=e.obsResposta)&&void 0!==u?u:"--"})})]}))]})]},a))]})})};var ex=t(19604),ep=t(61953),eh=t(55343),ev=t(11163),ef=t.n(ev),eg=t(5707),ej=t(40039),eb=t(46749),ey=t(86501),eD=t(80377),eI=t(34282),eZ=t(22416),eC=t(16056);let ez=e=>{let{xs:a,md:t,title:i,index:l,name:s,typePage:r,value:n,disabled:c,register:d,...m}=e;return(0,o.jsx)(v.ZP,{item:!0,xs:a,md:t,children:(0,o.jsx)(ep.Z,{display:"flex",flexDirection:"column",alignItems:"start",children:(0,o.jsx)(u.Z,{control:(0,o.jsx)(eC.Z,{...m,name:s,...d(s),defaultChecked:n,disabled:c,onChange(e){m.onChange&&m.onChange(e.target.checked,l,s,r)}}),label:i,size:"small",sx:{"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}})})})},ew=e=>{let{data:a,control:t,setValue:l,register:s,errors:n}=e,[c,d]=(0,i.useState)(!0);return l("emailDestinatario",a.email),(0,o.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[c&&(0,o.jsx)(r.Z,{name:"emailDestinatario",type:"email",title:"E-mail do destinat\xe1rio",required:!0,control:t,errors:n.emailDestinatario}),(0,o.jsx)(r.Z,{name:"assunto",title:"Assunto",required:!0,register:s,control:t,defaultValue:"",errors:n.assunto}),(0,o.jsx)(r.Z,{name:"descricao",title:"Descri\xe7\xe3o",multiline:!0,rows:4,required:!0,control:t,defaultValue:"",errors:n.descricao}),(0,o.jsxs)(eZ.Z,{row:!0,children:[(0,o.jsx)(ez,{name:"email",title:"E-mail",value:!0,register:s,onChange:()=>d(!c)}),(0,o.jsx)(ez,{name:"alerta",title:"Alerta",value:!0,register:s})]})]})},eF=e=>{var a;let{id:t}=e,{user:n,loggedUnity:c}=(0,i.useContext)(ej.V),{createNewNotification:u}=(0,i.useContext)(er.u),[m,h]=(0,i.useState)(!1),[f,g]=(0,i.useState)(!1),[j,b]=(0,i.useState)(!1),[y,D]=(0,i.useState)(!1),[I,Z]=(0,i.useState)([]),[C,z]=(0,i.useState)(null),[w,F]=(0,i.useState)([]),[S,A]=(0,i.useState)([]),[R,W]=(0,i.useState)([]),[P,V]=(0,i.useState)([]),[E,B]=(0,i.useState)([]),[L,T]=(0,i.useState)([]),[H,G]=(0,i.useState)(""),[$,O]=(0,i.useState)(!1),[q,_]=(0,i.useState)(null),[Q,U]=(0,i.useState)(null),[J,K]=(0,i.useState)(!1),[X,Y]=(0,i.useState)(!0),[ee,ea]=(0,i.useState)({status:!1,errors:[]}),[et,eo]=(0,i.useState)(!1),[ei,el]=(0,i.useState)([]),[en,ec]=(0,i.useState)([]),[eu,ev]=(0,i.useState)({status:!1,message:"Voc\xea n\xe3o tem permiss\xf5es",messageType:"info"}),eZ=ef(),eC=t&&t>0?"edit":"new",ez=eZ.pathname,{watch:eF,register:eN,trigger:eS,reset:eA,control:eR,getValues:ek,clearErrors:eM,setValue:eW,setError:eP,handleSubmit:eV,formState:{errors:eE}}=(0,l.cI)(),eB=async()=>{try{await ed.h.post("/formularios/fornecedor/verifyFormPending/".concat(t),{parFormularioID:1}).then(e=>{Y(e.data) //! true/false
})}catch(e){console.log(e)}},eL=async(e,a)=>{let o={status:e,observacao:a,auth:{usuarioID:n.usuarioID,papelID:n.papelID,unidadeID:c.unidadeID}};try{g(!0),await ed.h.post("".concat(ez,"/changeFormStatus/").concat(t),o).then(a=>{ey.ZP.success(eb.OD.successUpdate),e1(e),g(!1)})}catch(i){console.log(i)}},eT=async e=>{if(9===e.length){let a=e.replace(/[^0-9]/g,"");try{let t=await ed.h.get("https://viacep.com.br/ws/".concat(a,"/json/"));t.data.localidade?(I.forEach(async(e,a)=>{("logradouro"===e.nomeColuna||"bairro"===e.nomeColuna||"cidade"===e.nomeColuna||"estado"===e.nomeColuna)&&(await eW("fields[".concat(a,"].logradouro"),t.data.logradouro),await eW("fields[".concat(a,"].bairro"),t.data.bairro),await eW("fields[".concat(a,"].cidade"),t.data.localidade),await eW("fields[".concat(a,"].estado"),t.data.uf))}),ey.ZP.success("Endere\xe7o encontrado!")):ey.ZP.error("Endere\xe7o n\xe3o encontrado!")}catch(o){console.error(o)}}},eH=async e=>{console.log("===> ",e);try{if(!e.email&&!e.alerta)return ey.ZP.error("Selecione ao menos um tipo de notifica\xe7\xe3o!");let a={titulo:e.assunto,descricao:e.descricao,url:"/formularios/fornecedor/",urlID:t,tipoNotificacaoID:3,usuarioGeradorID:n.usuarioID,usuarioID:0,unidadeID:q.fornecedor.unidadeID,papelID:2,email:e.email,alerta:e.alerta};if(u(a),e.email){let o={values:e,auth:{id:t,usuarioID:n.usuarioID,papelID:n.papelID,unidadeID:c.unidadeID}};await ed.h.post("".concat(ez,"/sendNotification"),o)}let i=e.alerta&&e.email?"E-mail e alerta enviados com sucesso!":e.alerta&&!e.email?"Alerta criado com sucesso!":!e.alerta&&e.email?"E-mail enviado com sucesso!":null;ey.ZP.success(i)}catch(l){console.log(l)}},eG=[{id:1,name:"Formul\xe1rio do fornecedor",component:(0,o.jsx)(em,{params:{id:t}}),route:"/relatorio/fornecedor/dadosFornecedor",papelID:n.papelID,modal:!1,type:"report",identification:"01",params:{fornecedorID:t}},{id:2,name:"Gerar notifica\xe7\xe3o",description:"Gerar uma nova notifica\xe7\xe3o para o fornecedor, podendo ser um e-mail e/ou alerta do sistema.",component:(0,o.jsx)(ew,{data:{email:null===(a=I.find(e=>"email"==e.nomeColuna))||void 0===a?void 0:a.email}}),route:null,type:null,modal:!0,action:eH,icon:"mdi:bell-outline",identification:null}],e$=(e,a)=>{let t=[];null==e||e.map((e,o)=>{eq(e.categorias,a)&&t.push(e)}),T(t)},eO=(e,a)=>{let t=w.map(t=>t.id===e?{...t,checked:a}:t);F(t),e$(E,t)},eq=(e,a)=>{let t=e.map(e=>e.categoriaID),o=a.filter(e=>e.checked).map(e=>e.id);if(t.length!==o.length)return!1;let i=[...t].sort(),l=[...o].sort();for(let s=0;s<i.length;s++)if(i[s]!==l[s])return!1;return!0},e_=e=>{let a=!1;return L.forEach(t=>{t.parFornecedorBlocoID==e&&(a=!0)}),a},eQ=e=>{},eU=()=>{try{h(!0),t&&ed.h.post("".concat(ez,"/getData/").concat(t),{unidadeLogadaID:c.unidadeID}).then(e=>{console.log("\uD83D\uDE80 ~ getData:",e.data),eQ(e.data.fields),Z(e.data.fields),F(e.data.categorias),A(e.data.atividades),W(e.data.sistemasQualidade),B(e.data.blocos),e$(e.data.blocos,e.data.categorias),V(e.data.grupoAnexo),G(e.data.info),_(e.data.unidade),eA(e.data);let a=[];for(let t=0;t<e.data.fields.length;t++){let o=e.data.fields[t].nomeColuna,i=e.data.fields[t].nomeCampo;for(let l in c){if("telefone"==o){var s;let r=null!==(s=c.telefone1)&&void 0!==s?s:c.telefone2;eW("fields[".concat(t,"].").concat(o),null!=r?r:"")}l!==o||ek("fields[".concat(t,"].").concat(o),c[l])||(eW("fields[".concat(t,"].").concat(o),c[l]),null!==c[l]&&""!==c[l]&&a.push({name:i,value:c[l]}))}}ec(a);let d=eb.WR[e.data.info.status];U(d),ev({status:2==n.papelID&&e.data.info.status<40,message:2==n.papelID?"Esse formul\xe1rio j\xe1 foi conclu\xeddo e enviado pra f\xe1brica, n\xe3o \xe9 mais poss\xedvel alterar as informa\xe7\xf5es!":"Somente o fornecedor pode alterar as informa\xe7\xf5es deste formul\xe1rio!",messageType:2==n.papelID?"warning":"info"}),h(!1)})}catch(e){console.log(e)}},eJ=()=>{eZ.push("/formularios/fornecedor/"),ey.ZP.error("Voc\xea n\xe3o tem permiss\xf5es para acessar esta p\xe1gina!")},eK=()=>{e2(),O(!0)},eX=async e=>{eM(),await eV(e0)(e)},eY=async e=>{e.conclusion=!0,await eV(e0)(e)},e0=async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===a.conclusion&&(e.status=n&&1==n.papelID?a.status:40,e.obsConclusao=a.obsConclusao,e1(e.status));let o={form:e,auth:{usuarioID:n.usuarioID,papelID:n.papelID,unidadeID:c.unidadeID}};try{g(!0),await ed.h.put("".concat(ez,"/updateData/").concat(t),o).then(e=>{ey.ZP.success(eb.OD.successUpdate),g(!1)})}catch(i){console.log(i)}},e1=e=>{let a=null;if(2==n.papelID&&40==e)a={titulo:"Fornecedor concluiu o formul\xe1rio",descricao:"O Fornecedor ".concat(c.nomeFantasia," concluiu o formul\xe1rio #").concat(t,"."),url:"/formularios/fornecedor/",urlID:t,tipoNotificacaoID:3,usuarioGeradorID:n.usuarioID,usuarioID:0,unidadeID:q.unidadeID,papelID:1};else if(1==n.papelID&&e>40){let o=50==e?"reprovou":60==e?"aprovou parcialmente":70==e?"aprovou":"concluiu";a={titulo:"F\xe1brica ".concat(o," o formul\xe1rio"),descricao:"A F\xe1brica ".concat(c.nomeFantasia," ").concat(o," o formul\xe1rio #").concat(t,"."),url:"/formularios/fornecedor/",urlID:t,tipoNotificacaoID:3,usuarioGeradorID:n.usuarioID,usuarioID:0,unidadeID:q.fornecedor.unidadeID,papelID:2}}else 1==n.papelID&&30==e&&(a={titulo:"F\xe1brica reabriu o formul\xe1rio",descricao:"A F\xe1brica ".concat(c.nomeFantasia," reabriu o formul\xe1rio #").concat(t," para preenchimento."),url:"/formularios/fornecedor/",urlID:t,tipoNotificacaoID:3,usuarioGeradorID:n.usuarioID,usuarioID:0,unidadeID:q.fornecedor.unidadeID,papelID:2});a&&u(a)},e2=()=>{eM();let e=!1,a=[];I.forEach((t,o)=>{let i=t.tabela?"fields[".concat(o,"].").concat(t.tabela):"fields[".concat(o,"].").concat(t.nomeColuna),l=ek(i);1!==t.obrigatorio||l||(eP(i,{type:"manual",message:"Campo obrigat\xf3rio"}),a.push(null==t?void 0:t.nomeCampo),e=!0)}),E.forEach((t,o)=>{e_(t.parFornecedorBlocoID)&&t.itens.forEach((t,i)=>{let l=ek("blocos[".concat(o,"].itens[").concat(i,"].resposta"));(null==t?void 0:t.obrigatorio)!==1||l||(eP("blocos[".concat(o,"].itens[").concat(i,"].resposta"),{type:"manual",message:"Campo obrigat\xe1rio"}),a.push(null==t?void 0:t.nome),e=!0)})}),P.forEach((t,o)=>{t.itens.forEach((t,i)=>{var l;(null==t?void 0:t.obrigatorio)!==1||(null==t?void 0:null===(l=t.anexo)||void 0===l?void 0:l.exist)||(eP("grupoAnexo[".concat(o,"].itens[").concat(i,"].anexo"),{type:"manual",message:"Campo obrigat\xe1rio"}),a.push("Anexo: ".concat(null==t?void 0:t.nome)),e=!0)})}),ea({status:e,errors:a})};(0,i.useEffect)(()=>{"edit"==eC?eU():eJ(),eB()},[t,f]),(0,i.useEffect)(()=>{e2()},[]),(0,i.useEffect)(()=>{et&&ey.ZP.success("Dados copiados com sucesso!")},[et]);let e3=async(e,a)=>{b(!0);let o=e.target.files[0];if(o){let i=new FormData;i.append("file",o),i.append("usuarioID",n.usuarioID),i.append("unidadeID",c.unidadeID),i.append("file",a.anexo.file),i.append("titulo",o.name),i.append("grupoanexoitemID",a.grupoanexoitemID);let l=o.type.includes("image");await ed.h.post("".concat(ez,"/saveAnexo/").concat(t,"/").concat(q.unidadeID,"/").concat(l),i).then(e=>{b(!1),ey.ZP.success("Anexo adicionado com sucesso!");let t=P.map(t=>t.grupoAnexoID==a.grupoanexoID?{...t,itens:t.itens.map(t=>t.grupoanexoitemID==a.grupoanexoitemID?{...a,anexo:{...a.anexo,exist:!0,nome:e.data.nome,path:e.data.path,tipo:e.data.tipo,size:e.data.size,time:e.data.time}}:t)}:t);V(t)}).catch(e=>{var a,t,o;b(!1),ey.ZP.error(null!==(o=null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)&&void 0!==o?o:"Erro ao atualizar foto de perfil, tente novamente!")})}},e4=async e=>{e&&await ed.h.delete("".concat(ez,"/deleteAnexo/").concat(e.grupoanexoitemID,"/").concat(t,"/").concat(c.unidadeID,"/").concat(n.usuarioID)).then(a=>{ey.ZP.success("Anexo removido com sucesso!");let t=P.map(a=>a.grupoAnexoID==e.grupoanexoID?{...a,itens:a.itens.map(a=>a.grupoanexoitemID==e.grupoanexoitemID?{...e,anexo:{...e.anexo,exist:!1,nome:null,path:null,tipo:null,size:null,time:null}}:a)}:a);V(t)}).catch(e=>{var a,t,o;ey.ZP.error(null!==(o=null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)&&void 0!==o?o:"Erro ao remover anexo, tente novamente!")})};return(0,o.jsxs)(o.Fragment,{children:[m?(0,o.jsx)(N.Z,{}):I?(0,o.jsxs)("form",{onSubmit:eX,children:[q&&(0,o.jsx)("input",{type:"hidden",value:q.unidadeID,name:"unidadeID",...eN("unidadeID")}),L&&0===L.length&&(0,o.jsxs)(ex.Z,{severity:"error",sx:{mb:2},children:["Selecione ao menos uma ",(0,o.jsx)("span",{style:{fontWeight:"bold"},children:"categoria"}),"!"]}),!eu.status&&(0,o.jsx)(ex.Z,{severity:eu.messageType,sx:{mb:2},children:eu.message}),(0,o.jsxs)(k.Z,{children:[(0,o.jsx)(eg.Z,{btnCancel:!0,btnSave:2==n.papelID&&H.status<40,btnSend:1==n.papelID&&H.status>=40||2==n.papelID&&H.status<40,disabledSend:0===L.length,disabledSubmit:0===L.length,disabledPrint:0===L.length,btnPrint:!0,actionsData:eG,handleSubmit:()=>eV(e0),handleSend:eK,iconConclusion:H.status>=40?"mdi:check-bold":"carbon:send-filled",titleConclusion:H.status>=40?"Aprovar Fornecedor":"Concluir Formul\xe1rio",title:"Fornecedor",btnStatus:!0,handleBtnStatus:()=>K(!0),type:eC,status:Q}),en&&en.length>0&&(0,o.jsxs)(ex.Z,{severity:"info",sx:{mb:2,ml:4,mr:4},children:[(0,o.jsxs)("h1",{children:["Os seguintes campos foram copiados de ",(0,o.jsx)("strong",{children:"Meus Dados"}),":"]}),(0,o.jsx)("div",{className:"pt-2",children:en.map(e=>(0,o.jsx)("div",{className:"flex opacity-80",children:(0,o.jsx)("p",{children:"- ".concat(e.name," (").concat(e.value,")")})}))})]}),(0,o.jsxs)(M.Z,{children:[q&&2==n.papelID&&(0,o.jsx)(ep.Z,{sx:{mb:4},children:(0,o.jsx)(v.ZP,{container:!0,spacing:4,children:(0,o.jsxs)(v.ZP,{item:!0,xs:12,md:6,children:[(0,o.jsx)(d.Z,{variant:"caption",children:"F\xe1brica:"}),(0,o.jsx)(d.Z,{variant:"subtitle1",sx:{fontWeight:600},children:q.nomeFantasia})]})})}),(0,o.jsx)(s.Z,{fields:I,register:eN,errors:eE,setValue:eW,control:eR,watch:eF,getAddressByCep:eT,disabled:!eu.status,setCopiedDataContext:eo}),(0,o.jsxs)(v.ZP,{container:!0,spacing:4,children:[(0,o.jsx)(v.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(x,{title:"Categorias",values:w,name:"categorias",changeCategory:eO,register:eN,disabled:!eu.status})}),(0,o.jsx)(v.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(x,{title:"Atividades",values:S,name:"atividades",register:eN,disabled:!eu.status})}),(0,o.jsx)(v.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(x,{title:"Sistema de Qualidade",values:R,name:"sistemasQualidade",register:eN,disabled:!eu.status})})]})]})]}),E&&E.map((e,a)=>e_(e.parFornecedorBlocoID)?(0,o.jsx)(p.Z,{index:a,blockKey:"parFornecedorBlocoID",values:e,control:eR,register:eN,setValue:eW,errors:eE,disabled:!eu.status},a):null),P&&P.map((e,a)=>{var t,i;return(0,o.jsx)(es,{values:{grupo:e,loadingFile:j,indexGrupo:a,handleFileSelect:e3,handleRemove:e4,disabled:!eu.status,error:null==eE?void 0:null===(t=eE.grupoAnexo)||void 0===t?void 0:null===(i=t[a])||void 0===i?void 0:i.itens}},a)}),(0,o.jsx)(k.Z,{sx:{mt:4},children:(0,o.jsx)(M.Z,{children:(0,o.jsx)(v.ZP,{container:!0,spacing:4,children:(0,o.jsx)(v.ZP,{item:!0,xs:12,md:12,children:(0,o.jsxs)(eh.Z,{fullWidth:!0,children:[(0,o.jsx)(d.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Observa\xe7\xf5es (campo de uso exclusivo da validadora)"}),(0,o.jsx)(r.Z,{title:"Observa\xe7\xe3o (opcional)",name:"info.obs",multiline:!0,rows:4,value:H.obs,disabled:!eu.status,control:eR})]})})})})})]}):null,(0,o.jsx)(eD.Z,{openModal:$,handleClose(){O(!1)},title:H.status>=40?"Aprovar Fornecedor":"Concluir Formul\xe1rio",text:"Deseja realmente concluir este formul\xe1rio?",info:H,register:eN,btnCancel:!0,canChange:!X,btnConfirm:!0,btnConfirmColor:"primary",conclusionForm:eY,listErrors:ee}),J&&(0,o.jsx)(eI.Z,{title:"Hist\xf3rico do Formul\xe1rio",text:"Listagem do hist\xf3rico das movimenta\xe7\xf5es do formul\xe1rio ".concat(t," do Fornecedor."),id:t,parFormularioID:1,formStatus:H.status,hasFormPending:X,canChangeStatus:1==n.papelID&&!X&&H.status>30,openModal:J,handleClose:()=>K(!1),btnCancel:!0,btnConfirm:!0,handleSubmit:eL})]})};var eN=eF}}]);