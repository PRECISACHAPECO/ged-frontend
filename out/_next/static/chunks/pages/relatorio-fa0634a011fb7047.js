(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9845],{83102:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/relatorio",function(){return i(31483)}])},95189:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var l=i(85893),o=i(99070),n=i(67294),r=i(60664);let d=()=>{let[e,t]=(0,n.useState)([]),i=localStorage.getItem("report"),l=JSON.parse(i),o=async()=>{try{let e=await r.h.post("relatorio/fornecedor/dadosFornecedor",{data:l});console.log("\uD83D\uDE80 ~ response:",e.data),t(e.data)}catch(i){console.log(i)}};return(0,n.useEffect)(()=>{o()},[]),e},a=o.mM.create({page:{flexDirection:"column",backgroundColor:"#FFF",justifyContent:"start",paddingTop:15,paddingBottom:30},title:{},header:{position:"fixed",top:-5,left:0,right:0,margin:"0 auto",fontSize:12,height:50,width:"92%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},content:{marginHorizontal:10,fontSize:11,padding:15,flex:1},footer:{position:"absolute",bottom:20,color:"grey",width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:25,fontSize:10},blockTitle:{paddingVertical:5},containerFields:{display:"flex",flexDirection:"row",flexWrap:"wrap",width:"100%",paddingTop:7},fields:{display:"flex",flexDirection:"column",gap:"2px",paddingBottom:10,paddingTop:10},fieldTitle:{fontSize:8,opacity:"0.8"},fieldValue:{fontSize:10},separator:{height:"1px",width:"100%",borderBottom:"1px solid #ddd"},table:{width:"100%",display:"flex",flexDirection:"column",borderRight:"1px solid #ddd",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomLeftRadius:3,borderBottomRightRadius:3},tableTitle:{display:"flex",flexDirection:"row",width:"100%",fontSize:8,backgroundColor:"#EEE",borderTopLeftRadius:2,borderTopRightRadius:2,borderLeft:"1px solid #ddd"},tableTitlecolumn:{padding:8},tableContainer:{display:"flex",flexDirection:"row",width:"100%"},tableContent:{padding:8,borderLeft:"1px solid #ddd",borderTop:"1px solid #ddd"},tableContentcolumn:{fontSize:9}}),s=()=>{var e,t,i,n,r,s,c,x,u;let f=d();return f&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.G7,{style:a.containerFields,children:null===(e=f.fields)||void 0===e?void 0:e.map((e,t)=>(0,l.jsxs)(Fragment,{children:[(0,l.jsxs)(o.G7,{style:[a.fields,{width:"33%"}],children:[(0,l.jsx)(o.xv,{style:a.fieldTitle,children:null!==(i=e.title)&&void 0!==i?i:"NI"}),(0,l.jsx)(o.xv,{style:a.fieldValue,children:null!==(n=e.value)&&void 0!==n?n:"NI"})]}),(t+1)%3==0&&(0,l.jsx)(o.G7,{style:a.separator})]},t))}),(0,l.jsx)(o.G7,{style:a.separator}),(0,l.jsxs)(o.G7,{style:{display:"flex",flexDirection:"column",gap:7,paddingVertical:10,paddingBottom:10},children:[(0,l.jsxs)(o.xv,{style:a.fieldTitle,children:["Atividades: ",(0,l.jsx)(o.xv,{style:a.fieldValue,children:null!==(r=f.atividades)&&void 0!==r?r:"NI"})]}),(0,l.jsxs)(o.xv,{style:a.fieldTitle,children:["Sistema de qualidade: ",(0,l.jsx)(o.xv,{style:a.fieldValue,children:null!==(s=f.sistemaQualidade)&&void 0!==s?s:"NI"})]}),(0,l.jsxs)(o.xv,{style:a.fieldTitle,children:["Categoria: ",(0,l.jsx)(o.xv,{style:a.fieldValue,children:null!==(c=f.categoria)&&void 0!==c?c:"NI"})]})]}),(0,l.jsx)(o.G7,{style:a.separator}),null===(t=f.blocos)||void 0===t?void 0:t.map((e,t)=>(0,l.jsxs)(o.G7,{style:e,children:[(0,l.jsx)(o.xv,{style:[a.blockTitle,{paddingTop:20}],children:e.nome}),(0,l.jsxs)(o.G7,{style:a.table,children:[(0,l.jsxs)(o.G7,{style:a.tableTitle,children:[(0,l.jsx)(o.xv,{style:[a.tableTitlecolumn,{width:"60%"}],children:"Item"}),(0,l.jsx)(o.xv,{style:[a.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Resposta"}),(0,l.jsx)(o.xv,{style:[a.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Observa\xe7\xe3o"})]}),e.itens.map((e,t)=>(0,l.jsxs)(o.G7,{style:a.tableContainer,children:[(0,l.jsx)(o.G7,{style:[a.tableContent,{width:"60%"}],children:(0,l.jsx)(o.xv,{style:a.tableContentcolumn,children:e.nome})}),(0,l.jsx)(o.G7,{style:[a.tableContent,{width:"20%"}],children:(0,l.jsx)(o.xv,{style:a.tableContentcolumn,children:null!==(x=e.resposta)&&void 0!==x?x:"--"})}),(0,l.jsx)(o.G7,{style:[a.tableContent,{width:"20%"}],children:(0,l.jsx)(o.xv,{style:a.tableContentcolumn,children:null!==(u=e.obsResposta)&&void 0!==u?u:"--"})})]}))]})]},t))]})};var c=s},6122:function(e,t,i){"use strict";i.d(t,{Z:function(){return f}});var l=i(85893),o=i(67294),n=i(99070),r=i(60664),d=i(11163),a=i.n(d);let s={header:{position:"fixed",top:-5,left:0,right:0,margin:"0 auto",fontSize:12,height:50,width:"92%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},title:{textAlign:"center"},imageContainer:{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end"},image:{aspectRatio:1,objectFit:"contain",height:"100%",marginLeft:"auto"}},c=()=>{var e,t,i,d;let c=a().pathname.split("/")[2],[x,u]=(0,o.useState)([]),f=localStorage.getItem("report"),h=JSON.parse(f),p=async()=>{let e={...h,isFornecedor:"fornecedor"===c};try{let t=await r.h.post("relatorio/header",e);u(t.data)}catch(i){console.error("Erro ao buscar os dados do cabe\xe7alho:",i)}};return(0,o.useEffect)(()=>{p()},[]),(0,l.jsxs)(n.G7,{style:s.header,children:[(0,l.jsx)(n.G7,{style:{width:"100%"},children:(0,l.jsx)(n.xv,{})}),(0,l.jsx)(n.G7,{style:{width:"100%"},children:(0,l.jsx)(n.xv,{style:[s.title,s.content],children:null!==(d=null==x?void 0:null===(e=x.unidade)||void 0===e?void 0:e.tituloRelatorio)&&void 0!==d?d:"Cabe\xe7alho n\xe3o definido"})}),(0,l.jsx)(n.G7,{style:s.imageContainer,children:(null==x?void 0:null===(t=x.unidade)||void 0===t?void 0:t.url)?(0,l.jsx)(n.Ee,{src:null==x?void 0:null===(i=x.unidade)||void 0===i?void 0:i.url,style:s.image}):""})]})},x=()=>{let e=n.mM.create({footer:{position:"absolute",bottom:20,color:"grey",width:"100vw",display:"flex",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:25,fontSize:10}});return(0,l.jsxs)(n.G7,{fixed:!0,style:e.footer,children:[(0,l.jsxs)(n.xv,{children:["Gerado em"," ",new Date().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,l.jsx)(n.xv,{render(e){let{pageNumber:t,totalPages:i}=e;return"".concat(t,"/").concat(i)}})]})},u=e=>{let{children:t}=e;return(0,l.jsx)(n.Z$,{style:{width:"100%",height:"100vh"},children:(0,l.jsx)(n.BB,{children:(0,l.jsxs)(n.T3,{size:"A4",style:{paddingHorizontal:25},children:[(0,l.jsx)(c,{}),t,(0,l.jsx)(x,{})]})})})};var f=u},31483:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var l=i(85893),o=i(88942),n=i(6122),r=i(10160),d=i(21609),a=i(67294),s=i(95189),c=i(99070);let x=()=>{let[e,t]=(0,a.useState)(null),i=()=>{console.log("Assinatura eletronica")},o=()=>{window.print()},n=()=>{window.close()},x=()=>(console.log("entrou akiii"),(0,l.jsx)(c.WD,{document:(0,l.jsx)(s.Z,{}),fileName:"somename.pdf",children(e){let{blob:t,url:i,loading:l,error:o}=e;return l?"Loading document...":"Download now!"}})),u=[{id:1,title:"Imprimir",color:"primary",size:"large",variant:"contained",icon:"material-symbols:print",function:o},{id:2,title:"Assinar digitalmente",color:"primary",size:"large",variant:"outlined",icon:"fluent:signature-24-filled",function:i},{id:3,title:"Salvar PDF",color:"primary",size:"large",variant:"outlined",icon:"basil:download-solid",function:x},{id:4,title:"Fechar",color:"primary",size:"large",variant:"outlined",icon:"ooui:close",function:n}];return(0,a.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("reportParameters"));t(e),localStorage.removeItem("reportParameters")},[]),(0,l.jsx)("div",{className:"fixed bottom-10 right-8 flex flex-col-reverse gap-2 no-print ",children:u&&u.map(e=>(0,l.jsx)("div",{style:{textAlign:"center"},onClick:e.function,children:(0,l.jsx)(r.Z,{color:e.color,size:e.size,variant:e.variant,children:(0,l.jsx)(d.Z,{icon:e.icon})})},e.id))})},u=()=>(0,l.jsx)(o.Z,{children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x,{}),(0,l.jsx)(n.Z,{children:(0,l.jsx)(s.Z,{})})]})});u.getLayout=e=>(0,l.jsx)(o.Z,{children:e}),u.setConfig=()=>({mode:"light"});var f=u}},function(e){e.O(0,[4186,1445,1111,5999,2187,9774,2888,179],function(){return e(e.s=83102)}),_N_E=e.O()}]);