(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3825],{49837:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(87462),a=t(63366),s=t(67294),i=t(86010),o=t(94780),l=t(67074),u=t(78884),d=t(70918),c=t(1588),h=t(34867);function m(e){return(0,h.Z)("MuiCard",e)}(0,c.Z)("MuiCard",["root"]);var p=t(85893);let f=["className","raised"],v=e=>{let{classes:n}=e;return(0,o.Z)({root:["root"]},m,n)},g=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,n)=>n.root})(()=>({overflow:"hidden"})),x=s.forwardRef(function(e,n){let t=(0,u.Z)({props:e,name:"MuiCard"}),{className:s,raised:o=!1}=t,l=(0,a.Z)(t,f),d=(0,r.Z)({},t,{raised:o}),c=v(d);return(0,p.jsx)(g,(0,r.Z)({className:(0,i.Z)(c.root,s),elevation:o?8:void 0,ref:n,ownerState:d},l))});var Z=x},3511:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/esqueceu-sua-senha",function(){return t(9361)}])},82747:function(e,n,t){"use strict";function r(e){if(14!==(e=null==e?void 0:e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let n=e.length-2,t=e.substring(0,n),r=e.substring(n),a=0,s=n-7;for(let i=n;i>=1;i--)a+=t.charAt(n-i)*s--,s<2&&(s=9);let o=a%11<2?0:11-a%11;if(o!=r.charAt(0))return!1;n+=1,t=e.substring(0,n),a=0,s=n-7;for(let l=n;l>=1;l--)a+=t.charAt(n-l)*s--,s<2&&(s=9);return(o=a%11<2?0:11-a%11)==r.charAt(1)}function a(e){let n;if(11!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let t=0;for(let r=1;r<=9;r++)t+=parseInt(e.substring(r-1,r))*(11-r);if((10==(n=10*t%11)||11===n)&&(n=0),n!==parseInt(e.substring(9,10)))return!1;t=0;for(let a=1;a<=10;a++)t+=parseInt(e.substring(a-1,a))*(12-a);return(10==(n=10*t%11)||11===n)&&(n=0),n===parseInt(e.substring(10,11))}function s(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}t.d(n,{dI:function(){return s},sw:function(){return a},zk:function(){return r}})},9361:function(e,n,t){"use strict";t.r(n);var r=t(85893),a=t(41664),s=t.n(a),i=t(60664),o=t(30120),l=t(54225),u=t(67836),d=t(29630),c=t(91359),h=t(67074),m=t(62097),p=t(49837),f=t(55343),v=t(21609);t(30152);var g=t(88942),x=t(32414),Z=t(67294),j=t(87536),b=t(34175),y=t(82747),C=t(11163),P=t.n(C),w=t(86501),I=t(41099),k=t(19604);let N=(0,h.ZP)(p.Z)(e=>{let{theme:n}=e;return{[n.breakpoints.up("sm")]:{width:450}}}),E=()=>{var e,n,t;(0,m.Z)();let[a,h]=(0,Z.useState)(),[p,g]=(0,Z.useState)(),[C,E]=(0,Z.useState)(),_=P(),S=null==p?void 0:null===(e=p.email)||void 0===e?void 0:e.replace(/^(.{3}).*@/,"$1****@");(0,Z.useEffect)(()=>{h(_.query.type)},[]);let{handleSubmit:D,formState:{errors:q},setValue:z,register:A}=(0,j.cI)({});function F(e){g(""),"login"==a&&14==e.length&&(0,y.sw)(e)?i.h.post("esqueceuSenha/validation?type=".concat(a),{data:e}).then(e=>{g(e.data)}):"fornecedor"==a&&18==e.length&&(0,y.zk)(e)&&(console.log("ENVIA PRO BACKEND"),i.h.post("esqueceuSenha/validation?type=".concat(a),{data:e}).then(e=>{g(e.data)}))}console.log("errors",q);let J=e=>{let n={...e,email:null==p?void 0:p.email,nome:null==p?void 0:p.nome,usuarioID:null==p?void 0:p.usuarioID};i.h.post("/esqueceuSenha?type=".concat(a),{data:n}).then(e=>{200===e.status?w.Am.success("Email enviado com sucesso!"):w.Am.error("Erro ao enviar email, tente novamente!")})};return(0,r.jsxs)(o.Z,{className:"content-center",children:[(0,r.jsx)(N,{sx:{zIndex:1},style:{width:"min(500px, 96%)"},children:(0,r.jsxs)(c.Z,{sx:{p:e=>"".concat(e.spacing(15.5,7,8)," !important")},children:[(0,r.jsx)(o.Z,{sx:{mb:8,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(I.Z,{})}),(0,r.jsxs)(o.Z,{sx:{mb:6.5},children:[(0,r.jsx)(d.Z,{variant:"h5",sx:{mb:1.5,letterSpacing:"0.18px",fontWeight:600},children:"Esqueceu sua senha? \uD83D\uDD12"}),(0,r.jsx)(d.Z,{variant:"body2",children:"login"===a?"Digite seu CPF e enviaremos instru\xe7\xf5es para redefinir sua senha":"Digite seu CNPJ e enviaremos instru\xe7\xf5es para redefinir sua senha"})]}),(0,r.jsxs)("form",{onSubmit:D(J),children:["login"===a?(0,r.jsx)(f.Z,{fullWidth:!0,children:(0,r.jsx)(u.Z,{label:"CPF",placeholder:"CPF",size:"small","aria-describedby":"validation-schema-nome",name:"cpf",...A("cpf",{required:!0,validate:e=>(0,y.sw)(e)||"CPF inv\xe1lido"}),error:q.cpf,helperText:null===(n=q.cpf)||void 0===n?void 0:n.message,inputProps:{maxLength:14,onChange(e){z("cpf",(0,b.VL)(e.target.value)),F(e.target.value),E(e.target.value)}}})}):(0,r.jsx)(f.Z,{fullWidth:!0,children:(0,r.jsx)(u.Z,{label:"CNPJ",placeholder:"CNPJ","aria-describedby":"validation-schema-nome",name:"cnpj",...A("cnpj",{required:!0,validate:e=>(0,y.zk)(e)||"CNPJ inv\xe1lido"}),error:null==q?void 0:q.cnpj,helperText:null==q?void 0:null===(t=q.cnpj)||void 0===t?void 0:t.message,inputProps:{maxLength:18,onChange(e){z("cnpj",(0,b.PK)(e.target.value)),F(e.target.value),E(e.target.value)}}})}),(null==p?void 0:p.email)&&(0,y.dI)(null==p?void 0:p.email)&&(0,r.jsx)(k.Z,{severity:"info",sx:{mt:2},children:(0,r.jsxs)(d.Z,{variant:"body2",children:["Um link para a redefini\xe7\xe3o da senha ser\xe1 enviado para ",S]})}),!p&&(null==C?void 0:C.length)==("login"==a?14:18)&&(0,r.jsx)(k.Z,{severity:"error",sx:{mt:2},children:(0,r.jsxs)(d.Z,{variant:"body2",children:["Esse ","login"==a?"CPF":"CNPJ"," n\xe3o est\xe1 na nossa base de dados!"]})}),(0,r.jsx)(l.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",sx:{mb:5.25,mt:4},disabled:!(null==p?void 0:p.email)||!(0,y.dI)(null==p?void 0:p.email),children:"Enviar"}),(0,r.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)(d.Z,{component:s(),href:"login"===a?"/login":"/fornecedor",sx:{display:"flex","& svg":{mr:1.5},alignItems:"center",color:"primary.main",textDecoration:"none",justifyContent:"center"},children:[(0,r.jsx)(v.Z,{icon:"mdi:chevron-left",fontSize:"2rem"}),(0,r.jsx)("span",{children:"Voltar para o login"})]})})]})]})}),(0,r.jsx)(x.Z,{image:"/images/pages/auth-v1-reset-password-mask-dark.png"})]})};E.getLayout=e=>(0,r.jsx)(g.Z,{children:e}),E.guestGuard=!0,n.default=E},32414:function(e,n,t){"use strict";var r=t(85893),a=t(61225),s=t(67074),i=t(62097);let o=(0,s.ZP)("img")(e=>{let{theme:n}=e;return{zIndex:-1,bottom:"7%",width:"100%",position:"absolute",[n.breakpoints.down("lg")]:{bottom:"10%"}}}),l=e=>{let{image:n}=e,t=(0,i.Z)(),s=(0,a.Z)(t.breakpoints.down("md")),l=n||"/images/pages/auth-v1-login-mask-".concat(t.palette.mode,".png");return s?null:(0,r.jsx)(o,{alt:"mask",src:l})};n.Z=l}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=3511)}),_N_E=e.O()}]);