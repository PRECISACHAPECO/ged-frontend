(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1149],{65774:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configuracoes/formularios/recebimento-mp",function(){return o(60471)}])},24527:function(e,t,o){"use strict";var n=o(85893),i=o(79072),s=o(49837),l=o(91359),a=o(30120),r=o(29630),d=o(67294),c=o(21609),u=o(66136);let m=e=>{let{xs:t,md:o,icon:m,title:x,subtitle:v,action:p,handleClick:h}=e,{settings:j}=(0,d.useContext)(u.J6),b=j.mode;return(0,n.jsx)(i.ZP,{item:!0,xs:t,md:o,children:(0,n.jsx)(s.Z,{onClick:h,className:"cursor-pointer ".concat("dark"==b?"hover:bg-[#232327]":"hover:bg-[#EEEEF1]","  shadow-xl transition-all"),children:(0,n.jsx)(l.Z,{className:"text-center",children:(0,n.jsxs)(a.Z,{display:"flex",flexDirection:"column",alignItems:"center",sx:{gap:3,padding:6},children:[(0,n.jsx)(c.Z,{icon:m,width:38}),(0,n.jsx)(r.Z,{variant:"h6",className:"!font-extrabold",children:x}),(0,n.jsx)(r.Z,{variant:"subtitle2",children:v}),(0,n.jsxs)("div",{className:"flex items-center gap-1 text-[#4a8b57] ",children:[(0,n.jsx)(c.Z,{icon:"new"==p?"icon-park-solid:add-one":"grommet-icons:form-next-link",width:16}),(0,n.jsx)(r.Z,{variant:"body2",color:"primary",children:"new"==p?"Criar novo":"Acessar"})]})]})})})})};t.Z=m},1948:function(e,t,o){"use strict";var n=o(85893),i=o(54225),s=o(1890),l=o(77745),a=o(95398),r=o(76779),d=o(44642),c=o(60664),u=o(30120),m=o(22416),x=o(22841),v=o(16056),p=o(79072),h=o(55343),j=o(67836),b=o(87536),Z=o(86501);let f=e=>{let{openModal:t,setOpenModalConfirmScore:o,itemScore:f,setItemScore:g}=e,k=()=>{o(!1)},{handleSubmit:C,register:y}=(0,b.cI)({}),I=e=>{let t={alternativaID:null==f?void 0:f.alternativaID,pontuacao:(null==e?void 0:e.pontuacao)?1:0,parFornecedorBlocoItemID:null==f?void 0:f.parFornecedorBlocoItemID,alternatives:null==f?void 0:f.alternatives.map((t,o)=>({alternativaItemID:null==t?void 0:t.alternativaItemID,score:e[null==t?void 0:t.nome]}))};c.h.post("/formularios/fornecedor/saveItemScore",{data:t}).then(e=>{o(!1),Z.Am.success("Pontua\xe7\xe3o salva com sucesso!")})};return(0,n.jsx)(n.Fragment,{children:(null==f?void 0:f.alternatives)&&(0,n.jsx)(s.Z,{open:t,onClose:k,"aria-labelledby":"form-dialog-title",children:(0,n.jsxs)("form",{onSubmit:C(I),children:[(0,n.jsx)(l.Z,{id:"form-dialog-title",children:"Pontua\xe7\xe3o das respostas"}),(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(d.Z,{sx:{mb:3},children:"Defina a pontua\xe7\xe3o para cada alternativa"}),(0,n.jsx)(u.Z,{sx:{mb:4},children:(0,n.jsx)(m.Z,{row:!0,children:(0,n.jsx)(x.Z,{label:"Habilitar pontua\xe7\xe3o",control:(0,n.jsx)(v.Z,{name:"pontuacao",...y("pontuacao"),checked:(null==f?void 0:f.pontuacao)==1,onChange(e){g({...f,pontuacao:e.target.checked?1:0})}})})})}),f&&(null==f?void 0:f.alternatives.map((e,t)=>(0,n.jsx)(p.ZP,{md:12,sx:{mb:4},children:(0,n.jsx)("grid",{item:!0,md:12,children:(0,n.jsx)(h.Z,{fullWidth:!0,children:(0,n.jsx)(j.Z,{disabled:1!=f.pontuacao,id:"outlined-basic",label:null==e?void 0:e.nome,...y("".concat(null==e?void 0:e.nome)),name:"".concat(null==e?void 0:e.nome),defaultValue:null==e?void 0:e.score,variant:"outlined",size:"small",type:"number",title:0!=f.pontuacao||"Habilite a pontua\xe7\xe3o para preencher"})})})},t)))]}),(0,n.jsxs)(r.Z,{className:"dialog-actions-dense",children:[(0,n.jsx)(i.Z,{variant:"outlined",color:"primary",onClick:k,children:"Cancelar"}),(0,n.jsx)(i.Z,{variant:"contained",color:"primary",onClick:C(I),children:"Confirmar"})]})]})})})};t.Z=f},43816:function(e,t,o){"use strict";var n=o(85893),i=o(11163),s=o.n(i),l=o(54225),a=o(41664),r=o.n(a),d=o(40039),c=o(67294),u=o(83830),m=o(46749),x=o(21609),v=o(41088);let p=e=>{let{btnNew:t,btnPrint:o,btnSave:i,btnBack:a,type:p,partialRoute:h,handleSave:j,hasListChange:b,openModal:Z}=e,f=s(),{setId:g}=(0,c.useContext)(u.X),{routes:k}=(0,c.useContext)(d.V),{isLoading:C}=(0,v.Z)(),y="new"===p&&h?(0,m.g_)((0,m.g_)(f.pathname)):"new"===p||h?(0,m.g_)(f.pathname):f.pathname;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between my-2 w-full",children:[(0,n.jsx)("div",{children:a&&(0,n.jsx)(l.Z,{onClick(){g(null),"new"==p&&f.push(y)},type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,n.jsx)(x.Z,{icon:"grommet-icons:form-previous-link"})})}),(0,n.jsxs)("div",{className:"flex items-center gap-4 ",children:[(0,n.jsx)("div",{children:o&&(0,n.jsxs)(l.Z,{onClick:()=>window.print(),type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,n.jsx)(x.Z,{icon:"mdi:printer"}),(0,n.jsx)("span",{className:"hidden sm:block",children:"Imprimir"})]})}),(0,n.jsx)("div",{className:"",children:t&&k.find(e=>(e.rota===f.pathname||e.rota===(0,m.g_)(f.pathname))&&e.inserir)&&(0,n.jsx)(r(),{href:Z?"":"".concat(f.pathname,"/novo"),children:(0,n.jsxs)(l.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",onClick:Z||null,sx:{display:"flex",gap:2},children:[(0,n.jsx)(x.Z,{icon:"ic:outline-plus"}),(0,n.jsx)("span",{className:"hidden sm:block",children:"Novo"})]})})}),(0,n.jsx)("div",{children:i&&(0,n.jsxs)(l.Z,{onClick:j,disabled:!b||C,type:"button",variant:"outlined",color:C?"secondary":"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,n.jsx)(x.Z,{icon:"mdi:check-bold"}),(0,n.jsx)("span",{className:"hidden sm:block",children:"Salvar"})]})})]})]})})};t.Z=p},93250:function(e,t,o){"use strict";var n=o(85893),i=o(49837),s=o(91359),l=o(95722);let a=e=>{let{result:t,columns:o,btnNew:a=!0,btnPrint:r=!0,btnBack:d,openModal:c}=e;return(0,n.jsx)(i.Z,{children:(0,n.jsx)(s.Z,{sx:{pt:"0"},children:(0,n.jsx)(l.Z,{rows:t,columns:o,buttonsHeader:{btnNew:a,btnPrint:r,btnBack:d,openModal:c}})})})};t.Z=a},67569:function(e,t,o){"use strict";var n=o(85893),i=o(79072),s=o(30120),l=o(29630),a=o(22841),r=o(75158);let d=e=>{let{xs:t,md:o,title:d,index:c,name:u,typePage:m,value:x,edit:v,register:p,setValue:h,className:j}=e;return(0,n.jsx)(i.ZP,{item:!0,xs:t,md:o,className:j,children:(0,n.jsxs)(s.Z,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,n.jsx)(l.Z,{variant:"caption",children:c&&0!=c?"":d}),(0,n.jsx)(a.Z,{control:(0,n.jsx)(r.Z,{size:"small",sx:{ml:4},...p(u),defaultChecked:!0==x||1==x||"new"==m,onChange(e){v&&h(v,!0)}})})]})})};t.Z=d},3893:function(e,t,o){"use strict";var n=o(85893),i=o(79072),s=o(30120),l=o(22841),a=o(75158),r=o(53934);let d=e=>{let{xs:t,md:o,title:d,index:c,name:u,typePage:m,value:x,disabled:v,register:p,onClick:h,helpText:j,helpTextPosition:b}=e;return(0,n.jsx)(i.ZP,{item:!0,xs:t,md:o,children:(0,n.jsx)(s.Z,{display:"flex",alignItems:"center",justifyContent:"start",sx:{gap:0},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{control:(0,n.jsx)(a.Z,{name:u,onClick:h,...p(u),defaultChecked:x,disabled:v}),label:d,size:"small",sx:{marginRight:"4px","&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}}),j&&(0,n.jsx)(r.Z,{text:j,position:null!=b?b:"top"})]})})})};t.Z=d},88475:function(e,t,o){"use strict";var n=o(85893),i=o(79072),s=o(30120),l=o(29630),a=o(72389),r=o(80562),d=o(21609);let c=e=>{let{xs:t,md:o,icon:c,color:u,title:m,removeItem:x,item:v,pending:p,index:h,textSuccess:j,textError:b}=e;return j=j||"Remover este item",b=b||"Este item n\xe3o pode ser removido pois possui cadastros vinculados a ele",(0,n.jsx)(i.ZP,{item:!0,xs:t,md:o,children:(0,n.jsxs)(s.Z,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,n.jsx)(l.Z,{variant:"caption",children:m}),(0,n.jsx)(a.Z,{title:1==p?b:j,children:(0,n.jsx)(r.Z,{color:null!=u?u:"error",size:"small",onClick(){1!=p&&x(v,h)},sx:{opacity:1==p?.5:1,cursor:1==p?"default":"pointer"},children:(0,n.jsx)(d.Z,{icon:null!=c?c:"tabler:trash-filled"})})})]})})};t.Z=c},84220:function(e,t,o){"use strict";var n=o(85893),i=o(79072),s=o(55343),l=o(35966),a=o(67836),r=o(87536),d=o(53934);let c=e=>{var t;let{xs:o,md:c,title:u,options:m,name:x,type:v,limitTags:p,value:h,required:j,control:b,disabled:Z,multiple:f,setValue:g,errors:k,onChange:C,className:y,createNew:I,handleRegistroEstabelecimento:w,helpText:N,helpTextPosition:P}=e,S=m?[...m]:[];return I&&(S=[{nome:"-- Novo --"},...m]),(0,n.jsx)(i.ZP,{item:!0,xs:o,md:c,sx:{my:1},className:y,children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(s.Z,{fullWidth:!0,children:(0,n.jsx)(r.Qr,{name:x,control:b,defaultValue:h,rules:{required:j},render(e){let{field:o}=e;return(0,n.jsx)(l.Z,{...o,multiple:f,limitTags:p,size:"small",options:S,getOptionLabel:e=>(null==e?void 0:e.cnpj)?"".concat(e.cnpj," - ").concat(e.nome):null==e?void 0:e.nome,value:f&&o.value&&o.value.length>0?o.value.map(e=>m.find(t=>t.id===e.id)):null!==(t=o.value)&&void 0!==t?t:{nome:""},disabled:Z,onChange(e,t){t&&"-- Novo --"==e.target.innerText?I():(C&&C(t),g(x,t),"registroestabelecimento"===v&&w(t?t.id:null))},renderInput:e=>(0,n.jsx)(a.Z,{...e,label:u,placeholder:u,error:!!k}),noOptionsText:"Sem op\xe7\xf5es"})}})}),N&&(0,n.jsx)("div",{className:"absolute right-[60px] top-[12px] ",children:(0,n.jsx)(d.Z,{text:N,position:null!=P?P:"top"})})]})})};t.Z=c},47842:function(e,t,o){"use strict";var n=o(85893),i=o(70754);let s=e=>{let{show:t,title:o}=e;return t&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg z-50",children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2 ",children:[(0,n.jsx)(i.Z,{color:"primary"}),(0,n.jsx)("p",{className:"text-sm opacity-80",children:null!=o?o:"Carregando..."})]})})};t.Z=s},30756:function(e,t,o){"use strict";o.r(t);var n=o(85893),i=o(79072);o(86501),o(47842),o(84220);var s=o(83830),l=o(40039);o(86887);var a=o(66136);o(21609);var r=o(67294);o(60664);var d=o(11163),c=o.n(d),u=o(24527),m=o(43816);let x=e=>{let{values:t}=e,{user:o,loggedUnity:d}=(0,r.useContext)(l.V),{setId:x}=(0,r.useContext)(s.X),[v,p]=(0,r.useState)([]),[h,j]=(0,r.useState)(null),[b,Z]=(0,r.useState)(!1);c();let{settings:f}=(0,r.useContext)(a.J6);f.mode;let g=e=>{x(e)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.Z,{btnBack:!0,btnNew:!0,type:"new",partialRoute:!1}),(0,n.jsx)(i.ZP,{container:!0,spacing:4,children:t&&t.map((e,t)=>(0,n.jsx)(u.Z,{xs:12,md:3,icon:"fluent:form-multiple-48-regular",title:e.nome,subtitle:"Ciclo de ".concat(e.ciclo," dias"),action:"edit",handleClick:()=>g(e.id)},t))})]})};t.default=x},60471:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return B}});var n=o(85893),i=o(67294),s=o(60664);o(93250);var l=o(60565),a=o(83830),r=o(87536),d=o(49837),c=o(91359),u=o(79072),m=o(85214),x=o(29630),v=o(54225),p=o(11163),h=o.n(p),j=o(46749),b=o(86887),Z=o(40039),f=o(86501),g=o(47842),k=o(21609);o(1948);var C=o(84220),y=o(29308),I=o(67569),w=o(3893),N=o(88475);o(53934);let P=e=>{var t;let{blocks:o,errors:i,control:s,register:l,getValues:a,removeItem:r,addItem:m,removeBlock:p,setValue:h,allOptions:j,openModalConfirmScore:b,setOpenModalConfirmScore:Z,itemScore:f,setItemScore:g}=e;return a("blocks")&&o&&a("blocks").map((e,j)=>{var w,P,S,D,z,B,_,E;return(0,n.jsx)(d.Z,{md:12,sx:{mt:4},children:(0,n.jsxs)(c.Z,{children:[(0,n.jsxs)(u.ZP,{container:!0,spacing:4,children:[(0,n.jsx)(y.Z,{className:"order-1",xs:10,md:1,title:"Sequ\xeancia",name:"blocks.[".concat(j,"].dados.ordem"),value:e.dados.ordem,required:!0,control:s,errors:null==i?void 0:null===(w=i.blocks)||void 0===w?void 0:null===(P=w[j])||void 0===P?void 0:null===(S=P.dados)||void 0===S?void 0:S.ordem}),(0,n.jsx)(y.Z,{className:"order-3 md:order-2",xs:10,md:9,title:"Nome do Bloco",name:"blocks.[".concat(j,"].dados.nome"),value:e.dados.nome,required:!0,control:s,errors:null==i?void 0:null===(D=i.blocks)||void 0===D?void 0:null===(z=D[j])||void 0===z?void 0:null===(B=z.dados)||void 0===B?void 0:B.nome}),(0,n.jsx)(I.Z,{className:"order-2 md:order-3",xs:2,md:1,title:"Ativo",name:"blocks.[".concat(j,"].dados.status"),value:null===(_=o[j])||void 0===_?void 0:_.dados.status,register:l}),(0,n.jsx)(I.Z,{className:"order-4 ",xs:2,md:1,title:"Observa\xe7\xe3o",name:"blocks.[".concat(j,"].dados.obs"),value:null===(E=o[j])||void 0===E?void 0:E.dados.obs,register:l})]}),(0,n.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:600,mt:4},children:"Itens"}),a("blocks")&&e.itens&&e.itens.map((e,a)=>{var d,c,m,x,v,p,b,Z,f,g,k,w,P,S,D,z,B,_,E,F,M,O;return(0,n.jsxs)(u.ZP,{id:"item-".concat(j,"-").concat(a),container:!0,spacing:2,sx:{my:1},children:[(0,n.jsx)(y.Z,{xs:12,md:1,title:"Sequ\xeancia",name:"blocks.[".concat(j,"].itens.[").concat(a,"].ordem"),value:e.ordem,required:!0,control:s,errors:null==i?void 0:null===(d=i.blocks)||void 0===d?void 0:null===(c=d[j])||void 0===c?void 0:null===(m=c.itens)||void 0===m?void 0:null===(x=m[a])||void 0===x?void 0:x.ordem}),(0,n.jsx)(C.Z,{xs:12,md:7,title:(null===(p=null===(v=o[j])||void 0===v?void 0:v.itens[a])||void 0===p?void 0:p.itemID)?"Item [".concat(null===(Z=null===(b=o[j])||void 0===b?void 0:b.itens[a])||void 0===Z?void 0:Z.itemID,"]"):"Item",name:"blocks.[".concat(j,"].itens.[").concat(a,"].item"),value:null!==(t=null===(g=null===(f=o[j])||void 0===f?void 0:f.itens[a])||void 0===g?void 0:g.item)&&void 0!==t?t:null,required:!0,disabled:1==e.hasPending,options:null===(k=o[j])||void 0===k?void 0:null===(w=k.optionsBlock)||void 0===w?void 0:w.itens,register:l,setValue:h,control:s,errors:null==i?void 0:null===(P=i.blocks)||void 0===P?void 0:null===(S=P[j])||void 0===S?void 0:null===(D=S.itens)||void 0===D?void 0:null===(z=D[a])||void 0===z?void 0:z.item}),(0,n.jsx)(I.Z,{xs:2,md:1,title:"Ativo",index:a,name:"blocks.[".concat(j,"].itens.[").concat(a,"].status"),value:null===(_=null===(B=o[j])||void 0===B?void 0:B.itens[a])||void 0===_?void 0:_.status,register:l}),(0,n.jsx)(I.Z,{xs:2,md:1,title:"Obs",index:a,name:"blocks.[".concat(j,"].itens.[").concat(a,"].obs"),value:null===(F=null===(E=o[j])||void 0===E?void 0:E.itens[a])||void 0===F?void 0:F.obs,register:l}),(0,n.jsx)(I.Z,{xs:2,md:1,title:"Obrigat\xf3rio",index:a,name:"blocks.[".concat(j,"].itens.[").concat(a,"].obrigatorio"),value:null===(O=null===(M=o[j])||void 0===M?void 0:M.itens[a])||void 0===O?void 0:O.obrigatorio,register:l}),(0,n.jsx)(N.Z,{xs:2,md:1,title:0==a?"Remover":"",index:j,removeItem:()=>r(e,j,a),item:e,pending:e.hasPending,textSuccess:"Remover este item",textError:"Este item n\xe3o pode mais ser removido pois j\xe1 foi respondido em um formul\xe1rio"})]},a)}),b&&f&&(0,n.jsx)(DialogConfirmScore,{openModal:b,setOpenModalConfirmScore:Z,itemScore:f,setItemScore:g}),(0,n.jsx)(u.ZP,{container:!0,spacing:4,sx:{mt:4},children:(0,n.jsxs)(u.ZP,{item:!0,xs:12,md:12,children:[(0,n.jsx)(v.Z,{variant:"outlined",color:"primary",startIcon:(0,n.jsx)(k.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){m(j)},children:"Inserir Item"}),(0,n.jsx)(v.Z,{variant:"outlined",color:"error",startIcon:(0,n.jsx)(k.Z,{icon:"tabler:trash-filled"}),onClick(){p(e,j)},sx:{ml:2},children:"Remover Bloco"})]})})]})},j)})},S=e=>{var t,o,l,a;let{id:p}=e,{user:N,loggedUnity:S}=(0,i.useContext)(Z.V),[D,z]=(0,i.useState)(),[B,_]=(0,i.useState)(),[E,F]=(0,i.useState)(null),[M,O]=(0,i.useState)(),[q,H]=(0,i.useState)(null),[V,A]=(0,i.useState)(),[R,T]=(0,i.useState)(!1),[L,X]=(0,i.useState)(),[W,G]=(0,i.useState)(!1),[J,Q]=(0,i.useState)([]),[U,K]=(0,i.useState)([]),[Y,$]=(0,i.useState)(!1),ee=h(),et=ee.pathname,{setValue:eo,register:en,handleSubmit:ei,reset:es,getValues:el,control:ea,formState:{errors:er}}=(0,r.cI)(),ed=async e=>{let t={id:p,unidadeID:S.unidadeID,model:e.model,header:e.header,blocks:e.blocks,arrRemovedBlocks:U,arrRemovedItems:J,orientacoes:e.orientations};console.log("\uD83D\uDE80 ~ data submit recebimento:",t),_(null);try{await s.h.put("".concat(et,"/updateData"),t).then(e=>{f.ZP.success(j.OD.successUpdate),G(!W)})}catch(o){console.log(o)}},ec=(e,t,o,n)=>{let i=n.itens;i=i.filter(t=>{let o=e.itens.some(e=>e.item&&t.id===e.item.id);return!o});let s=[...o];s[t].optionsBlock.itens=i,O(s)},eu=e=>{var t;let o=[...M];o[e].itens.push({ordem:(null===(t=o[e].itens)||void 0===t?void 0:t.length)+1,obs:1,status:1,obrigatorio:1}),O(o),eo("blocks.[".concat(e,"].itens.[").concat(o[e].itens.length-1,"].new"),!0),ec(o[e],e,M,E)},em=(e,t,o)=>{if(1===M[t].itens.length){f.ZP.error("Voc\xea deve ter ao menos um item!");return}let n=[...J];n.push(e),Q(n);let i=[...el("blocks")];i[t].itens.splice(o,1),eo("blocks",i),O(i),ec(M[t],t,M,E),$(!Y)},ex=(e,t)=>{let o=!0;if(e&&e.itens.map(e=>{1==e.hasPending&&(o=!1)}),!o){f.ZP.error("Este bloco n\xe3o pode ser removido pois possui itens respondidos em um formul\xe1rio");return}let n=[...U];n.push(e.dados.parLimpezaModeloBlocoID),K(n);let i=[...M];i.splice(t,1),O(i),eo("blocks",i),f.ZP.success("Bloco pr\xe9-removido. Salve para concluir!")},ev=()=>{let e=[...el("blocks")];e.push({dados:{ordem:e.length+1,nome:"",status:1},optionsBlock:{itens:[...E.itens]},itens:[{parFormularioID:1,new:!0,ordem:"1",nome:"",status:1,item:null}]}),eo("blocks",e),O(e)},ep=()=>{try{s.h.post("".concat(et,"/getData"),{id:p,unidadeID:S.unidadeID}).then(e=>{var t,o;console.log("\uD83D\uDE80 ~ response dataaaaaa:",e.data),z(e.data.model),_(e.data.header),O(e.data.blocks),F({itens:null===(t=e.data.options)||void 0===t?void 0:t.itens}),H(null===(o=e.data.options)||void 0===o?void 0:o.profissionais),A(e.data.orientations),es(e.data),setTimeout(()=>{var t,o;null===(t=e.data)||void 0===t||null===(o=t.blocks)||void 0===o||o.map((t,o)=>{ec(t,o,e.data.blocks,e.data.options)})},3e3)})}catch(e){console.log(e)}};return(0,i.useEffect)(()=>{ep()},[p,W]),(0,n.jsx)(n.Fragment,{children:B?(0,n.jsxs)("form",{onSubmit:ei(ed),children:[D&&(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(b.Z,{partialRoute:!0,btnCancel:!0,btnSave:!0,handleSubmit:()=>ei(ed),type:"edit"}),(0,n.jsx)(c.Z,{children:(0,n.jsxs)(u.ZP,{container:!0,spacing:4,children:[(0,n.jsx)(y.Z,{className:"order-1",xs:12,md:8,title:"Modelo",name:"model.nome",value:D.nome,required:!0,control:ea,errors:null==er?void 0:null===(t=er.model)||void 0===t?void 0:t.nome}),(0,n.jsx)(y.Z,{className:"order-1",xs:12,md:3,type:"number",title:"Ciclo (dias)",name:"model.ciclo",value:D.ciclo,required:!0,control:ea,errors:null==er?void 0:null===(o=er.model)||void 0===o?void 0:o.ciclo,help:{text:"...",position:"top",gapLeft:"10px"}}),(0,n.jsx)(I.Z,{className:"order-2 md:order-3",xs:2,md:1,title:"Ativo",name:"model.status",value:D.status,register:en}),(0,n.jsx)(y.Z,{xs:12,md:12,className:"order-4",title:"Cabe\xe7alho",name:"model.cabecalho",required:!1,value:D.cabecalho,multiline:!0,rows:4,control:ea,helpText:"Texto que ser\xe1 exibido no cabe\xe7alho do formul\xe1rio. Adicione aqui instru\xe7\xf5es e orienta\xe7\xf5es para auxiliar o preenchimento pelo fornecedor."}),q&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C.Z,{xs:12,md:6,className:"order-5",multiple:!0,title:"Profissionais que preenchem",name:"model.profissionaisPreenchem",options:null!=q?q:[],value:null!==(l=null==D?void 0:D.profissionaisPreenchem)&&void 0!==l?l:[],register:en,setValue:eo,control:ea}),(0,n.jsx)(C.Z,{xs:12,md:6,className:"order-5",multiple:!0,title:"Profissionais que aprovam",name:"model.profissionaisAprovam",options:null!=q?q:[],value:null!==(a=null==D?void 0:D.profissionaisAprovam)&&void 0!==a?a:[],register:en,setValue:eo,control:ea})]})]})})]}),B&&(0,n.jsx)(d.Z,{sx:{mt:4},children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(m.Z,{component:"nav","aria-label":"main mailbox",children:(0,n.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(u.ZP,{item:!0,md:4,xs:4,children:(0,n.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Nome do Campo"})}),(0,n.jsx)(u.ZP,{item:!0,md:3,xs:4,children:(0,n.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostra no Formul\xe1rio"})}),(0,n.jsx)(u.ZP,{item:!0,md:3,xs:4,children:(0,n.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Obrigat\xf3rio"})}),B.map((e,t)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.ZP,{item:!0,md:4,xs:6,children:e.nomeCampo}),(0,n.jsx)(u.ZP,{item:!0,md:3,xs:3,children:(0,n.jsx)(w.Z,{title:"",name:"header.[".concat(t,"].mostra"),value:e.mostra,register:en,disabled:"cnpj"==e.nomeColuna})}),(0,n.jsx)(u.ZP,{item:!0,md:3,xs:3,children:(0,n.jsx)(w.Z,{title:"",name:"header.[".concat(t,"].obrigatorio"),value:e.obrigatorio,register:en,disabled:"cnpj"==e.nomeColuna})})]}))]})})})}),M?(0,n.jsx)(P,{blocks:M,errors:er,control:ea,register:en,removeItem:em,addItem:eu,getValues:el,removeBlock:ex,setValue:eo,openModalConfirmScore:R,setOpenModalConfirmScore:T,itemScore:L,allOptions:E},Y):(0,n.jsx)(g.Z,{}),(0,n.jsx)(u.ZP,{item:!0,xs:12,md:12,sx:{mt:4},children:(0,n.jsx)(v.Z,{variant:"outlined",color:"primary",startIcon:(0,n.jsx)(k.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){ev()},children:"Inserir Bloco"})}),V&&(0,n.jsx)(d.Z,{md:12,sx:{mt:4},children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(u.ZP,{container:!0,spacing:4,children:(0,n.jsx)(y.Z,{xs:12,md:12,title:"Orienta\xe7\xf5es",name:"orientations.obs",required:!1,value:null==V?void 0:V.obs,multiline:!0,rows:4,control:ea})})})})]}):(0,n.jsx)(g.Z,{})})};var D=o(30756);let z=()=>{let[e,t]=(0,i.useState)(null),o=(0,p.useRouter)(),r=o.pathname,{setTitle:d}=(0,i.useContext)(l.f),{id:c,setId:u}=(0,i.useContext)(a.X),{loggedUnity:m}=(0,i.useContext)(Z.V);return(0,i.useEffect)(()=>{let e=async()=>{await s.h.get("".concat(r,"/getList/").concat(m.unidadeID)).then(e=>{t(e.data),d({title:"Formul\xe1rios modelo de recebimento de MP",subtitle:{id:c,count:e.data.length,new:!1}})})};e()},[c]),(0,j.OL)(r,[{title:"ID",field:"id",size:.2},{title:"Nome",field:"nome",size:.8}]),(0,n.jsx)(n.Fragment,{children:e?c&&c>0?(0,n.jsx)(S,{id:c}):(0,n.jsx)(D.default,{values:e}):(0,n.jsx)(g.Z,{show:!0})})};var B=z},22096:function(e,t,o){"use strict";var n=o(85893),i=o(30120),s=o(67836),l=o(80562),a=o(50853),r=o(43816),d=o(61225);o(40039);var c=o(67294),u=o(83830),m=o(11163),x=o.n(m),v=o(54225),p=o(46749),h=o(21609);let j=e=>{let t=x(),{setId:o}=(0,c.useContext)(u.X);return(0,d.Z)("(min-width:640px)"),(0,n.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"row",gap:2,alignItems:"center",mb:2,justifyContent:"space-between",p:e=>e.spacing(8,0,0,0)},children:[(0,n.jsxs)(i.Z,{sx:{display:"flex",gap:"8px",textAlig:"end"},children:[e.buttonsHeader.btnBack&&(0,n.jsx)(v.Z,{onClick(){t.push((0,p.g_)(t.pathname)),o(null)},type:"button",variant:"outlined",color:"primary",size:"small",children:(0,n.jsx)(h.Z,{icon:"material-symbols:arrow-back-rounded"})}),(0,n.jsx)(s.Z,{size:"medium",value:e.value,onChange:e.onChange,placeholder:"Buscarâ€¦",variant:"standard",InputProps:{startAdornment:(0,n.jsx)(i.Z,{sx:{mr:2,display:"flex"},children:(0,n.jsx)(h.Z,{icon:"mdi:magnify",fontSize:20})}),endAdornment:(0,n.jsx)(l.Z,{size:"medium",title:"Clear","aria-label":"Clear",onClick:e.clearSearch,children:(0,n.jsx)(h.Z,{icon:"mdi:close",fontSize:20})})},sx:{width:{xs:1,sm:"auto"},"& .MuiInputBase-root > svg":{mr:2}}}),(0,n.jsx)("div",{className:"hidden sm:block ",children:(0,n.jsx)(a.M,{className:"!h-full"})})]}),(0,n.jsx)(r.Z,{btnNew:e.buttonsHeader.btnNew,btnPrint:e.buttonsHeader.btnPrint,btnBack:e.buttonsHeader.btnBack,btnSave:e.buttonsHeader.btnSave,handleSave:e.buttonsHeader.handleSave,hasListChange:e.hasChange,openModal:e.buttonsHeader.openModal})]})};t.Z=j},95722:function(e,t,o){"use strict";var n=o(85893),i=o(67294),s=o(87630),l=o(75680),a=o(22096),r=o(60565),d=o(83830);let c=e=>{let{rows:t,columns:o,buttonsHeader:c}=e,{handleSearch:u,pageSize:m,setPageSize:x,searchText:v,filteredData:p,setData:h,data:j}=(0,i.useContext)(r.f),{setId:b}=(0,i.useContext)(d.X);function Z(e){let t=e.split("/");return"".concat(t[2],"-").concat(t[1],"-").concat(t[0])}h(t);let f=j.slice().sort((e,t)=>"Inativo"===e.status&&"Inativo"!==t.status?1:"Inativo"!==e.status&&"Inativo"===t.status?-1:0),g=e=>{let t=e.row.status;return"Inativo"===t?"inativo-row":""};return o.map(e=>{"date"===e.type&&(e.sortComparator=(e,t)=>{let o=Z(e),n=Z(t);return o.localeCompare(n)})}),(0,n.jsx)(s._,{localeText:l.F.components.MuiDataGrid.defaultProps.localeText,autoHeight:!0,columns:o,pageSize:m,rowsPerPageOptions:[10,20,30,40,50,100],components:{Toolbar:a.Z},rows:v?p:f,onCellClick(e,t){b(e.row.id)},onPageSizeChange:e=>x(e),getRowClassName:g,sx:{"& .MuiDataGrid-cell":{cursor:"pointer",overflow:"scroll"}},componentsProps:{toolbar:{value:v,clearSearch:()=>u(""),onChange:e=>u(e.target.value),buttonsHeader:c}}})};t.Z=c}},function(e){e.O(0,[9241,9774,2888,179],function(){return e(e.s=65774)}),_N_E=e.O()}]);