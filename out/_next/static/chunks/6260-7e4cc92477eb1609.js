"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6260],{91359:function(e,o,a){a.d(o,{Z:function(){return g}});var t=a(87462),n=a(63366),s=a(67294),r=a(86010),i=a(94780),l=a(67074),d=a(78884),c=a(1588),u=a(34867);function x(e){return(0,u.Z)("MuiCardContent",e)}(0,c.Z)("MuiCardContent",["root"]);var m=a(85893);let p=["className","component"],f=e=>{let{classes:o}=e;return(0,i.Z)({root:["root"]},x,o)},v=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,o)=>o.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),h=s.forwardRef(function(e,o){let a=(0,d.Z)({props:e,name:"MuiCardContent"}),{className:s,component:i="div"}=a,l=(0,n.Z)(a,p),c=(0,t.Z)({},a,{component:i}),u=f(c);return(0,m.jsx)(v,(0,t.Z)({as:i,className:(0,r.Z)(u.root,s),ownerState:c,ref:o},l))});var g=h},49837:function(e,o,a){a.d(o,{Z:function(){return b}});var t=a(87462),n=a(63366),s=a(67294),r=a(86010),i=a(94780),l=a(67074),d=a(78884),c=a(70918),u=a(1588),x=a(34867);function m(e){return(0,x.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var p=a(85893);let f=["className","raised"],v=e=>{let{classes:o}=e;return(0,i.Z)({root:["root"]},m,o)},h=(0,l.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,o)=>o.root})(()=>({overflow:"hidden"})),g=s.forwardRef(function(e,o){let a=(0,d.Z)({props:e,name:"MuiCard"}),{className:s,raised:i=!1}=a,l=(0,n.Z)(a,f),c=(0,t.Z)({},a,{raised:i}),u=v(c);return(0,p.jsx)(h,(0,t.Z)({className:(0,r.Z)(u.root,s),elevation:i?8:void 0,ref:o,ownerState:c},l))});var b=g},47842:function(e,o,a){var t=a(85893),n=a(70754);let s=e=>{let{show:o,title:a,customTextProps:s,...r}=e;return o&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg z-50",children:(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2 ",children:[(0,t.jsx)(n.Z,{color:"primary",...r}),(0,t.jsx)("p",{className:"opacity-80 text-sm ".concat(s),children:null!=a?a:"Carregando..."})]})})};o.Z=s},36260:function(e,o,a){a.d(o,{Z:function(){return ea}});var t=a(85893),n=a(67294),s=a(87536),r=a(56531),i=a(99734),l=a(34282),d=a(29308),c=a(23895),u=a(7071),x=a(61953),m=a(49837),p=a(91359),f=a(29630),v=a(79072),h=a(55343),g=a(19604),b=a(11163),j=a.n(b),D=a(46749),Z=a(44731),C=a(60664),y=a(86887),I=a(83830),F=a(40039),S=a(39976),P=a(47842),w=a(86501),E=a(66136),M=a(80377);a(27304);var V=a(50287),N=a(84220),A=a(21609);let R=e=>{var o,a,s,i,l,c,u,x;let{modeloID:m,values:p,fields:f,fornecedor:h,setFornecedor:g,disabled:b,register:Z,errors:y,setValue:S,control:P,getAddressByCep:w}=e,{user:M,loggedUnity:A}=(0,n.useContext)(F.V),[R,W]=(0,n.useState)({}),[k,H]=(0,n.useState)([]),[G,T]=(0,n.useState)([]),{settings:z}=(0,n.useContext)(E.J6);z.mode,j();let{setId:O}=(0,n.useContext)(I.X),B=(e,o,a,t)=>{let n=new Date(a),s=(0,D.HD)(e,n,t);W(e=>({...e,[o]:s}))},_=async()=>{let e=await C.h.post("/cadastros/profissional/getProfissionaisAssinatura",{formularioID:2,modeloID:m});H(e.data.preenche),L(e.data.preenche)},q=async()=>{let e=await C.h.post("/formularios/fornecedor/getFornecedoresAprovados",{unidadeID:A.unidadeID});T(e.data)},L=e=>{let o=M.profissionalID,a=e.find(e=>e.id===o);a&&a.id>0&&S("fieldsHeader.profissional",a)};return(0,n.useEffect)(()=>{_(),q()},[]),(0,t.jsxs)(v.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(V.Z,{xs:12,md:2,title:"Data da abertura",name:"fieldsHeader.abertoPor.dataInicio",type:"date",value:null==p?void 0:null===(o=p.abertoPor)||void 0===o?void 0:o.dataInicio,disabled:!0,control:P}),(0,t.jsx)(d.Z,{xs:12,md:2,title:"Hora da abertura",name:"fieldsHeader.abertoPor.horaInicio",type:"time",disabled:!0,register:Z,control:P}),(0,t.jsx)(d.Z,{xs:12,md:8,title:"Profissional que abriu",name:"fieldsHeader.abertoPor.profissional.nome",value:null==p?void 0:null===(a=p.abertoPor)||void 0===a?void 0:null===(s=a.profissional)||void 0===s?void 0:s.nome,disabled:!0,register:Z,control:P}),(0,t.jsx)(V.Z,{xs:12,md:2,title:"Data da avalia\xe7\xe3o",name:"fieldsHeader.data",type:"date",value:null!==(x=null==p?void 0:p.data)&&void 0!==x?x:new Date,disabled:b,register:Z,control:P,setDateFormat:B,typeValidation:"dataPassado",daysValidation:365,dateStatus:R,errors:null==y?void 0:null===(i=y.fieldsHeader)||void 0===i?void 0:i.data}),(0,t.jsx)(d.Z,{xs:12,md:2,title:"Hora da avalia\xe7\xe3o",name:"fieldsHeader.hora",type:"time",disabled:b,register:Z,control:P,errors:null==y?void 0:null===(l=y.fieldsHeader)||void 0===l?void 0:l.hora}),(0,t.jsx)(N.Z,{xs:12,md:4,title:"Profissional preenchimento",name:"fieldsHeader.profissional",type:"string",options:k,disabled:b,register:Z,setValue:S,control:P,errors:null==y?void 0:null===(c=y.fieldsHeader)||void 0===c?void 0:c.profissional}),(0,t.jsx)(r.Z,{register:Z,errors:y,setValue:S,control:P,fields:f,values:f,getAddressByCep:w,disabled:b}),(0,t.jsx)(N.Z,{xs:12,md:4,title:"Fornecedor",name:"fieldsHeader.fornecedor",type:"string",options:G,onChange:e=>g(e),value:null==p?void 0:p.fornecedor,disabled:b,register:Z,setValue:S,control:P,errors:null==y?void 0:null===(u=y.fieldsHeader)||void 0===u?void 0:u.fornecedor})]})},W=e=>{var o,a,s,r;let{modeloID:i,values:l,disabled:c,register:u,errors:x,setValue:f,control:h}=e,{user:g}=(0,n.useContext)(F.V),[b,j]=(0,n.useState)({}),[Z,y]=(0,n.useState)([]),I=(e,o,a,t)=>{let n=new Date(a),s=(0,D.HD)(e,n,t);j(e=>({...e,[o]:s}))},S=async()=>{let e=await C.h.post("/cadastros/profissional/getProfissionaisAssinatura",{formularioID:2,modeloID:i});console.log("\uD83D\uDE80 ~ response.data:",e.data),y(e.data.aprova),P(e.data.aprova)},P=e=>{let o=g.profissionalID,a=e.find(e=>e.id===o);a&&a.id>0&&f("fieldsFooter.profissional",a)};return(0,n.useEffect)(()=>{S()},[]),(0,t.jsx)(m.Z,{children:(0,t.jsx)(p.Z,{children:(0,t.jsxs)(v.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(V.Z,{xs:12,md:2,title:"Data da conclus\xe3o",name:"fieldsFooter.dataConclusao",type:"date",value:null!==(r=null==l?void 0:l.dataConclusao)&&void 0!==r?r:new Date,disabled:c,register:u,control:h,setDateFormat:I,typeValidation:"dataPassado",daysValidation:365,dateStatus:b,errors:null==x?void 0:null===(o=x.fieldsFooter)||void 0===o?void 0:o.dataConclusao}),(0,t.jsx)(d.Z,{xs:12,md:2,title:"Hora da conclus\xe3o",name:"fieldsFooter.horaConclusao",type:"time",disabled:c,register:u,control:h,errors:null==x?void 0:null===(a=x.fieldsFooter)||void 0===a?void 0:a.horaConclusao}),(0,t.jsx)(N.Z,{xs:12,md:8,title:"Profissional que aprova",name:"fieldsFooter.profissional",type:"string",options:null!=Z?Z:[],disabled:c,register:u,setValue:f,control:h,errors:null==x?void 0:null===(s=x.fieldsFooter)||void 0===s?void 0:s.profissional})]})})})};var k=a(54225),H=a(44373),G=a(3893);let T=e=>{var o,a,n,s,r,i,l,c,u,x,m,p;let{value:f,index:v,apresentacoes:h,setValue:g,register:b,control:j,errors:D,disabled:Z}=e;return console.log("\uD83D\uDE80 ~ value:",f),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{xs:12,md:2,title:"Quantidade",name:"produtos[".concat(v,"].quantidade"),register:b,control:j,errors:null==D?void 0:null===(o=D.produtos)||void 0===o?void 0:null===(a=o[v])||void 0===a?void 0:a.quantidade,disabled:Z}),(0,t.jsx)(V.Z,{xs:12,md:2,title:"Data da fabrica\xe7\xe3o",value:f.dataFabricacao,name:"produtos[".concat(v,"].dataFabricacao"),control:j,errors:null==D?void 0:null===(n=D.produtos)||void 0===n?void 0:null===(s=n[v])||void 0===s?void 0:s.dataFabricacao,disabled:Z}),(0,t.jsx)(d.Z,{xs:12,md:2,title:"N\xba Lote",name:"produtos[".concat(v,"].lote"),register:b,control:j,errors:null==D?void 0:null===(r=D.produtos)||void 0===r?void 0:null===(i=r[v])||void 0===i?void 0:i.lote,disabled:Z}),(0,t.jsx)(N.Z,{xs:12,md:2,title:"Apresenta\xe7\xe3o",name:"produtos[".concat(v,"].apresentacao"),type:"string",options:null!=h?h:[],register:b,setValue:g,control:j,errors:null==D?void 0:null===(l=D.produtos)||void 0===l?void 0:null===(c=l[v])||void 0===c?void 0:c.apresentacao,disabled:Z}),(0,t.jsx)(d.Z,{xs:12,md:2,title:"NF",name:"produtos[".concat(v,"].nf"),register:b,control:j,errors:null==D?void 0:null===(u=D.produtos)||void 0===u?void 0:null===(x=u[v])||void 0===x?void 0:x.nf,disabled:Z}),(0,t.jsx)(V.Z,{xs:12,md:2,title:"Data de validade",value:f.dataValidade,name:"produtos[".concat(v,"].dataValidade"),control:j,errors:null==D?void 0:null===(m=D.produtos)||void 0===m?void 0:null===(p=m[v])||void 0===p?void 0:p.dataValidade,disabled:Z})]})},z=e=>{let{recebimentoMpID:o,fornecedorID:a,getValues:s,setValue:r,register:i,control:l,errors:d,disabled:c}=e,[u,m]=(0,n.useState)([]),[p,h]=(0,n.useState)([]),[g,b]=(0,n.useState)(!1),j=async()=>{try{if(a&&a>0){let e=await C.h.post("/cadastros/produto/getProdutosFornecedor",{recebimentoMpID:o,fornecedorID:a});m(e.data),r("produtos",e.data)}else m([])}catch(t){console.log("\uD83D\uDE80 ~ error:",t)}},D=async()=>{try{let e=await C.h.get("/cadastros/apresentacao");h(e.data)}catch(o){console.log("\uD83D\uDE80 ~ error:",o)}},Z=e=>{b(!g),r("produtos[".concat(e,"].checked"),!s("produtos[".concat(e,"].checked")));let o=[...u];o[e].checked=!o[e].checked,m(o)};return(0,n.useEffect)(()=>{j(),D()},[a]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Z,{color:"primary",variant:"subtitle1",sx:{fontWeight:700,mb:2},children:"Produtos aprovados do fornecedor"}),!a&&(0,t.jsx)(f.Z,{color:"warning",variant:"subtitle1",className:"italic",children:(0,t.jsxs)(x.Z,{display:"flex",alignItems:"center",sx:{gap:1},children:[(0,t.jsx)(A.Z,{icon:"typcn:warning",color:"#FFC107"}),(0,t.jsx)("p",{children:"Nenhum fornecedor selecionado!"})]})}),a&&!u.length&&(0,t.jsx)(f.Z,{color:"warning",variant:"subtitle1",className:"italic",children:(0,t.jsxs)(x.Z,{display:"flex",alignItems:"center",sx:{gap:1},children:[(0,t.jsx)(A.Z,{icon:"typcn:warning",color:"#FFC107"}),(0,t.jsx)("p",{children:"Nenhum produto aprovado para o fornecedor selecionado!"})]})}),u&&u.length>0&&u.map((e,o)=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"hidden",value:e.produtoID,name:"produtos[".concat(o,"].produtoID"),...i("produtos[".concat(o,"].produtoID"))}),(0,t.jsxs)(v.ZP,{container:!0,spacing:4,sx:{pb:2},children:[(0,t.jsx)(v.ZP,{item:!0,xs:12,md:4,children:(0,t.jsx)(G.Z,{title:e.nome,name:"produtos[".concat(o,"].checked"),value:u[o].checked,onClick:()=>Z(o),register:i,disabled:c})}),(0,t.jsx)(v.ZP,{item:!0,xs:12,md:8,children:(0,t.jsxs)(x.Z,{display:"flex",alignItems:"center",justifyContent:"end",sx:{gap:4,mt:3},children:[(0,t.jsxs)(f.Z,{variant:"body2",children:["\xdaltima avalia\xe7\xe3o: ",e.ultimaAvaliacao]}),(0,t.jsxs)(f.Z,{variant:"body2",children:["Pr\xf3xima avalia\xe7\xe3o: ",e.proximaAvialacao," (",1==e.diasRestantes?"".concat(e.diasRestantes," dia"):"".concat(e.diasRestantes," dias"),")"]}),(0,t.jsx)(k.Z,{variant:"outlined",size:"small",children:(0,t.jsxs)(x.Z,{display:"flex",alignItems:"center",sx:{gap:1},children:[(0,t.jsx)(A.Z,{icon:"fluent:form-new-20-regular",width:18,height:18}),"Nova avalia\xe7\xe3o"]})}),(0,t.jsx)(k.Z,{variant:"outlined",size:"small",children:(0,t.jsxs)(x.Z,{display:"flex",alignItems:"center",sx:{gap:1},children:[(0,t.jsx)(A.Z,{icon:"raphael:lab",width:18,height:18}),"Laborat\xf3rio (dev)"]})})]})}),u&&u[o].checked&&(0,t.jsx)(T,{value:e,apresentacoes:p,index:o,setValue:r,register:i,control:l,errors:d,disabled:c},o)]}),o<u.length-1&&(0,t.jsx)(H.Z,{})]}))]})};var O=a(41088),B=a(92629),_=a(93859),q=a(1503),L=a(62135),X=a(99384);let J=e=>{var o;let{index:a,value:s,info:r,produtos:i,handlePreenchimentoFornecedor:l,getValues:c,register:u,control:x,setValue:m,errors:p}=e;console.log("\uD83D\uDE80 ~ FieldsFabrica:",s);let{setDateFormat:f,dateStatus:h}=(0,X.Z)(),[g,b]=(0,n.useState)(1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(G.Z,{xs:12,md:4,onClick:l,title:"Fornecedor preenche?",name:"naoConformidade.itens[".concat(a,"].fornecedorPreenche"),value:s.fornecedorPreenche,disabled:r.concluido,register:u,helpText:"Se marcado, o fornecedor deve preencher o plano de a\xe7\xe3o com seu acesso ao sistema."}),(0,t.jsxs)(v.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(V.Z,{xs:12,md:3,title:"Data",name:"naoConformidade.itens[".concat(a,"].data"),type:"date",value:null==s?void 0:s.data,disabled:r.concluido,register:u,control:x,setDateFormat:f,typeValidation:"dataPassado",daysValidation:999999999999,dateStatus:h,errors:null}),(0,t.jsx)(d.Z,{xs:12,md:3,title:"Hora",name:"naoConformidade.itens[".concat(a,"].hora"),disabled:r.concluido,type:"time",register:u,control:x,errors:null}),(0,t.jsx)(N.Z,{xs:12,md:6,title:"Profissional preenchimento",name:"naoConformidade.itens[".concat(a,"].profissionalPreenchimento"),disabled:r.concluido,type:"string",options:null!==(o=s.profissionalPreenchimento.options)&&void 0!==o?o:[],register:u,setValue:m,control:x,errors:null}),(0,t.jsx)(v.ZP,{item:!0,xs:12,md:3,children:(0,t.jsxs)(L.Z,{color:"primary",fullWidth:!0,className:"mt-1",disabled:r.concluido,children:[(0,t.jsx)(k.Z,{onClick:()=>b(1),variant:1===g?"contained":"outlined",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 px-1",children:[(0,t.jsx)(A.Z,{icon:"ph:plant"}),(0,t.jsx)("p",{className:"capitalize",children:"Produto"})]})}),(0,t.jsx)(k.Z,{onClick:()=>b(2),variant:2===g?"contained":"outlined",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 py-[2px] px-1",children:[(0,t.jsx)(A.Z,{icon:"mdi:truck-fast-outline"}),(0,t.jsx)("p",{className:"capitalize",children:"Transporte"})]})})]})}),(0,t.jsx)(N.Z,{xs:12,md:9,title:"Produto",name:"naoConformidade.itens[".concat(a,"].produto"),type:"string",disabled:1!=g||r.concluido,options:null!=i?i:[],register:u,setValue:m,control:x,errors:null}),s.dynamicFields&&s.dynamicFields.length>0&&s.dynamicFields.map((e,o)=>(0,t.jsx)(d.Z,{xs:12,md:12,multiline:!0,rows:4,title:e.nomeCampo,value:e.valor,disabled:r.concluido,name:"naoConformidade.itens[".concat(a,"].dynamicFields[").concat(o,"].value"),required:1==e.obrigatorio,register:u,control:x},o))]})]})},K=e=>{let{index:o,value:a,info:s,register:r,control:i,setValue:l,errors:c}=e,{settings:u}=(0,n.useContext)(E.J6),{setDateFormat:x,dateStatus:m}=(0,X.Z)();return(0,t.jsx)(t.Fragment,{children:a&&a.fornecedorPreenche&&(0,t.jsxs)("div",{className:"".concat("dark"==u.mode?"bg-[#353D39]":"bg-[#E2EAE4]"," p-5 rounded-xl border border-[#4A8B57]"),children:[(0,t.jsx)(f.Z,{variant:"subtitle1",color:"primary",sx:{fontWeight:700,pb:5},children:"Preenchimento realizado pelo Fornecedor"}),(0,t.jsxs)(v.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(d.Z,{xs:12,md:12,multiline:!0,rows:4,title:"Observa\xe7\xf5es do Fornecedor",name:"naoConformidade.itens[".concat(o,"].obsFornecedor"),disabled:s.concluido,control:i,errors:null}),(0,t.jsx)(V.Z,{xs:12,md:3,title:"Data",name:"naoConformidade.itens[".concat(o,"].dataFornecedor"),type:"date",value:null==a?void 0:a.dataFornecedor,register:r,disabled:s.concluido,control:i,setDateFormat:x,typeValidation:"dataPassado",daysValidation:999999999999,dateStatus:m,errors:null}),(0,t.jsx)(d.Z,{xs:12,md:3,title:"Hora",name:"naoConformidade.itens[".concat(o,"].horaFornecedor"),disabled:s.concluido,type:"time",register:r,control:i,errors:null}),(0,t.jsx)(N.Z,{xs:12,md:6,title:"Profissional preenchimento",name:"naoConformidade.itens[".concat(o,"].usuarioFornecedor"),disabled:s.concluido,type:"string",options:[],register:r,setValue:l,control:i,errors:null})]})]})})};var Q=a(15497),U=a(22841),Y=a(41470);let $=e=>{var o;let{index:a,value:n,info:s,register:r,control:i,setValue:l,handleChangeStatus:c,errors:u}=e,{setDateFormat:x,dateStatus:m}=(0,X.Z)(),p=[{id:1,nome:"Conforme"},{id:2,nome:"N\xe3o Conforme"}];return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(v.ZP,{container:!0,spacing:4,sx:{paddingTop:2},children:[(0,t.jsx)(d.Z,{xs:12,md:12,multiline:!0,rows:4,title:"Conclus\xe3o",name:"naoConformidade.itens[".concat(a,"].conclusao"),disabled:s.concluido,control:i,errors:null}),(0,t.jsx)(v.ZP,{item:!0,xs:12,md:12,children:(0,t.jsx)(Y.Z,{row:!0,name:"naoConformidade.itens[".concat(a,"].status"),defaultValue:null==n?void 0:n.status,onChange:e=>c(a,e.target.value),sx:{mt:0},children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(f.Z,{variant:"subtitle2",sx:{pb:0},children:"Avalia\xe7\xe3o Final:"}),p&&p.map((e,o)=>(0,t.jsx)(U.Z,{value:e.id,label:e.nome,control:(0,t.jsx)(Q.Z,{disabled:!1,error:!1,sx:{pr:2}}),disabled:s.concluido,fullWidth:!0,sx:{"& .MuiFormControlLabel-label":{fontSize:"0.8rem",color:"text.secondary"},"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}},o))]})})}),(0,t.jsx)(V.Z,{xs:12,md:3,title:"Data",name:"naoConformidade.itens[".concat(a,"].dataConclusao"),type:"date",value:null==n?void 0:n.dataConclusao,disabled:s.concluido,register:r,control:i,setDateFormat:x,typeValidation:"dataPassado",daysValidation:999999999999,dateStatus:m,errors:null}),(0,t.jsx)(d.Z,{xs:12,md:3,title:"Hora",name:"naoConformidade.itens[".concat(a,"].horaConclusao"),disabled:s.concluido,type:"time",register:r,control:i,errors:null}),(0,t.jsx)(N.Z,{xs:12,md:6,title:"Profissional preenchimento",name:"naoConformidade.itens[".concat(a,"].profissionalConclusao"),disabled:s.concluido,type:"string",options:null!==(o=n.profissionalConclusao.options)&&void 0!==o?o:[],register:r,setValue:l,control:i,errors:null})]})})},ee=e=>{let{recebimentoMpID:o,values:a,info:s,getValues:r,register:i,control:l,setValue:d,errors:c}=e;console.log("\uD83D\uDE80 ~ RecebimentoMpNaoConformidade => values: ",a);let{settings:u}=(0,n.useContext)(E.J6),[x,h]=(0,n.useState)(!1),g=()=>{h(!x)},b=()=>{let e=r("naoConformidade.itens");e.push({profissionalPreenchimento:null,produto:null,profissionalConclusao:null,data:new Date,hora:(0,D.Xn)(),dataFornecedor:new Date,horaFornecedor:(0,D.Xn)(),dataConclusao:new Date,horaConclusao:(0,D.Xn)()}),d("naoConformidade.itens",e),h(!x)},j=(e,o)=>{console.log("\uD83D\uDE80 ~ event:",e,o);let a=r("naoConformidade.itens");a[e].status=o,console.log("\uD83D\uDE80 ~ naoConformidades:",a),d("naoConformidade.itens",a)};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("div",{className:"".concat("dark"==u.mode?"bg-[#4B3537]":"bg-[#F8E2E2]"," p-5 rounded-xl border border-[#FF4D49] text-center"),children:(0,t.jsx)(f.Z,{color:"error",variant:"subtitle1",sx:{fontWeight:700},children:"Plano de A\xe7\xe3o"})}),(0,t.jsx)(m.Z,{children:(0,t.jsx)(p.Z,{children:(0,t.jsx)(f.Z,{variant:"subtitle1",children:"Deve ser preenchido pelos colaboradores respons\xe1veis pelas a\xe7\xf5es de monitoramento e/ou verifica\xe7\xe3o e/ou respons\xe1vel pela execu\xe7\xe3o da a\xe7\xe3o corretiva."})})}),r("naoConformidade.itens")&&r("naoConformidade.itens").map((e,o)=>(0,t.jsx)(m.Z,{children:(0,t.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column",gap:"6px"},children:[(0,t.jsx)(f.Z,{variant:"subtitle1",color:"error",sx:{fontWeight:700},children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(A.Z,{icon:"typcn:warning",color:"#FF4D49"}),(0,t.jsxs)("p",{children:["N\xe3o Conformidade ",o+1]})]})}),(0,t.jsx)(J,{index:o,value:e,handlePreenchimentoFornecedor:g,getValues:r,info:s,produtos:a.produtos,register:i,control:l,setValue:d,errors:c},o),(0,t.jsx)(K,{index:o,value:e,info:s,register:i,control:l,setValue:d,errors:c},o),(0,t.jsx)($,{index:o,value:e,info:s,register:i,control:l,setValue:d,handleChangeStatus:j,errors:c},o)]})},o)),!s.concluido&&(0,t.jsx)(v.ZP,{container:!0,spacing:4,children:(0,t.jsx)(v.ZP,{item:!0,xs:12,children:(0,t.jsx)(k.Z,{variant:"outlined",color:"primary",onClick:b,startIcon:(0,t.jsx)(A.Z,{icon:"material-symbols:add-circle-outline-rounded"}),sx:{mt:2},children:"Inserir nova n\xe3o conformidade"})})})]})})},eo=e=>{var o,a,r;let b;let{id:V}=e,{menu:N,user:A,loggedUnity:k}=(0,n.useContext)(F.V),[H,G]=(0,n.useState)(!1),[T,L]=(0,n.useState)(!1),[X,J]=(0,n.useState)(!1),[K,Q]=(0,n.useState)(!1),[U,Y]=(0,n.useState)(!1),[$,eo]=(0,n.useState)(!1),[ea,et]=(0,n.useState)(!1),[en,es]=(0,n.useState)(null),[er,ei]=(0,n.useState)(!0),[el,ed]=(0,n.useState)(null),[ec,eu]=(0,n.useState)(null),[ex,em]=(0,n.useState)([]),[ep,ef]=(0,n.useState)([]),[ev,eh]=(0,n.useState)(null),{createNewNotification:eg}=(0,n.useContext)(S.u),[eb,ej]=(0,n.useState)(!1),[eD,eZ]=(0,n.useState)([]),[eC,ey]=(0,n.useState)([]),[eI,eF]=(0,n.useState)([]),[eS,eP]=(0,n.useState)(null),[ew,eE]=(0,n.useState)([]),[eM,eV]=(0,n.useState)(null),[eN,eA]=(0,n.useState)(""),[eR,eW]=(0,n.useState)(!1),[ek,eH]=(0,n.useState)(!1),[eG,eT]=(0,n.useState)({status:!1,errors:[]}),[ez,eO]=(0,n.useState)(null),{settings:eB}=(0,n.useContext)(E.J6),{setId:e_}=(0,n.useContext)(I.X),{startLoading:eq,stopLoading:eL}=(0,O.Z)(),[eX,eJ]=(0,n.useState)(!1),{setReportParameters:eK,sendPdfToServer:eQ}=(0,q.Gc)(),[eU,eY]=(0,n.useState)({status:!1,message:"Voc\xea n\xe3o tem permiss\xf5es",messageType:"info"}),e$=j(),e0=V&&V>0?"edit":"new",e1=e$.pathname,{reset:e2,register:e3,getValues:e7,setValue:e8,control:e9,watch:e4,handleSubmit:e6,clearErrors:e5,setError:oe,formState:{errors:oo}}=(0,s.cI)();console.log("errors: ",oo);let oa=()=>{e_(ec.parRecebimentoMpModeloID),e$.push("/configuracoes/formularios/recebimento-mp/")},ot={id:V,name:"Formul\xe1rio do Recebimento de MP",nameComponent:"DadosRecebimentoMp",type:"report",unidadeID:k.unidadeID,papelID:A.papelID,route:"recebimentoMp/dadosRecebimentoMp",icon:"fluent:print-24-regular"},on=[];on.push(ot),1==A.papelID&&(b=!1,N.map(e=>{e.menu.map(e=>{e.submenu&&e.submenu.length>0&&e.submenu.map(e=>{"/configuracoes/formularios"==e.rota&&(b=!0)})})}),b)&&on.push({id:5,name:"Configura\xe7\xf5es do formul\xe1rio",description:"Alterar as configura\xe7\xf5es do modelo de formul\xe1rio.",route:null,type:null,action:oa,modal:!1,icon:"bi:gear",identification:null});let os=async()=>{},or=()=>{G(!0);try{C.h.post("".concat(e1,"/getData/").concat(V),{type:e0,profissionalID:A.profissionalID,unidadeID:k.unidadeID}).then(e=>{var o,a;G(!1),console.log("getData: ",e.data),eZ(e.data.fieldsHeader),ed(e.data.fieldsHeader.fornecedor),ey(e.data.fieldsFooter),eF(e.data.fields),em(e.data.produtos),eE(e.data.blocos),ef(e.data.grupoAnexo),eA(e.data.info),eu(e.data.unidade),eP(e.data.link),eV(e.data.ultimaMovimentacao),oc(e.data.blocos),es(e.data.naoConformidade) //! Seta n√£o conformidades
,e2(e.data);let t=D.WR[null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(a=o.info)||void 0===a?void 0:a.status];eh(t),eY({status:e.data.info.status<40,message:e.data.info.status>40?"Esse formul\xe1rio j\xe1 foi conclu\xeddo, n\xe3o \xe9 mais poss\xedvel alterar as informa\xe7\xf5es!":e.data.info.status<40?"Formul\xe1rio aberto para preenchimento!":40==e.data.info.status?"Este formul\xe1rio est\xe1 aguardando aprova\xe7\xe3o!":null,messageType:"info"}),os()}).catch(e=>{console.log("\uD83D\uDE80 ~ error:",e),G(!1)})}catch(e){console.log("\uD83D\uDE80 ~ error:",e),G(!1)}},oi=e=>{console.log("checkErrors => validateForm: ",e,oo),e5();let o=!1,a=[];e&&(null==eI||eI.forEach((e,t)=>{let n=e.tabela?"fields[".concat(t,"].").concat(e.tabela):"fields[".concat(t,"].").concat(e.nomeColuna),s=e7(n);1!==e.obrigatorio||s||(oe(n,{type:"manual",message:"Campo obrigat\xf3rio"}),a.push(null==e?void 0:e.nomeCampo),o=!0)}),ex&&ex.length>0&&ex.forEach((e,t)=>{e.produtoAnexosDescricao&&e.produtoAnexosDescricao.forEach((n,s)=>{1===n.obrigatorio&&0==n.anexos.length&&(oe("produtos[".concat(t,"].produtoAnexosDescricao[").concat(s,"].anexos"),{type:"manual",message:"Campo obrigat\xf3rio"}),a.push("Anexo: ".concat(null==e?void 0:e.nome," / ").concat(null==n?void 0:n.nome)),o=!0)})}),ew.forEach((e,t)=>{e.itens.forEach((e,n)=>{let s=e7("blocos[".concat(t,"].itens[").concat(n,"].resposta"));(null==e?void 0:e.obrigatorio)!==1||s||(oe("blocos[".concat(t,"].itens[").concat(n,"].resposta"),{type:"manual",message:"Campo obrigat\xe1rio"}),a.push(null==e?void 0:e.nome),o=!0),e.respostaConfig&&1==e.respostaConfig.anexo&&e.respostaConfig.anexosSolicitados.length>0&&e.respostaConfig.anexosSolicitados.forEach((s,r)=>{1==s.obrigatorio&&s.anexos&&0==s.anexos.length&&(oe("blocos[".concat(t,"].itens[").concat(n,"].respostaConfig.anexosSolicitados[").concat(r,"].anexos"),{type:"manual",message:"Campo obrigat\xe1rio"}),a.push("Anexo: ".concat(null==e?void 0:e.nome," / ").concat(null==s?void 0:s.nome)),o=!0)})})}),ep&&ep.length>0&&ep.forEach((e,t)=>{e.itens.forEach((n,s)=>{1===n.obrigatorio&&0==n.anexos.length&&(oe("grupoAnexo[".concat(t,"].itens[").concat(s,"].anexos"),{type:"manual",message:"Campo obrigat\xe1rio"}),a.push("Anexo: ".concat(null==e?void 0:e.nome," / ").concat(null==n?void 0:n.nome)),o=!0)})})),eT({status:o,errors:a})},ol=async e=>{if(9===e.length){let o=e.replace(/[^0-9]/g,"");try{let a=await C.h.get("https://viacep.com.br/ws/".concat(o,"/json/"));a.data.localidade?(eI.forEach(async(e,o)=>{("logradouro"===e.nomeColuna||"bairro"===e.nomeColuna||"cidade"===e.nomeColuna||"estado"===e.nomeColuna)&&(await e8("fields[".concat(o,"].logradouro"),a.data.logradouro),await e8("fields[".concat(o,"].bairro"),a.data.bairro),await e8("fields[".concat(o,"].cidade"),a.data.localidade),await e8("fields[".concat(o,"].estado"),a.data.uf))}),w.ZP.success("Endere\xe7o encontrado!")):w.ZP.error("Endere\xe7o n\xe3o encontrado!")}catch(t){console.error(t)}}},od=e=>{console.log("abre o modal"),eO(e),oi(!0),eW(!0)},oc=e=>{let o=!0;e.forEach(e=>{e.itens.forEach(e=>{e.respostaConfig&&1==e.respostaConfig.bloqueiaFormulario&&(o=!1)})}),ei(o)},ou=async e=>{eQ(V,ez,"recebimento-mp"),e.conclusion=!0,await e6(om)(e)},ox=(e,o,a)=>{let t=30==e?"Em preenchimento":40==e?"Conclu\xeddo":50==e?"Reprovado":60==e?"Aprovado parcialmente":70==e?"Aprovado":"Pendente",n={titulo:"Formul\xe1rio de Fornecedor ".concat(t),descricao:"O formul\xe1rio de Fornecedor #".concat(V," est\xe1 ").concat(t,"."),url:"/formularios/fornecedor/",urlID:V,tipoNotificacaoID:6,usuarioGeradorID:A.usuarioID,usuarioID:0,unidadeID:k.unidadeID,papelID:1};if(n&&(eg(n),o)){let s={titulo:"Fornecedor gerado",descricao:"O formul\xe1rio de Fornecedor #".concat(V," est\xe1 ").concat(t," e gerou uma n\xe3o conformidade."),url:"/formularios/fornecedor/nao-conformidade/",urlID:a,tipoNotificacaoID:5,usuarioGeradorID:A.usuarioID,usuarioID:0,unidadeID:k.unidadeID,papelID:1};eg(s)}},om=async function(e){var o,a;let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];eq(),!0===t.conclusion&&(e.info.status=null!==(o=t.status)&&void 0!==o?o:eN.status,e.obsConclusao=t.obsConclusao,e.concluido=70==t.status||!!eN.naoConformidade&&t.status>=50&&t.status<70);let n={form:e,auth:{usuarioID:A.usuarioID,profissionalID:null!==(a=A.profissionalID)&&void 0!==a?a:0,papelID:A.papelID,unidadeID:k.unidadeID}};console.log("\uD83D\uDE80 ~ onSubmit: ",n);try{"edit"==e0?(eo(!0),await C.h.post("".concat(e1,"/updateData/").concat(V),n).then(o=>{w.ZP.success(D.OD.successUpdate),eo(!1),ox(e.status,e.naoConformidade,null)})):"new"==e0?await C.h.post("".concat((0,D.g_)(e1),"/insertData"),n).then(e=>{e$.push("".concat((0,D.g_)(e1))),e_(e.data),w.ZP.success(D.OD.successNew)}):w.ZP.error(D.OD.error)}catch(s){console.log(s)}finally{eL()}},op=async(e,o)=>{J(!0);let a=e.target.files;if(a&&a.length>0){var t;let n=new FormData;for(let s=0;s<a.length;s++)n.append("files[]",a[s]);n.append("usuarioID",A.usuarioID),n.append("unidadeID",k.unidadeID),n.append("grupoAnexoItemID",null!==(t=o.grupoAnexoItemID)&&void 0!==t?t:null),await C.h.post("".concat(e1,"/saveAnexo/").concat(V,"/grupo-anexo/").concat(A.usuarioID,"/").concat(ec.unidadeID),n).then(e=>{J(!1);let o=e7();om(o)}).catch(e=>{var o,a,t;J(!1),w.ZP.error(null!==(t=null===(o=e.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message)&&void 0!==t?t:"Erro ao atualizar anexo, tente novamente!")})}},of=async(e,o)=>{Y(!0);let a=e.target.files;if(a&&a.length>0){var t,n;let s=new FormData;for(let r=0;r<a.length;r++)s.append("files[]",a[r]);s.append("usuarioID",A.usuarioID),s.append("unidadeID",k.unidadeID),s.append("parRecebimentoMpModeloBlocoID",null!==(t=o.parRecebimentoMpModeloBlocoID)&&void 0!==t?t:null),s.append("itemOpcaoAnexoID",null!==(n=o.itemOpcaoAnexoID)&&void 0!==n?n:null),await C.h.post("".concat(e1,"/saveAnexo/").concat(V,"/item/").concat(A.usuarioID,"/").concat(ec.unidadeID),s).then(e=>{Y(!1);let o=e7();om(o)}).catch(e=>{var o,a,t;Y(!1),w.ZP.error(null!==(t=null===(o=e.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message)&&void 0!==t?t:"Erro ao atualizar anexo, tente novamente!!!!")})}},ov=async e=>{try{var o;let a=await C.h.post("/cadastros/item/getItemConfigs",{itemID:e.itemID,alternativaItemID:null!==(o=e.alternativa.id)&&void 0!==o?o:null}),t=ew.map(o=>({...o,itens:o.itens.map(o=>o.itemID==e.itemID?{...o,respostaConfig:{...a.data}}:o)}));eE(t)}catch(n){console.log("error",n)}},oh=async e=>{e&&await C.h.delete("".concat(e1,"/deleteAnexo/").concat(V,"/").concat(e.anexoID,"/").concat(ec.unidadeID,"/").concat(A.usuarioID,"/item")).then(e=>{let o=e7();om(o)}).catch(e=>{var o,a,t;w.ZP.error(null!==(t=null===(o=e.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message)&&void 0!==t?t:"Erro ao remover anexo, tente novamente!")})},og=e=>{let o=[...ew];o.map((o,a)=>{o.itens.map((o,t)=>{e8("blocos[".concat(a,"].itens[").concat(t,"].resposta"),o.alternativas[e])})}),eE(o=>o.map(o=>({...o,itens:o.itens.map(o=>({...o,resposta:o.alternativas[e]&&o.alternativas[e].id>0?o.alternativas[e]:null}))}))),console.log("id do fornecedorrr",e7("fieldsHeader.fornecedor.id")),L(!T);let a=e7();om(a)};return(0,n.useEffect)(()=>{"edit"==e0&&or()},[V,$]),(0,n.useEffect)(()=>{oi(!1)},[]),(0,n.useEffect)(()=>{eK({id:V,nameComponent:"DadosRecebimentoMp",route:"recebimentoMp/dadosRecebimentoMp",unidadeID:k.unidadeID,papelID:A.papelID,usuarioID:A.usuarioID})},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.Z,{show:H}),(0,t.jsxs)("form",{onSubmit:e6(om),children:[(0,t.jsx)(y.Z,{btnCancel:!0,btnSave:!eN.concluido,btnSend:eN.status>=30&&!eN.concluido,btnPrint:"edit"==e0,btnDelete:eN.status<40,onclickDelete:()=>eJ(!0),actionsData:on,actions:!0,handleSubmit:()=>e6(om),handleSend:od,iconConclusion:"mdi:check-bold",titleConclusion:"Concluir Formul\xe1rio",title:"Recebimento de MP",componentSaveReport:(0,t.jsx)(_.Z,{}),btnStatus:"edit"==e0,handleBtnStatus:()=>ej(!0),type:e0,status:ev}),(0,t.jsx)("div",{className:"flex gap-2 mb-2",children:ev&&(0,t.jsx)(u.Z,{size:"small",skin:"light",color:ev.color,label:ev.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}})}),(0,t.jsxs)(x.Z,{display:"flex",flexDirection:"column",sx:{gap:4},children:[eN&&""!=eN.cabecalhoModelo&&(0,t.jsx)(m.Z,{children:(0,t.jsx)(p.Z,{children:(0,t.jsx)(f.Z,{variant:"subtitle1",children:eN.cabecalhoModelo})})}),(0,t.jsxs)(v.ZP,{container:!0,alignItems:"stretch",spacing:4,children:[(0,t.jsx)(v.ZP,{item:!0,xs:12,md:9,children:(0,t.jsxs)(m.Z,{style:{height:"100%"},children:[(0,t.jsx)(B.Z,{title:"Excluir Formul\xe1rio",description:"Tem certeza que deseja exluir o formulario?",params:{route:"formularios/recebimento-mp/delete/".concat(V),messageSucceded:"Formul\xe1rio exclu\xeddo com sucesso!",MessageError:"Dado possui pend\xeancia!"},open:eX,handleClose:()=>eJ(!1)}),(0,t.jsx)(p.Z,{children:ec&&(0,t.jsx)(R,{modeloID:ec.parRecebimentoMpModeloID,values:eD,fornecedor:el,setFornecedor:ed,fields:eI,getValues:e7,disabled:!eU.status,register:e3,errors:oo,setValue:e8,control:e9,getAddressByCep:ol})})]})}),(0,t.jsx)(v.ZP,{item:!0,xs:12,md:3,children:(0,t.jsx)(m.Z,{style:{height:"100%"},children:(0,t.jsx)(p.Z,{sx:{textAlign:"center"},children:(0,t.jsx)("div",{className:"flex flex-col items-center gap-1",children:(null==el?void 0:el.nome_)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(Z.Z,{variant:"rounded",sx:{width:70,height:70},className:"p-1 ".concat("dark"===eB.mode?"!bg-[#e0e0e0]":"!bg-[#f5f5f5]"),children:(0,t.jsx)("img",{src:null!==(o=null==el?void 0:el.foto)&&void 0!==o?o:"/imageDefault/factory.svg",alt:"Imagem da logo da f\xe1brica"})})}),(0,t.jsx)(f.Z,{variant:"subtitle1",sx:{fontWeight:600},children:null==el?void 0:el.nome_}),(0,t.jsx)(f.Z,{variant:"subtitle2",sx:{fontWeight:600},children:null==el?void 0:el.cnpj_}),(null==el?void 0:el.telefone)&&(0,t.jsx)(f.Z,{variant:"subtitle2",sx:{fontWeight:600},children:null!==(a=null==el?void 0:el.telefone)&&void 0!==a?a:"--"}),(null==el?void 0:el.cidade)&&(0,t.jsx)(f.Z,{variant:"subtitle2",sx:{fontWeight:600},children:null!==(r=null==el?void 0:el.cidade)&&void 0!==r?r:"--"})]}):(0,t.jsx)(f.Z,{variant:"subtitle1",children:"-- Selecione um fornecedor --"})})})})})]}),(0,t.jsx)(m.Z,{children:(0,t.jsx)(p.Z,{children:(0,t.jsx)(z,{recebimentoMpID:V,fornecedorID:e7("fieldsHeader.fornecedor.id"),getValues:e7,setValue:e8,register:e3,control:e9,errors:oo,disabled:!eU.status},$)})}),ew&&ew.map((e,o)=>(0,t.jsx)(i.Z,{index:o,blockKey:"parRecebimentoMpModeloBlocoID",handleFileSelect:of,setItemResposta:ov,handleRemoveAnexoItem:oh,setBlocos:eE,changeAllOptions:og,values:e,control:e9,register:e3,setValue:e8,errors:null==oo?void 0:oo.blocos,disabled:!eU.status},T)),ep&&ep.map((e,o)=>(0,t.jsx)(c.Z,{values:{grupo:e,loadingFile:X,indexGrupo:o,handleFileSelect:op,handleRemove:handleRemoveAnexoGroup,folder:"grupo-anexo",disabled:!eU.status,error:oo}},o)),eN&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(m.Z,{children:(0,t.jsx)(p.Z,{children:(0,t.jsx)(v.ZP,{container:!0,spacing:4,children:(0,t.jsx)(v.ZP,{item:!0,xs:12,md:12,children:(0,t.jsxs)(h.Z,{fullWidth:!0,children:[(0,t.jsx)(f.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Observa\xe7\xf5es (campo de uso exclusivo da validadora)"}),(0,t.jsx)(d.Z,{title:"Observa\xe7\xe3o (opcional)",name:"info.obs",multiline:!0,rows:4,value:eN.obs,disabled:!eU.status,control:e9})]})})})})})}),ec&&eC&&!eC.concluded&&(0,t.jsx)(W,{modeloID:ec.parRecebimentoMpModeloID,values:eC,register:e3,disabled:!1,errors:oo,setValue:e8,control:e9}),eC&&eC.concluded&&(0,t.jsx)(f.Z,{variant:"caption",children:"Conclu\xeddo por ".concat(eC.conclusion.profissional.nome," em ").concat(eC.conclusion.dataFim," ").concat(eC.conclusion.horaFim,".")}),eN.naoConformidade&&(0,t.jsx)(ee,{recebimentoMpID:V,values:en,info:eN,getValues:e7,register:e3,control:e9,setValue:e8,errors:oo}),eU.message&&(0,t.jsx)(g.Z,{severity:"warning",children:eU.message}),eM&&(0,t.jsxs)(g.Z,{severity:"info",children:["\xdaltima movimenta\xe7\xe3o: Profissional ".concat(eM.nome," do(a) ").concat(eM.nomeFantasia," movimentou o formul\xe1rio de ").concat(eM.statusAnterior," para ").concat(eM.statusAtual," em ").concat(eM.dataHora,"."),eM.observacao&&(0,t.jsxs)("p",{children:[(0,t.jsx)("br",{}),'Mensagem: "',eM.observacao,'"']})]}),eb&&(0,t.jsx)(l.Z,{title:"Hist\xf3rico do Formul\xe1rio",text:"Listagem do hist\xf3rico das movimenta\xe7\xf5es do formul\xe1rio ".concat(V," do Recebimento de MP."),id:V,parFormularioID:2,formStatus:eN.status,hasFormPending:ea,canChangeStatus:!1,openModal:eb,handleClose:()=>ej(!1),btnCancel:!0,btnConfirm:!0,handleSubmit:!1}),(0,t.jsx)(M.Z,{openModal:eR,handleClose(){eW(!1),oi(!1)},title:"Concluir Formul\xe1rio",text:"Deseja realmente concluir este formul\xe1rio?",info:eN,canChange:!ea,register:e3,setValue:e8,getValues:e7,btnCancel:!0,btnConfirm:!0,btnConfirmColor:"primary",conclusionForm:ou,listErrors:eG,canApprove:er})]})]})]})};var ea=eo},93859:function(e,o,a){var t=a(85893),n=a(64004);a(67294);var s=a(42404),r=a(17844);let i=()=>{var e,o,a,i,l,d,c,u,x;let m=(0,r.Z)(),p=null==m?void 0:null===(e=m.header)||void 0===e?void 0:e.filter(e=>"Nome Fantasia"===e.name)[0].value;return m&&(0,t.jsxs)(n.G7,{style:{width:"100%"},children:[(0,t.jsx)(n.G7,{style:{padding:3,backgroundColor:"#eee",marginTop:20,border:"1px solid #ddd"},children:(0,t.jsx)(n.xv,{style:{width:"100%",textAlign:"center",fontSize:12},children:"RECEBIMENTO MP"})}),(0,t.jsx)(n.G7,{style:{marginTop:20},children:(0,t.jsxs)(n.xv,{style:{fontSize:10},children:["A empresa ",(0,t.jsx)(n.xv,{children:null==m?void 0:m.unidade})," possui como norma de BPF a avalia\xe7\xe3o de seus fornecedores quanto as mat\xe9rias primas e ingredientes por estes fornecidos."]})}),"Fornecedor",(0,t.jsx)(n.G7,{style:{marginTop:20},children:(0,t.jsxs)(n.xv,{style:{fontSize:10},children:["Fornecedor: ",(0,t.jsx)(n.xv,{style:{fontWeight:"bold",fontSize:10},children:p})]})}),(0,t.jsx)(n.G7,{style:{marginTop:20},children:(0,t.jsxs)(n.xv,{style:{fontSize:10},children:[(null==m?void 0:null===(o=m.produtos)||void 0===o?void 0:o.length)>1?"Produtos fornecidos: ":"Produto fornecido: ",null==m?void 0:null===(a=m.produtos)||void 0===a?void 0:a.map((e,o)=>(0,t.jsxs)(n.xv,{children:[(0,t.jsx)(n.xv,{style:{fontWeight:"bold",fontSize:10},children:e.produtos}),o!==m.produtos.length-1&&", "]},o))]})}),(0,t.jsx)(n.G7,{style:{marginTop:20},children:(0,t.jsx)(n.G7,{style:s.W.containerFields,children:null===(i=m.header)||void 0===i?void 0:i.map((e,o)=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.G7,{style:[s.W.fields,{width:"33%"}],children:[(0,t.jsx)(n.xv,{style:s.W.fieldTitle,children:null!==(d=e.name)&&void 0!==d?d:"NI"}),(0,t.jsx)(n.xv,{style:s.W.fieldValue,children:null!==(c=e.value)&&void 0!==c?c:"NI"})]}),(o+1)%3==0&&(0,t.jsx)(n.G7,{style:s.W.separator})]}))})}),null===(l=m.blocks)||void 0===l?void 0:l.map((e,o)=>(0,t.jsx)(n.G7,{style:[e,{marginTop:30}],children:(0,t.jsxs)(n.G7,{style:s.W.table,children:[(0,t.jsxs)(n.G7,{style:s.W.tableTitle,children:[(0,t.jsx)(n.xv,{style:[s.W.tableTitlecolumn,{width:"60%"}],children:e.nome}),(0,t.jsx)(n.xv,{style:[s.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Resposta"}),(0,t.jsx)(n.xv,{style:[s.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Observa\xe7\xe3o"})]}),e.itens.map((e,o)=>(0,t.jsxs)(n.G7,{style:s.W.tableContainer,children:[(0,t.jsx)(n.G7,{style:[s.W.tableContent,{width:"60%"}],children:(0,t.jsx)(n.xv,{style:s.W.tableContentcolumn,children:e.nome})}),(0,t.jsx)(n.G7,{style:[s.W.tableContent,{width:"20%"}],children:(0,t.jsx)(n.xv,{style:s.W.tableContentcolumn,children:null!==(u=e.resposta)&&void 0!==u?u:""})}),(0,t.jsx)(n.G7,{style:[s.W.tableContent,{width:"20%"}],children:(0,t.jsx)(n.xv,{style:s.W.tableContentcolumn,children:null!==(x=e.obsResposta)&&void 0!==x?x:""})})]}))]})},o))]})};o.Z=i}}]);