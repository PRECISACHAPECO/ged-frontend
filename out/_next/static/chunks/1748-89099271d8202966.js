"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1748],{91748:function(e,t,a){a.d(t,{Z:function(){return eC}});var o=a(85893),s=a(67294),i=a(87536),l=a(56531),n=a(29308),r=a(81284),d=a(95309),c=a(29630),u=a(22841),x=a(75158);let p=e=>{let{title:t,values:a,name:s,changeCategory:i,register:l,disabled:n}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.ZP,{disablePadding:!0,children:(0,o.jsx)(d.Z,{children:(0,o.jsx)(c.Z,{variant:"subtitle1",sx:{fontWeight:600},children:t})})}),a&&a.map((e,t)=>(0,o.jsx)(r.ZP,{disablePadding:!0,children:(0,o.jsxs)(d.Z,{children:[(0,o.jsx)("input",{type:"hidden",name:"".concat(s,".[").concat(t,"].id"),defaultValue:e.id,...l("".concat(s,".[").concat(t,"].id"))}),(0,o.jsx)(u.Z,{control:(0,o.jsx)(x.Z,{name:"".concat(s,"[").concat(t,"].checked"),disabled:!!n,...l("".concat(s,"[").concat(t,"].checked")),defaultChecked:1==e.checked,onClick:t=>i?i(e.id,!!t.target.checked):null}),label:e.nome})]})},t))]})};var m=a(79139),h=a(66136),v=a(79072),g=a(72389),f=a(80562),j=a(21609),b=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M16.88 9.1A4 4 0 0116 17H5a5 5 0 01-1-9.9V7a3 3 0 014.52-2.59A4.98 4.98 0 0117 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})})},y=a(60349),D=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM528.1 472h-32.2c-5.5 0-10.3 3.7-11.6 9.1L434.6 680l-46.1-198.7c-1.3-5.4-6.1-9.3-11.7-9.3h-35.4a12.02 12.02 0 00-11.6 15.1l74.2 276c1.4 5.2 6.2 8.9 11.6 8.9h32c5.4 0 10.2-3.6 11.6-8.9l52.8-197 52.8 197c1.4 5.2 6.2 8.9 11.6 8.9h31.8c5.4 0 10.2-3.6 11.6-8.9l74.4-276a12.04 12.04 0 00-11.6-15.1H647c-5.6 0-10.4 3.9-11.7 9.3l-45.8 199.1-49.8-199.3c-1.3-5.4-6.1-9.1-11.6-9.1z"})})},Z=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"})})},C=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M424 476c-4.4 0-8 3.6-8 8v276c0 4.4 3.6 8 8 8h32.5c4.4 0 8-3.6 8-8v-95.5h63.3c59.4 0 96.2-38.9 96.2-94.1 0-54.5-36.3-94.3-96-94.3H424zm150.6 94.3c0 43.4-26.5 54.3-71.2 54.3h-38.9V516.2h56.2c33.8 0 53.9 19.7 53.9 54.1zm280-281.7L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"})})},w=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"})})},z=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M296 392h64v64h-64zm0 190v160h128V582h-64v-62h-64v62zm80 48v64h-32v-64h32zm-16-302h64v64h-64zm-64-64h64v64h-64zm64 192h64v64h-64zm0-256h64v64h-64zm494.6 88.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h64v64h64v-64h174v216a42 42 0 0042 42h216v494z"})})},I=function(e){return(0,o.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M854.6 288.7L639.4 73.4c-6-6-14.2-9.4-22.7-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.6-9.4-22.6zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM402 549c0 5.4 4.4 9.5 9.8 9.5h32.4c5.4 0 9.8-4.2 9.8-9.4 0-28.2 25.8-51.6 58-51.6s58 23.4 58 51.5c0 25.3-21 47.2-49.3 50.9-19.3 2.8-34.5 20.3-34.7 40.1v32c0 5.5 4.5 10 10 10h32c5.5 0 10-4.5 10-10v-12.2c0-6 4-11.5 9.7-13.3 44.6-14.4 75-54 74.3-98.9-.8-55.5-49.2-100.8-108.5-101.6-61.4-.7-111.5 45.6-111.5 103zm78 195a32 32 0 1064 0 32 32 0 10-64 0z"})})};let F=e=>{let{data:t}=e;return console.log("\uD83D\uDE80 ~ IconAttach data:",t),t&&"application/pdf"==t.tipo?(0,o.jsx)(y.Z,{className:"text-6xl fill-red-500"}):"image/jpeg"==t.tipo||"image/png"==t.tipo?(0,o.jsx)("div",{className:"h-16 w-16 rounded-lg relative ",style:{backgroundImage:"url(".concat(t.path,")"),backgroundSize:"cover",backgroundPosition:"center"}}):"application/vnd.openxmlformats-officedocument.wordprocessingml.document"==t.tipo?(0,o.jsx)(D,{className:"text-6xl fill-blue-500"}):"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==t.tipo?(0,o.jsx)(Z,{className:"text-6xl fill-green-500"}):"application/x-zip-compressed"==t.tipo||"application/zip-compressed"==t.tipo||"application/rar-compressed"==t.tipo||"application/x-rar-compressed"==t.tipo?(0,o.jsx)(z,{className:"text-6xl fill-yellow-500"}):"application/vnd.ms-powerpoint"==t.tipo||"application/vnd.openxmlformats-officedocument.presentationml.slideshow"==t.tipo||"application/vnd.openxmlformats-officedocument.presentationml.presentation"==t.tipo?(0,o.jsx)(C,{className:"text-6xl fill-[#D55736]"}):"text/plain"==t.tipo?(0,o.jsx)(w,{className:"text-6xl fill-sky-600"}):(0,o.jsx)(I,{className:"text-6xl fill-gray-500"})};var N=a(47842);let S=e=>{var t;let{item:a,handleFileClick:s,selectedItem:i,handleFileSelect:l,handleRemove:n,loadingFile:r,error:d,disabled:c,modeTheme:u,inputRef:x}=e;return console.log("\uD83D\uDE80 ~ AnexoGrid item:",a),(0,o.jsx)(v.ZP,{item:!0,xs:12,md:3,children:(0,o.jsxs)("div",{className:"".concat((null==d?void 0:d[indexItem])?"border border-red-500":"dark"===u?"bg-[#202023]":"bg-[#F6F6F8]"," rounded-lg flex flex-col relative z-10"),children:[(0,o.jsx)("div",{className:"flex items-center justify-center p-2 mt-1 ",children:(0,o.jsx)("p",{className:"font-medium text-sm ",children:a.nome})}),(0,o.jsx)("div",{className:"flex justify-center items-center cursor-pointer p-1 h-[150px] w-full ",disabled:c,onClick(){a.anexo&&a.anexo.path&&a.anexo.exist?window.open(a.anexo.path,"_blank"):c||s(a)},children:(0,o.jsxs)("div",{className:"flex p-2 justify-center items-center gap-2 rounded-lg w-full h-full m-3 border-2 border-dashed hover:border-[#4A8B57] transition-colors ".concat("dark"===u?" border-[#27272a]":"rgba(76, 78, 100, 0.12)"),children:[i&&i.grupoanexoitemID==a.grupoanexoitemID&&(0,o.jsx)(N.Z,{show:r,title:"Enviando anexo..."}),(0,o.jsx)("div",{className:"flex items-center gap-3",children:a.anexo&&a.anexo.exist?(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,o.jsx)(F,{data:a.anexo}),(0,o.jsxs)("p",{className:"text-sm opacity-80",children:[a.anexo.nome,(0,o.jsx)("span",{className:"text-xs opacity-50 ml-1",children:"(".concat((a.anexo.size/1024/1024).toFixed(2),"MB)")})]}),(0,o.jsx)("p",{className:"text-xs opacity-50",children:new Date(a.anexo.time).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})}):(0,o.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,o.jsx)(b,{className:"w-20 h-20 ".concat(a.anexo&&a.anexo.exist?"fill-[#666CFF]":"fill-current","\n                                        animate-custom-bounce")}),(0,o.jsx)("h6",{className:"text-sm font-normal opacity-80",children:"Adicione um arquivo"})]})})]})}),(0,o.jsxs)("div",{className:"flex items-center justify-between gap-1 p-2 py-3 pl-4",children:[(0,o.jsx)("p",{className:"text-xs opacity-70",children:a.descricao}),(0,o.jsx)(g.Z,{title:1==a.hasPending?"Este item n\xe3o pode mais ser removido pois j\xe1 foi respondido em um formul\xe1rio":"Remover este item",children:(0,o.jsx)(f.Z,{color:"error",onClick:()=>n(a),disabled:!(null===(t=a.anexo)||void 0===t?void 0:t.exist)||c,children:(0,o.jsx)(j.Z,{icon:"tabler:trash-filled"})})})]}),(0,o.jsx)("input",{type:"file",ref:x,style:{display:"none"},onChange:e=>l(e,i)})]})})};var R=a(88475);let A=e=>{var t;let{item:a,handleFileClick:s,selectedItem:i,handleFileSelect:l,handleRemove:n,loadingFile:r,error:d,disabled:c,modeTheme:u,inputRef:x}=e;return console.log("\uD83D\uDE80 ~ AnexoList item:",a),(0,o.jsx)(v.ZP,{item:!0,xs:12,md:12,children:(0,o.jsxs)("div",{className:"".concat((null==d?void 0:d[indexItem])?"border border-red-500":"dark"===u?"bg-[#202023]":" bg-[#F6F6F8] "," rounded-lg flex flex-col relative z-10"),children:[(0,o.jsx)("div",{className:"px-4 py-2 pb-0 space-y-1",children:(0,o.jsx)("p",{className:"font-medium text-sm ",children:a.nome})}),(0,o.jsxs)(v.ZP,{container:!0,className:"items-cente",children:[(0,o.jsx)(v.ZP,{item:!0,xs:12,md:11,children:(0,o.jsx)("div",{className:"flex justify-start items-center cursor-pointer p-1 w-full ",disabled:c,onClick(){a.anexo&&a.anexo.path&&a.anexo.exist?window.open(a.anexo.path,"_blank"):c||s(a)},children:(0,o.jsxs)("div",{className:"flex relative p-4 justify-start items-center gap-2 rounded-lg w-full mx-2 my-1 mb-2 border-2 border-dashed hover:border-[#4A8B57] transition-colors ".concat("dark"===u?" border-[#27272a]":"rgba(76, 78, 100, 0.12)"),children:[i&&i.grupoanexoitemID==a.grupoanexoitemID&&(0,o.jsx)(N.Z,{show:r,title:"Enviando anexo..."}),(0,o.jsx)("div",{className:"flex items-center gap-3 container",children:a.anexo&&a.anexo.exist?(0,o.jsx)("div",{className:"flex items-center justify-between gap-2 container",children:(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{children:(0,o.jsx)(F,{data:a.anexo})}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("p",{className:"text-sm font-semibold opacity-80",children:a.anexo.nome}),(0,o.jsx)("p",{className:"text-sm opacity-80",children:(0,o.jsx)("span",{className:"text-xs opacity-50",children:"(".concat((a.anexo.size/1024/1024).toFixed(2),"MB)")})}),(0,o.jsx)("p",{className:"text-xs opacity-50",children:"Enviado em: "+new Date(a.anexo.time).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,o.jsx)("p",{className:"text-xs opacity-70",children:a.descricao})]})]})}):(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(b,{className:"w-20 h-20 ".concat(a.anexo&&a.anexo.exist?"fill-[#666CFF]":"fill-current"," \n                                                animate-custom-bounce")}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h6",{className:"text-sm font-semibold opacity-80",children:"Adicione um arquivo"}),(0,o.jsx)("p",{className:"text-xs opacity-70",children:a.descricao})]})]})})]})})}),(0,o.jsx)(v.ZP,{item:!0,xs:12,md:1,className:"flex justify-center",children:(0,o.jsx)(R.Z,{xs:12,md:1,title:"",removeItem:()=>n(a),item:a,pending:!(null===(t=a.anexo)||void 0===t?void 0:t.exist)||c,textSuccess:"Remover este anexo",textError:"Este anexo n\xe3o pode mais ser removido pois o formul\xe1rio j\xe1 foi conclu\xeddo!"})})]}),(0,o.jsx)("input",{type:"file",ref:x,style:{display:"none"},onChange:e=>l(e,i)})]})})};var W=a(49837),k=a(91359),P=a(63366),E=a(87462);a(59864);var M=a(86010),B=a(94780),V=a(67074),T=a(78884),L=a(36622),H=a(1588),G=a(34867);function $(e){return(0,G.Z)("MuiToggleButtonGroup",e)}let O=(0,H.Z)("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),q=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],_=e=>{let{classes:t,orientation:a,fullWidth:o,disabled:s}=e,i={root:["root","vertical"===a&&"vertical",o&&"fullWidth"],grouped:["grouped",`grouped${(0,L.Z)(a)}`,s&&"disabled"]};return(0,B.Z)(i,$,t)},Q=(0,V.ZP)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver(e,t){let{ownerState:a}=e;return[{[`& .${O.grouped}`]:t.grouped},{[`& .${O.grouped}`]:t[`grouped${(0,L.Z)(a.orientation)}`]},t.root,"vertical"===a.orientation&&t.vertical,a.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>(0,E.Z)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${O.grouped}`]:(0,E.Z)({},"horizontal"===e.orientation?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${O.selected} + .${O.grouped}.${O.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${O.selected} + .${O.grouped}.${O.selected}`]:{borderTop:0,marginTop:0}})})),U=s.forwardRef(function(e,t){let a=(0,T.Z)({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:l,color:n="standard",disabled:r=!1,exclusive:d=!1,fullWidth:c=!1,onChange:u,orientation:x="horizontal",size:p="medium",value:m}=a,h=(0,P.Z)(a,q),v=(0,E.Z)({},a,{disabled:r,fullWidth:c,orientation:x,size:p}),g=_(v),f=(e,t)=>{let a;if(!u)return;let o=m&&m.indexOf(t);m&&o>=0?(a=m.slice()).splice(o,1):a=m?m.concat(t):[t],u(e,a)},j=(e,t)=>{u&&u(e,m===t?null:t)};return(0,o.jsx)(Q,(0,E.Z)({role:"group",className:(0,M.Z)(g.root,l),ref:t,ownerState:v},h,{children:s.Children.map(i,e=>{var t;return s.isValidElement(e)?s.cloneElement(e,{className:(0,M.Z)(g.grouped,e.props.className),onChange:d?j:f,selected:void 0===e.props.selected?(t=e.props.value,void 0!==m&&void 0!==t&&(Array.isArray(m)?m.indexOf(t)>=0:t===m)):e.props.selected,size:e.props.size||p,fullWidth:c,color:e.props.color||n,disabled:e.props.disabled||r}):null})}))});var J=a(41796),K=a(50522);function X(e){return(0,G.Z)("MuiToggleButton",e)}let Y=(0,H.Z)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),ee=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],et=e=>{let{classes:t,fullWidth:a,selected:o,disabled:s,size:i,color:l}=e,n={root:["root",o&&"selected",s&&"disabled",a&&"fullWidth",`size${(0,L.Z)(i)}`,l]};return(0,B.Z)(n,X,t)},ea=(0,V.ZP)(K.Z,{name:"MuiToggleButton",slot:"Root",overridesResolver(e,t){let{ownerState:a}=e;return[t.root,t[`size${(0,L.Z)(a.size)}`]]}})(({theme:e,ownerState:t})=>{let a,o="standard"===t.color?e.palette.text.primary:e.palette[t.color].main;return e.vars&&(o="standard"===t.color?e.vars.palette.text.primary:e.vars.palette[t.color].main,a="standard"===t.color?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),(0,E.Z)({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${Y.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,J.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Y.selected}`]:{color:o,backgroundColor:e.vars?`rgba(${a} / ${e.vars.palette.action.selectedOpacity})`:(0,J.Fq)(o,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${a} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,J.Fq)(o,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${a} / ${e.vars.palette.action.selectedOpacity})`:(0,J.Fq)(o,e.palette.action.selectedOpacity)}}}},"small"===t.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===t.size&&{padding:15,fontSize:e.typography.pxToRem(15)})}),eo=s.forwardRef(function(e,t){let a=(0,T.Z)({props:e,name:"MuiToggleButton"}),{children:s,className:i,color:l="standard",disabled:n=!1,disableFocusRipple:r=!1,fullWidth:d=!1,onChange:c,onClick:u,selected:x,size:p="medium",value:m}=a,h=(0,P.Z)(a,ee),v=(0,E.Z)({},a,{color:l,disabled:n,disableFocusRipple:r,fullWidth:d,size:p}),g=et(v),f=e=>{u&&(u(e,m),e.defaultPrevented)||!c||c(e,m)};return(0,o.jsx)(ea,(0,E.Z)({className:(0,M.Z)(g.root,i),disabled:n,focusRipple:!r,ref:t,onClick:f,onChange:c,value:m,ownerState:v,"aria-pressed":x},h,{children:s}))});var es=function(e){return(0,o.jsx)("svg",{fill:"currentColor",viewBox:"0 0 16 16",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5z"})})},ei=function(e){return(0,o.jsx)("svg",{fill:"currentColor",viewBox:"0 0 16 16",height:"1em",width:"1em",...e,children:(0,o.jsx)("path",{d:"M1 2.5A1.5 1.5 0 012.5 1h3A1.5 1.5 0 017 2.5v3A1.5 1.5 0 015.5 7h-3A1.5 1.5 0 011 5.5v-3zM2.5 2a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zm6.5.5A1.5 1.5 0 0110.5 1h3A1.5 1.5 0 0115 2.5v3A1.5 1.5 0 0113.5 7h-3A1.5 1.5 0 019 5.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zM1 10.5A1.5 1.5 0 012.5 9h3A1.5 1.5 0 017 10.5v3A1.5 1.5 0 015.5 15h-3A1.5 1.5 0 011 13.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zm6.5.5A1.5 1.5 0 0110.5 9h3a1.5 1.5 0 011.5 1.5v3a1.5 1.5 0 01-1.5 1.5h-3A1.5 1.5 0 019 13.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3z"})})};let el=e=>{let{values:t}=e,[a,i]=(0,s.useState)(null);console.log("\uD83D\uDE80 ~ selectedItem:",a);let{settings:l}=(0,s.useContext)(h.J6),n=l.mode,r=(0,s.useRef)(null),d=e=>{r.current.click(),i(e)};(0,s.useEffect)(()=>{r.current.value=""},[t.handleFileSelect]);let[u,x]=(0,s.useState)("list"),p=(e,t)=>{x(t)};return(0,o.jsx)(W.Z,{sx:{mt:4},children:(0,o.jsxs)(k.Z,{children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,o.jsxs)(c.Z,{variant:"subtitle1",sx:{fontWeight:600},children:[t.grupo.nome,(0,o.jsx)(c.Z,{variant:"body2",sx:{mb:2},children:t.grupo.descricao})]}),(0,o.jsx)("div",{children:(0,o.jsxs)(U,{exclusive:!0,color:"primary",value:u,onChange:p,children:[(0,o.jsx)(eo,{value:"list",children:(0,o.jsx)(es,{})}),(0,o.jsx)(eo,{value:"grid",children:(0,o.jsx)(ei,{})})]})})]}),(0,o.jsx)(v.ZP,{container:!0,spacing:4,children:t.grupo.itens.map((e,s)=>"list"===u?(0,o.jsx)(A,{modeTheme:n,handleFileClick:d,selectedItem:a,inputRef:r,item:e,loadingFile:t.loadingFile,grupo:t.grupo,indexGrupo:t.indexGrupo,handleFileSelect:t.handleFileSelect,handleRemove:t.handleRemove,error:t.error,disabled:t.disabled},"".concat(t.indexGrupo,"-").concat(s)):(0,o.jsx)(S,{modeTheme:n,handleFileClick:d,selectedItem:a,inputRef:r,item:e,loadingFile:t.loadingFile,grupo:t.grupo,indexGrupo:t.indexGrupo,handleFileSelect:t.handleFileSelect,handleRemove:t.handleRemove,error:t.error,disabled:t.disabled},"".concat(t.indexGrupo,"-").concat(s)))})]})})};a(83830);var en=a(99070),er=a(40874),ed=a(60664);let ec=e=>{let[t,a]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let t=async()=>{await ed.h.post("relatorio/fornecedor/dadosFornecedor",{data:e}).then(e=>a(e.data))};t()},[e]),t},eu=e=>{var t,a,i,l,n,r,d,c,u;let{params:x}=e,p=ec(x);return(0,o.jsx)(o.Fragment,{children:p&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(en.G7,{style:er.W.containerFields,children:null===(t=p.fields)||void 0===t?void 0:t.map((e,t)=>(0,o.jsxs)(s.Fragment,{children:[(0,o.jsxs)(en.G7,{style:[er.W.fields,{width:"33%"}],children:[(0,o.jsx)(en.xv,{style:er.W.fieldTitle,children:null!==(i=e.title)&&void 0!==i?i:"NI"}),(0,o.jsx)(en.xv,{style:er.W.fieldValue,children:null!==(l=e.value)&&void 0!==l?l:"NI"})]}),(t+1)%3==0&&(0,o.jsx)(en.G7,{style:er.W.separator})]},t))}),(0,o.jsx)(en.G7,{style:er.W.separator}),(0,o.jsxs)(en.G7,{style:{display:"flex",flexDirection:"column",gap:7,paddingVertical:10,paddingBottom:10},children:[(0,o.jsxs)(en.xv,{style:er.W.fieldTitle,children:["Atividades: ",(0,o.jsx)(en.xv,{style:er.W.fieldValue,children:null!==(n=p.atividades)&&void 0!==n?n:"NI"})]}),(0,o.jsxs)(en.xv,{style:er.W.fieldTitle,children:["Sistema de qualidade:"," ",(0,o.jsx)(en.xv,{style:er.W.fieldValue,children:null!==(r=p.sistemaQualidade)&&void 0!==r?r:"NI"})]}),(0,o.jsxs)(en.xv,{style:er.W.fieldTitle,children:["Categoria: ",(0,o.jsx)(en.xv,{style:er.W.fieldValue,children:null!==(d=p.categoria)&&void 0!==d?d:"NI"})]})]}),(0,o.jsx)(en.G7,{style:er.W.separator}),null===(a=p.blocos)||void 0===a?void 0:a.map((e,t)=>(0,o.jsxs)(en.G7,{style:e,children:[(0,o.jsx)(en.xv,{style:[er.W.blockTitle,{paddingTop:20}],children:e.nome}),(0,o.jsxs)(en.G7,{style:er.W.table,children:[(0,o.jsxs)(en.G7,{style:er.W.tableTitle,children:[(0,o.jsx)(en.xv,{style:[er.W.tableTitlecolumn,{width:"60%"}],children:"Item"}),(0,o.jsx)(en.xv,{style:[er.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Resposta"}),(0,o.jsx)(en.xv,{style:[er.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Observa\xe7\xe3o"})]}),e.itens.map((e,t)=>(0,o.jsxs)(en.G7,{style:er.W.tableContainer,children:[(0,o.jsx)(en.G7,{style:[er.W.tableContent,{width:"60%"}],children:(0,o.jsx)(en.xv,{style:er.W.tableContentcolumn,children:e.nome})}),(0,o.jsx)(en.G7,{style:[er.W.tableContent,{width:"20%"}],children:(0,o.jsx)(en.xv,{style:er.W.tableContentcolumn,children:null!==(c=e.resposta)&&void 0!==c?c:"--"})}),(0,o.jsx)(en.G7,{style:[er.W.tableContent,{width:"20%"}],children:(0,o.jsx)(en.xv,{style:er.W.tableContentcolumn,children:null!==(u=e.obsResposta)&&void 0!==u?u:"--"})})]}))]})]},t))]})})};var ex=a(19604),ep=a(61953),em=a(55343),eh=a(11163),ev=a.n(eh),eg=a(14155),ef=a(40039),ej=a(46749),eb=a(86501),ey=a(80377),eD=a(34282);let eZ=e=>{let{id:t}=e,{user:a,loggedUnity:r}=(0,s.useContext)(ef.V),[d,u]=(0,s.useState)(!1),[x,h]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!1),[j,b]=(0,s.useState)([]),[y,D]=(0,s.useState)(null),[Z,C]=(0,s.useState)([]),[w,z]=(0,s.useState)([]),[I,F]=(0,s.useState)([]),[S,R]=(0,s.useState)([]),[A,P]=(0,s.useState)([]),[E,M]=(0,s.useState)([]),[B,V]=(0,s.useState)(""),[T,L]=(0,s.useState)(!1),[H,G]=(0,s.useState)(null),[$,O]=(0,s.useState)(null),[q,_]=(0,s.useState)(!1),[Q,U]=(0,s.useState)(!0),[J,K]=(0,s.useState)({status:!1,errors:[]}),[X,Y]=(0,s.useState)(!1),[ee,et]=(0,s.useState)([]),[ea,eo]=(0,s.useState)({status:!1,message:"Voc\xea n\xe3o tem permiss\xf5es",messageType:"info"}),es=ev(),ei=t&&t>0?"edit":"new",en=es.pathname,{watch:er,register:ec,reset:eh,control:eZ,getValues:eC,clearErrors:ew,setValue:ez,setError:eI,handleSubmit:eF,formState:{errors:eN}}=(0,i.cI)(),eS=async()=>{try{await ed.h.post("/formularios/fornecedor/verifyFormPending/".concat(t),{parFormularioID:1}).then(e=>{U(e.data) //! true/false
})}catch(e){console.log(e)}},eR=async(e,o)=>{let s={status:e,observacao:o,auth:{usuarioID:a.usuarioID,papelID:a.papelID,unidadeID:r.unidadeID}};try{h(!0),await ed.h.post("".concat(en,"/changeFormStatus/").concat(t),s).then(e=>{eb.ZP.success(ej.OD.successUpdate),h(!1)})}catch(i){console.log(i)}},eA=async e=>{if(9===e.length){let t=e.replace(/[^0-9]/g,"");try{let a=await ed.h.get("https://viacep.com.br/ws/".concat(t,"/json/"));a.data.localidade?(j.forEach(async(e,t)=>{("logradouro"===e.nomeColuna||"bairro"===e.nomeColuna||"cidade"===e.nomeColuna||"estado"===e.nomeColuna)&&(await ez("fields[".concat(t,"].logradouro"),a.data.logradouro),await ez("fields[".concat(t,"].bairro"),a.data.bairro),await ez("fields[".concat(t,"].cidade"),a.data.localidade),await ez("fields[".concat(t,"].estado"),a.data.uf))}),eb.ZP.success("Endere\xe7o encontrado!")):eb.ZP.error("Endere\xe7o n\xe3o encontrado!")}catch(o){console.error(o)}}},eW=[{id:1,name:"Formul\xe1rio do fornecedor",component:(0,o.jsx)(eu,{params:{id:t}}),route:"/relatorio/fornecedor/dadosFornecedor",papelID:a.papelID,identification:"01",params:{fornecedorID:t}}],ek=(e,t)=>{let a=[];null==e||e.map((e,o)=>{eE(e.categorias,t)&&a.push(e)}),M(a)},eP=(e,t)=>{let a=Z.map(a=>a.id===e?{...a,checked:t}:a);C(a),ek(A,a)},eE=(e,t)=>{let a=e.map(e=>e.categoriaID),o=t.filter(e=>e.checked).map(e=>e.id);if(a.length!==o.length)return!1;let s=[...a].sort(),i=[...o].sort();for(let l=0;l<s.length;l++)if(s[l]!==i[l])return!1;return!0},eM=e=>{let t=!1;return E.forEach(a=>{a.parFornecedorBlocoID==e&&(t=!0)}),t},eB=e=>{};console.log("Verific",eB);let eV=()=>{try{u(!0),t&&ed.h.post("".concat(en,"/getData/").concat(t),{unidadeLogadaID:r.unidadeID}).then(e=>{console.log("\uD83D\uDE80 ~ response.data:",e.data),eB(e.data.fields),b(e.data.fields),C(e.data.categorias),z(e.data.atividades),F(e.data.sistemasQualidade),P(e.data.blocos),ek(e.data.blocos,e.data.categorias),R(e.data.grupoAnexo),V(e.data.info),G(e.data.unidade),eh(e.data);let t=ej.WR[e.data.info.status];O(t),eo({status:2==a.papelID&&e.data.info.status<40,message:2==a.papelID?"Esse formul\xe1rio j\xe1 foi conclu\xeddo e enviado pra f\xe1brica, n\xe3o \xe9 mais poss\xedvel alterar as informa\xe7\xf5es!":"Somente o fornecedor pode alterar as informa\xe7\xf5es deste formul\xe1rio!",messageType:2==a.papelID?"warning":"info"}),u(!1)})}catch(e){console.log(e)}},eT=()=>{es.push("/formularios/fornecedor/"),eb.ZP.error("Voc\xea n\xe3o tem permiss\xf5es para acessar esta p\xe1gina!")},eL=()=>{eO(),L(!0)},eH=async e=>{ew(),await eF(e$)(e)},eG=async e=>{e.conclusion=!0,await eF(e$)(e)},e$=async function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===o.conclusion&&(e.status=a&&1==a.papelID?o.status:40,e.obsConclusao=o.obsConclusao);let s={form:e,auth:{usuarioID:a.usuarioID,papelID:a.papelID,unidadeID:r.unidadeID}};try{h(!0),await ed.h.put("".concat(en,"/updateData/").concat(t),s).then(e=>{eb.ZP.success(ej.OD.successUpdate),h(!1)})}catch(i){console.log(i)}},eO=()=>{ew();let e=!1,t=[];j.forEach((a,o)=>{let s=a.tabela?"fields[".concat(o,"].").concat(a.tabela):"fields[".concat(o,"].").concat(a.nomeColuna),i=eC(s);1!==a.obrigatorio||i||(eI(s,{type:"manual",message:"Campo obrigat\xf3rio"}),t.push(null==a?void 0:a.nomeCampo),e=!0)}),A.forEach((a,o)=>{eM(a.parFornecedorBlocoID)&&a.itens.forEach((a,s)=>{let i=eC("blocos[".concat(o,"].itens[").concat(s,"].resposta"));(null==a?void 0:a.obrigatorio)!==1||i||(eI("blocos[".concat(o,"].itens[").concat(s,"].resposta"),{type:"manual",message:"Campo obrigat\xe1rio"}),t.push(null==a?void 0:a.nome),e=!0)})}),S.forEach((a,o)=>{a.itens.forEach((a,s)=>{var i;(null==a?void 0:a.obrigatorio)!==1||(null==a?void 0:null===(i=a.anexo)||void 0===i?void 0:i.exist)||(eI("grupoAnexo[".concat(o,"].itens[").concat(s,"].anexo"),{type:"manual",message:"Campo obrigat\xe1rio"}),t.push("Anexo: ".concat(null==a?void 0:a.nome)),e=!0)})}),K({status:e,errors:t})};(0,s.useEffect)(()=>{"edit"==ei?eV():eT(),eS()},[t,x]),(0,s.useEffect)(()=>{eO()},[]),(0,s.useEffect)(()=>{X&&eb.ZP.success("Dados copiados com sucesso!")},[X]);let eq=async(e,o)=>{f(!0);let s=e.target.files[0];if(console.log("\uD83D\uDE80 ~ selectedFile:",s),s){let i=new FormData;i.append("file",s),i.append("usuarioID",a.usuarioID),i.append("unidadeID",r.unidadeID),i.append("file",o.anexo.file),i.append("titulo",s.name),i.append("grupoanexoitemID",o.grupoanexoitemID),await ed.h.post("".concat(en,"/saveAnexo/").concat(t,"/").concat(H.unidadeID),i).then(e=>{console.log("\uD83D\uDE80 ~ response.data:",e.data),f(!1),eb.ZP.success("Anexo adicionado com sucesso!");let t=S.map(t=>t.grupoAnexoID==o.grupoanexoID?{...t,itens:t.itens.map(t=>t.grupoanexoitemID==o.grupoanexoitemID?{...o,anexo:{...o.anexo,exist:!0,nome:e.data.nome,path:e.data.path,tipo:e.data.tipo,size:e.data.size,time:e.data.time}}:t)}:t);console.log("\uD83D\uDE80 ~ updatedGrupoAnexo:",t),R(t)}).catch(e=>{var t,a,o;f(!1),eb.ZP.error(null!==(o=null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)&&void 0!==o?o:"Erro ao atualizar foto de perfil, tente novamente!")})}},e_=async e=>{e&&await ed.h.delete("".concat(en,"/deleteAnexo/").concat(e.grupoanexoitemID,"/").concat(t,"/").concat(r.unidadeID,"/").concat(a.usuarioID)).then(t=>{eb.ZP.success("Anexo removido com sucesso!");let a=S.map(t=>t.grupoAnexoID==e.grupoanexoID?{...t,itens:t.itens.map(t=>t.grupoanexoitemID==e.grupoanexoitemID?{...e,anexo:{...e.anexo,exist:!1,nome:null,path:null,tipo:null,size:null,time:null}}:t)}:t);R(a)}).catch(e=>{var t,a,o;eb.ZP.error(null!==(o=null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)&&void 0!==o?o:"Erro ao remover anexo, tente novamente!")})};return(0,o.jsxs)(o.Fragment,{children:[d?(0,o.jsx)(N.Z,{}):j?(0,o.jsxs)("form",{onSubmit:eH,children:[H&&(0,o.jsx)("input",{type:"hidden",value:H.unidadeID,name:"unidadeID",...ec("unidadeID")}),E&&0===E.length&&(0,o.jsxs)(ex.Z,{severity:"error",sx:{mb:2},children:["Selecione ao menos uma ",(0,o.jsx)("span",{style:{fontWeight:"bold"},children:"categoria"}),"!"]}),!ea.status&&(0,o.jsx)(ex.Z,{severity:ea.messageType,sx:{mb:2},children:ea.message}),(0,o.jsxs)(W.Z,{children:[(0,o.jsx)(eg.Z,{btnCancel:!0,btnSave:2==a.papelID&&B.status<40,btnSend:1==a.papelID&&B.status>=40||2==a.papelID&&B.status<40,disabledSend:0===E.length,disabledSubmit:0===E.length,disabledPrint:0===E.length,btnPrint:!0,dataReports:eW,handleSubmit:()=>eF(e$),handleSend:eL,iconConclusion:B.status>=40?"mdi:check-bold":"carbon:send-filled",titleConclusion:B.status>=40?"Aprovar Fornecedor":"Concluir Formul\xe1rio",title:"Fornecedor",btnStatus:!0,handleBtnStatus:()=>_(!0),type:ei,status:$}),(0,o.jsxs)(k.Z,{children:[H&&2==a.papelID&&(0,o.jsx)(ep.Z,{sx:{mb:4},children:(0,o.jsx)(v.ZP,{container:!0,spacing:4,children:(0,o.jsxs)(v.ZP,{item:!0,xs:12,md:6,children:[(0,o.jsx)(c.Z,{variant:"caption",children:"F\xe1brica:"}),(0,o.jsx)(c.Z,{variant:"subtitle1",sx:{fontWeight:600},children:H.nomeFantasia})]})})}),(0,o.jsx)(l.Z,{fields:j,register:ec,errors:eN,setValue:ez,control:eZ,watch:er,getAddressByCep:eA,disabled:!ea.status,setCopiedDataContext:Y}),(0,o.jsxs)(v.ZP,{container:!0,spacing:4,children:[(0,o.jsx)(v.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(p,{title:"Categorias",values:Z,name:"categorias",changeCategory:eP,register:ec,disabled:!ea.status})}),(0,o.jsx)(v.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(p,{title:"Atividades",values:w,name:"atividades",register:ec,disabled:!ea.status})}),(0,o.jsx)(v.ZP,{item:!0,xs:12,md:4,children:(0,o.jsx)(p,{title:"Sistema de Qualidade",values:I,name:"sistemasQualidade",register:ec,disabled:!ea.status})})]})]})]}),A&&A.map((e,t)=>eM(e.parFornecedorBlocoID)?(0,o.jsx)(m.Z,{index:t,blockKey:"parFornecedorBlocoID",values:e,control:eZ,register:ec,setValue:ez,errors:eN,disabled:!ea.status},t):null),S&&S.map((e,t)=>{var a,s;return(0,o.jsx)(el,{values:{grupo:e,loadingFile:g,indexGrupo:t,handleFileSelect:eq,handleRemove:e_,disabled:!ea.status,error:null==eN?void 0:null===(a=eN.grupoAnexo)||void 0===a?void 0:null===(s=a[t])||void 0===s?void 0:s.itens}},t)}),(0,o.jsx)(W.Z,{sx:{mt:4},children:(0,o.jsx)(k.Z,{children:(0,o.jsx)(v.ZP,{container:!0,spacing:4,children:(0,o.jsx)(v.ZP,{item:!0,xs:12,md:12,children:(0,o.jsxs)(em.Z,{fullWidth:!0,children:[(0,o.jsx)(c.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Observa\xe7\xf5es (campo de uso exclusivo da validadora)"}),(0,o.jsx)(n.Z,{title:"Observa\xe7\xe3o (opcional)",name:"info.obs",multiline:!0,rows:4,value:B.obs,disabled:!ea.status,control:eZ})]})})})})})]}):null,(0,o.jsx)(ey.Z,{openModal:T,handleClose(){L(!1)},title:B.status>=40?"Aprovar Fornecedor":"Concluir Formul\xe1rio",text:"Deseja realmente concluir este formul\xe1rio?",info:B,btnCancel:!0,canChange:!Q,btnConfirm:!0,btnConfirmColor:"primary",conclusionForm:eG,listErrors:J}),q&&(0,o.jsx)(eD.Z,{title:"Hist\xf3rico do Formul\xe1rio",text:"Listagem do hist\xf3rico das movimenta\xe7\xf5es do formul\xe1rio ".concat(t," do Fornecedor."),id:t,parFormularioID:1,formStatus:B.status,hasFormPending:Q,canChangeStatus:1==a.papelID&&!Q&&B.status>30,openModal:q,handleClose:()=>_(!1),btnCancel:!0,btnConfirm:!0,handleSubmit:eR})]})};var eC=eZ}}]);