(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5596],{29295:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configuracoes/formularios/limpeza",function(){return n(67013)}])},24527:function(e,t,n){"use strict";var o=n(85893),i=n(79072),s=n(49837),l=n(91359),a=n(30120),r=n(29630),d=n(67294),c=n(21609),u=n(66136);let m=e=>{let{xs:t,md:n,icon:m,title:x,subtitle:v,action:p,handleClick:h}=e,{settings:j}=(0,d.useContext)(u.J6),Z=j.mode;return(0,o.jsx)(i.ZP,{item:!0,xs:t,md:n,children:(0,o.jsx)(s.Z,{onClick:h,className:"cursor-pointer ".concat("dark"==Z?"hover:bg-[#232327]":"hover:bg-[#EEEEF1]","  shadow-xl transition-all"),children:(0,o.jsx)(l.Z,{className:"text-center",children:(0,o.jsxs)(a.Z,{display:"flex",flexDirection:"column",alignItems:"center",sx:{gap:3,padding:6},children:[(0,o.jsx)(c.Z,{icon:m,width:38}),(0,o.jsx)(r.Z,{variant:"h6",className:"!font-extrabold",children:x}),(0,o.jsx)(r.Z,{variant:"subtitle2",children:v}),(0,o.jsxs)("div",{className:"flex items-center gap-1 text-[#4a8b57] ",children:[(0,o.jsx)(c.Z,{icon:"new"==p?"icon-park-solid:add-one":"grommet-icons:form-next-link",width:16}),(0,o.jsx)(r.Z,{variant:"body2",color:"primary",children:"new"==p?"Criar novo":"Acessar"})]})]})})})})};t.Z=m},1948:function(e,t,n){"use strict";var o=n(85893),i=n(54225),s=n(1890),l=n(77745),a=n(95398),r=n(76779),d=n(44642),c=n(60664),u=n(30120),m=n(22416),x=n(22841),v=n(16056),p=n(79072),h=n(55343),j=n(67836),Z=n(87536),b=n(86501);let g=e=>{let{openModal:t,setOpenModalConfirmScore:n,itemScore:g,setItemScore:f}=e,k=()=>{n(!1)},{handleSubmit:C,register:y}=(0,Z.cI)({}),I=e=>{let t={alternativaID:null==g?void 0:g.alternativaID,pontuacao:(null==e?void 0:e.pontuacao)?1:0,parFornecedorBlocoItemID:null==g?void 0:g.parFornecedorBlocoItemID,alternatives:null==g?void 0:g.alternatives.map((t,n)=>({alternativaItemID:null==t?void 0:t.alternativaItemID,score:e[null==t?void 0:t.nome]}))};c.h.post("/formularios/fornecedor/saveItemScore",{data:t}).then(e=>{n(!1),b.Am.success("Pontua\xe7\xe3o salva com sucesso!")})};return(0,o.jsx)(o.Fragment,{children:(null==g?void 0:g.alternatives)&&(0,o.jsx)(s.Z,{open:t,onClose:k,"aria-labelledby":"form-dialog-title",children:(0,o.jsxs)("form",{onSubmit:C(I),children:[(0,o.jsx)(l.Z,{id:"form-dialog-title",children:"Pontua\xe7\xe3o das respostas"}),(0,o.jsxs)(a.Z,{children:[(0,o.jsx)(d.Z,{sx:{mb:3},children:"Defina a pontua\xe7\xe3o para cada alternativa"}),(0,o.jsx)(u.Z,{sx:{mb:4},children:(0,o.jsx)(m.Z,{row:!0,children:(0,o.jsx)(x.Z,{label:"Habilitar pontua\xe7\xe3o",control:(0,o.jsx)(v.Z,{name:"pontuacao",...y("pontuacao"),checked:(null==g?void 0:g.pontuacao)==1,onChange(e){f({...g,pontuacao:e.target.checked?1:0})}})})})}),g&&(null==g?void 0:g.alternatives.map((e,t)=>(0,o.jsx)(p.ZP,{md:12,sx:{mb:4},children:(0,o.jsx)("grid",{item:!0,md:12,children:(0,o.jsx)(h.Z,{fullWidth:!0,children:(0,o.jsx)(j.Z,{disabled:1!=g.pontuacao,id:"outlined-basic",label:null==e?void 0:e.nome,...y("".concat(null==e?void 0:e.nome)),name:"".concat(null==e?void 0:e.nome),defaultValue:null==e?void 0:e.score,variant:"outlined",size:"small",type:"number",title:0!=g.pontuacao||"Habilite a pontua\xe7\xe3o para preencher"})})})},t)))]}),(0,o.jsxs)(r.Z,{className:"dialog-actions-dense",children:[(0,o.jsx)(i.Z,{variant:"outlined",color:"primary",onClick:k,children:"Cancelar"}),(0,o.jsx)(i.Z,{variant:"contained",color:"primary",onClick:C(I),children:"Confirmar"})]})]})})})};t.Z=g},43816:function(e,t,n){"use strict";var o=n(85893),i=n(11163),s=n.n(i),l=n(54225),a=n(41664),r=n.n(a),d=n(40039),c=n(67294),u=n(83830),m=n(46749),x=n(21609),v=n(41088);let p=e=>{let{btnNew:t,btnPrint:n,btnSave:i,btnBack:a,type:p,partialRoute:h,handleSave:j,hasListChange:Z,openModal:b}=e,g=s(),{setId:f}=(0,c.useContext)(u.X),{routes:k}=(0,c.useContext)(d.V),{isLoading:C}=(0,v.Z)(),y="new"===p&&h?(0,m.g_)((0,m.g_)(g.pathname)):"new"===p||h?(0,m.g_)(g.pathname):g.pathname;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"flex items-center justify-between my-2 w-full",children:[(0,o.jsx)("div",{children:a&&(0,o.jsx)(l.Z,{onClick(){f(null),"new"==p&&g.push(y)},type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,o.jsx)(x.Z,{icon:"grommet-icons:form-previous-link"})})}),(0,o.jsxs)("div",{className:"flex items-center gap-4 ",children:[(0,o.jsx)("div",{children:n&&(0,o.jsxs)(l.Z,{onClick:()=>window.print(),type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,o.jsx)(x.Z,{icon:"mdi:printer"}),(0,o.jsx)("span",{className:"hidden sm:block",children:"Imprimir"})]})}),(0,o.jsx)("div",{className:"",children:t&&k.find(e=>(e.rota===g.pathname||e.rota===(0,m.g_)(g.pathname))&&e.inserir)&&(0,o.jsx)(r(),{href:b?"":"".concat(g.pathname,"/novo"),children:(0,o.jsxs)(l.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",onClick:b||null,sx:{display:"flex",gap:2},children:[(0,o.jsx)(x.Z,{icon:"ic:outline-plus"}),(0,o.jsx)("span",{className:"hidden sm:block",children:"Novo"})]})})}),(0,o.jsx)("div",{children:i&&(0,o.jsxs)(l.Z,{onClick:j,disabled:!Z||C,type:"button",variant:"outlined",color:C?"secondary":"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,o.jsx)(x.Z,{icon:"mdi:check-bold"}),(0,o.jsx)("span",{className:"hidden sm:block",children:"Salvar"})]})})]})]})})};t.Z=p},93250:function(e,t,n){"use strict";var o=n(85893),i=n(49837),s=n(91359),l=n(95722);let a=e=>{let{result:t,columns:n,btnNew:a=!0,btnPrint:r=!0,btnBack:d,openModal:c}=e;return(0,o.jsx)(i.Z,{children:(0,o.jsx)(s.Z,{sx:{pt:"0"},children:(0,o.jsx)(l.Z,{rows:t,columns:n,buttonsHeader:{btnNew:a,btnPrint:r,btnBack:d,openModal:c}})})})};t.Z=a},67569:function(e,t,n){"use strict";var o=n(85893),i=n(79072),s=n(30120),l=n(29630),a=n(22841),r=n(75158);let d=e=>{let{xs:t,md:n,title:d,index:c,name:u,typePage:m,value:x,edit:v,register:p,setValue:h,className:j}=e;return(0,o.jsx)(i.ZP,{item:!0,xs:t,md:n,className:j,children:(0,o.jsxs)(s.Z,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(l.Z,{variant:"caption",children:c&&0!=c?"":d}),(0,o.jsx)(a.Z,{control:(0,o.jsx)(r.Z,{size:"small",sx:{ml:4},...p(u),defaultChecked:!0==x||1==x||"new"==m,onChange(e){v&&h(v,!0)}})})]})})};t.Z=d},3893:function(e,t,n){"use strict";var o=n(85893),i=n(79072),s=n(30120),l=n(22841),a=n(75158),r=n(53934);let d=e=>{let{xs:t,md:n,title:d,index:c,name:u,typePage:m,value:x,disabled:v,register:p,onClick:h,helpText:j,helpTextPosition:Z}=e;return(0,o.jsx)(i.ZP,{item:!0,xs:t,md:n,children:(0,o.jsx)(s.Z,{display:"flex",alignItems:"center",justifyContent:"start",sx:{gap:0},children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Z,{control:(0,o.jsx)(a.Z,{name:u,onClick:h,...p(u),defaultChecked:x,disabled:v}),label:d,size:"small",sx:{marginRight:"4px","&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}}),j&&(0,o.jsx)(r.Z,{text:j,position:null!=Z?Z:"top"})]})})})};t.Z=d},88475:function(e,t,n){"use strict";var o=n(85893),i=n(79072),s=n(30120),l=n(29630),a=n(72389),r=n(80562),d=n(21609);let c=e=>{let{xs:t,md:n,icon:c,color:u,title:m,removeItem:x,item:v,pending:p,index:h,textSuccess:j,textError:Z}=e;return j=j||"Remover este item",Z=Z||"Este item n\xe3o pode ser removido pois possui cadastros vinculados a ele",(0,o.jsx)(i.ZP,{item:!0,xs:t,md:n,children:(0,o.jsxs)(s.Z,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(l.Z,{variant:"caption",children:m}),(0,o.jsx)(a.Z,{title:1==p?Z:j,children:(0,o.jsx)(r.Z,{color:null!=u?u:"error",size:"small",onClick(){1!=p&&x(v,h)},sx:{opacity:1==p?.5:1,cursor:1==p?"default":"pointer"},children:(0,o.jsx)(d.Z,{icon:null!=c?c:"tabler:trash-filled"})})})]})})};t.Z=c},84220:function(e,t,n){"use strict";var o=n(85893),i=n(79072),s=n(55343),l=n(35966),a=n(67836),r=n(87536),d=n(53934);let c=e=>{var t;let{xs:n,md:c,title:u,options:m,name:x,type:v,limitTags:p,value:h,required:j,control:Z,disabled:b,multiple:g,setValue:f,errors:k,onChange:C,className:y,createNew:I,handleRegistroEstabelecimento:w,helpText:S,helpTextPosition:N}=e,P=m?[...m]:[];return I&&(P=[{nome:"-- Novo --"},...m]),(0,o.jsx)(i.ZP,{item:!0,xs:n,md:c,sx:{my:1},className:y,children:(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(s.Z,{fullWidth:!0,children:(0,o.jsx)(r.Qr,{name:x,control:Z,defaultValue:h,rules:{required:j},render(e){let{field:n}=e;return(0,o.jsx)(l.Z,{...n,multiple:g,limitTags:p,size:"small",options:P,getOptionLabel:e=>(null==e?void 0:e.cnpj)?"".concat(e.cnpj," - ").concat(e.nome):null==e?void 0:e.nome,value:g&&n.value&&n.value.length>0?n.value.map(e=>m.find(t=>t.id===e.id)):null!==(t=n.value)&&void 0!==t?t:{nome:""},disabled:b,onChange(e,t){t&&"-- Novo --"==e.target.innerText?I():(C&&C(t),f(x,t),"registroestabelecimento"===v&&w(t?t.id:null))},renderInput:e=>(0,o.jsx)(a.Z,{...e,label:u,placeholder:u,error:!!k}),noOptionsText:"Sem op\xe7\xf5es"})}})}),S&&(0,o.jsx)("div",{className:"absolute right-[60px] top-[12px] ",children:(0,o.jsx)(d.Z,{text:S,position:null!=N?N:"top"})})]})})};t.Z=c},47842:function(e,t,n){"use strict";var o=n(85893),i=n(70754);let s=e=>{let{show:t,title:n}=e;return t&&(0,o.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg z-50",children:(0,o.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2 ",children:[(0,o.jsx)(i.Z,{color:"primary"}),(0,o.jsx)("p",{className:"text-sm opacity-80",children:null!=n?n:"Carregando..."})]})})};t.Z=s},49186:function(e,t,n){"use strict";n.r(t);var o=n(85893),i=n(79072);n(86501),n(47842),n(84220);var s=n(83830),l=n(40039);n(86887);var a=n(66136);n(21609);var r=n(67294);n(60664);var d=n(11163),c=n.n(d),u=n(24527),m=n(43816);let x=e=>{let{values:t}=e,{user:n,loggedUnity:d}=(0,r.useContext)(l.V),{setId:x}=(0,r.useContext)(s.X),[v,p]=(0,r.useState)([]),[h,j]=(0,r.useState)(null),[Z,b]=(0,r.useState)(!1);c();let{settings:g}=(0,r.useContext)(a.J6);g.mode;let f=e=>{x(e)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{btnBack:!0,btnNew:!0,type:"new",partialRoute:!1}),(0,o.jsx)(i.ZP,{container:!0,spacing:4,children:t&&t.map((e,t)=>(0,o.jsx)(u.Z,{xs:12,md:3,icon:"fluent:form-multiple-48-regular",title:e.nome,subtitle:"Ciclo de ".concat(e.ciclo," dias"),action:"edit",handleClick:()=>f(e.id)},t))})]})};t.default=x},67013:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var o=n(85893),i=n(67294),s=n(60664);n(93250);var l=n(60565),a=n(83830),r=n(87536),d=n(49837),c=n(91359),u=n(79072),m=n(85214),x=n(29630),v=n(54225),p=n(11163),h=n.n(p),j=n(46749),Z=n(86887),b=n(40039),g=n(86501),f=n(47842),k=n(21609);n(1948);var C=n(84220),y=n(29308),I=n(67569),w=n(3893),S=n(88475);n(53934);let N=e=>{var t;let{blocks:n,errors:i,control:s,register:l,getValues:a,removeItem:r,addItem:m,removeBlock:p,setValue:h,allOptions:j,openModalConfirmScore:Z,setOpenModalConfirmScore:b,itemScore:g,setItemScore:f}=e;return a("blocks")&&n&&a("blocks").map((e,j)=>{var w,N,P,D,z,B,_,E;return(0,o.jsx)(d.Z,{md:12,sx:{mt:4},children:(0,o.jsxs)(c.Z,{children:[(0,o.jsxs)(u.ZP,{container:!0,spacing:4,children:[(0,o.jsx)(y.Z,{className:"order-1",xs:10,md:1,title:"Sequ\xeancia",name:"blocks.[".concat(j,"].dados.ordem"),value:e.dados.ordem,required:!0,control:s,errors:null==i?void 0:null===(w=i.blocks)||void 0===w?void 0:null===(N=w[j])||void 0===N?void 0:null===(P=N.dados)||void 0===P?void 0:P.ordem}),(0,o.jsx)(y.Z,{className:"order-3 md:order-2",xs:10,md:9,title:"Nome do Bloco",name:"blocks.[".concat(j,"].dados.nome"),value:e.dados.nome,required:!0,control:s,errors:null==i?void 0:null===(D=i.blocks)||void 0===D?void 0:null===(z=D[j])||void 0===z?void 0:null===(B=z.dados)||void 0===B?void 0:B.nome}),(0,o.jsx)(I.Z,{className:"order-2 md:order-3",xs:2,md:1,title:"Ativo",name:"blocks.[".concat(j,"].dados.status"),value:null===(_=n[j])||void 0===_?void 0:_.dados.status,register:l}),(0,o.jsx)(I.Z,{className:"order-4 ",xs:2,md:1,title:"Observa\xe7\xe3o",name:"blocks.[".concat(j,"].dados.obs"),value:null===(E=n[j])||void 0===E?void 0:E.dados.obs,register:l})]}),(0,o.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:600,mt:4},children:"Itens"}),a("blocks")&&e.itens&&e.itens.map((e,a)=>{var d,c,m,x,v,p,Z,b,g,f,k,w,N,P,D,z,B,_,E,F,M,O;return(0,o.jsxs)(u.ZP,{id:"item-".concat(j,"-").concat(a),container:!0,spacing:2,sx:{my:1},children:[(0,o.jsx)(y.Z,{xs:12,md:1,title:"Sequ\xeancia",name:"blocks.[".concat(j,"].itens.[").concat(a,"].ordem"),value:e.ordem,required:!0,control:s,errors:null==i?void 0:null===(d=i.blocks)||void 0===d?void 0:null===(c=d[j])||void 0===c?void 0:null===(m=c.itens)||void 0===m?void 0:null===(x=m[a])||void 0===x?void 0:x.ordem}),(0,o.jsx)(C.Z,{xs:12,md:7,title:(null===(p=null===(v=n[j])||void 0===v?void 0:v.itens[a])||void 0===p?void 0:p.itemID)?"Item [".concat(null===(b=null===(Z=n[j])||void 0===Z?void 0:Z.itens[a])||void 0===b?void 0:b.itemID,"]"):"Item",name:"blocks.[".concat(j,"].itens.[").concat(a,"].item"),value:null!==(t=null===(f=null===(g=n[j])||void 0===g?void 0:g.itens[a])||void 0===f?void 0:f.item)&&void 0!==t?t:null,required:!0,disabled:1==e.hasPending,options:null===(k=n[j])||void 0===k?void 0:null===(w=k.optionsBlock)||void 0===w?void 0:w.itens,register:l,setValue:h,control:s,errors:null==i?void 0:null===(N=i.blocks)||void 0===N?void 0:null===(P=N[j])||void 0===P?void 0:null===(D=P.itens)||void 0===D?void 0:null===(z=D[a])||void 0===z?void 0:z.item}),(0,o.jsx)(I.Z,{xs:2,md:1,title:"Ativo",index:a,name:"blocks.[".concat(j,"].itens.[").concat(a,"].status"),value:null===(_=null===(B=n[j])||void 0===B?void 0:B.itens[a])||void 0===_?void 0:_.status,register:l}),(0,o.jsx)(I.Z,{xs:2,md:1,title:"Obs",index:a,name:"blocks.[".concat(j,"].itens.[").concat(a,"].obs"),value:null===(F=null===(E=n[j])||void 0===E?void 0:E.itens[a])||void 0===F?void 0:F.obs,register:l}),(0,o.jsx)(I.Z,{xs:2,md:1,title:"Obrigat\xf3rio",index:a,name:"blocks.[".concat(j,"].itens.[").concat(a,"].obrigatorio"),value:null===(O=null===(M=n[j])||void 0===M?void 0:M.itens[a])||void 0===O?void 0:O.obrigatorio,register:l}),(0,o.jsx)(S.Z,{xs:2,md:1,title:0==a?"Remover":"",index:j,removeItem:()=>r(e,j,a),item:e,pending:e.hasPending,textSuccess:"Remover este item",textError:"Este item n\xe3o pode mais ser removido pois j\xe1 foi respondido em um formul\xe1rio"})]},a)}),Z&&g&&(0,o.jsx)(DialogConfirmScore,{openModal:Z,setOpenModalConfirmScore:b,itemScore:g,setItemScore:f}),(0,o.jsx)(u.ZP,{container:!0,spacing:4,sx:{mt:4},children:(0,o.jsxs)(u.ZP,{item:!0,xs:12,md:12,children:[(0,o.jsx)(v.Z,{variant:"outlined",color:"primary",startIcon:(0,o.jsx)(k.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){m(j)},children:"Inserir Item"}),(0,o.jsx)(v.Z,{variant:"outlined",color:"error",startIcon:(0,o.jsx)(k.Z,{icon:"tabler:trash-filled"}),onClick(){p(e,j)},sx:{ml:2},children:"Remover Bloco"})]})})]})},j)})},P=e=>{var t,n;let{id:l}=e,{user:a,loggedUnity:p}=(0,i.useContext)(b.V),[C,S]=(0,i.useState)(),[P,D]=(0,i.useState)(),[z,B]=(0,i.useState)(null),[_,E]=(0,i.useState)(),[F,M]=(0,i.useState)(),[O,H]=(0,i.useState)(!1),[R,V]=(0,i.useState)(),[q,T]=(0,i.useState)(!1),[A,L]=(0,i.useState)([]),[X,W]=(0,i.useState)([]),[G,J]=(0,i.useState)(!1),Q=h(),U=Q.pathname,{setValue:K,register:Y,handleSubmit:$,reset:ee,getValues:et,control:en,formState:{errors:eo}}=(0,r.cI)(),ei=async e=>{let t={id:l,unidadeID:p.unidadeID,model:e.model,header:e.header,blocks:e.blocks,arrRemovedBlocks:X,arrRemovedItems:A,orientacoes:e.orientations};D(null);try{await s.h.put("".concat(U,"/updateData"),t).then(e=>{g.ZP.success(j.OD.successUpdate),T(!q)})}catch(n){console.log(n)}},es=(e,t,n,o)=>{let i=o.itens;i=i.filter(t=>{let n=e.itens.some(e=>e.item&&t.id===e.item.id);return!n});let s=[...n];s[t].optionsBlock.itens=i,E(s)},el=e=>{var t;let n=[..._];n[e].itens.push({ordem:(null===(t=n[e].itens)||void 0===t?void 0:t.length)+1,obs:1,status:1,obrigatorio:1}),E(n),K("blocks.[".concat(e,"].itens.[").concat(n[e].itens.length-1,"].new"),!0),es(n[e],e,_,z)},ea=(e,t,n)=>{if(1===_[t].itens.length){g.ZP.error("Voc\xea deve ter ao menos um item!");return}let o=[...A];o.push(e),L(o);let i=[...et("blocks")];i[t].itens.splice(n,1),K("blocks",i),E(i),es(_[t],t,_,z),J(!G)},er=(e,t)=>{let n=!0;if(e&&e.itens.map(e=>{1==e.hasPending&&(n=!1)}),!n){g.ZP.error("Este bloco n\xe3o pode ser removido pois possui itens respondidos em um formul\xe1rio");return}let o=[...X];o.push(e.dados.parLimpezaModeloBlocoID),W(o);let i=[..._];i.splice(t,1),E(i),K("blocks",i),g.ZP.success("Bloco pr\xe9-removido. Salve para concluir!")},ed=()=>{let e=[...et("blocks")];e.push({dados:{ordem:e.length+1,nome:"",status:1},categorias:[],atividades:[],optionsBlock:{itens:[...z.itens]},itens:[{parFormularioID:1,new:!0,ordem:"1",nome:"",status:1,item:null}]}),K("blocks",e),E(e)},ec=()=>{try{s.h.post("".concat(U,"/getData"),{id:l,unidadeID:p.unidadeID}).then(e=>{var t;console.log("\uD83D\uDE80 ~ response:",e.data),S(e.data.model),D(e.data.header),E(e.data.blocks),B({itens:null===(t=e.data.options)||void 0===t?void 0:t.itens}),M(e.data.orientations),ee(e.data),setTimeout(()=>{var t,n;null===(t=e.data)||void 0===t||null===(n=t.blocks)||void 0===n||n.map((t,n)=>{es(t,n,e.data.blocks,e.data.options)})},3e3)})}catch(e){console.log(e)}};return(0,i.useEffect)(()=>{ec()},[l,q]),(0,o.jsx)(o.Fragment,{children:P?(0,o.jsxs)("form",{onSubmit:$(ei),children:[C&&(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(Z.Z,{partialRoute:!0,btnCancel:!0,btnSave:!0,handleSubmit:()=>$(ei),type:"edit"}),(0,o.jsx)(c.Z,{children:(0,o.jsxs)(u.ZP,{container:!0,spacing:4,children:[(0,o.jsx)(y.Z,{className:"order-1",xs:12,md:8,title:"Modelo",name:"model.nome",value:C.nome,required:!0,control:en,errors:null==eo?void 0:null===(t=eo.model)||void 0===t?void 0:t.nome}),(0,o.jsx)(y.Z,{className:"order-1",xs:12,md:3,type:"number",title:"Ciclo (dias)",name:"model.ciclo",value:C.ciclo,required:!0,control:en,errors:null==eo?void 0:null===(n=eo.model)||void 0===n?void 0:n.ciclo,help:{text:"...",position:"top",gapLeft:"10px"}}),(0,o.jsx)(I.Z,{className:"order-2 md:order-3",xs:2,md:1,title:"Ativo",name:"model.status",value:C.status,register:Y})]})})]}),P&&(0,o.jsx)(d.Z,{sx:{mt:4},children:(0,o.jsx)(c.Z,{children:(0,o.jsx)(m.Z,{component:"nav","aria-label":"main mailbox",children:(0,o.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,o.jsx)(u.ZP,{item:!0,md:4,xs:4,children:(0,o.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Nome do Campo"})}),(0,o.jsx)(u.ZP,{item:!0,md:3,xs:4,children:(0,o.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Mostra no Formul\xe1rio"})}),(0,o.jsx)(u.ZP,{item:!0,md:3,xs:4,children:(0,o.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:600},children:"Obrigat\xf3rio"})}),P.map((e,t)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.ZP,{item:!0,md:4,xs:6,children:e.nomeCampo}),(0,o.jsx)(u.ZP,{item:!0,md:3,xs:3,children:(0,o.jsx)(w.Z,{title:"",name:"header.[".concat(t,"].mostra"),value:e.mostra,register:Y,disabled:"cnpj"==e.nomeColuna})}),(0,o.jsx)(u.ZP,{item:!0,md:3,xs:3,children:(0,o.jsx)(w.Z,{title:"",name:"header.[".concat(t,"].obrigatorio"),value:e.obrigatorio,register:Y,disabled:"cnpj"==e.nomeColuna})})]}))]})})})}),_?(0,o.jsx)(N,{blocks:_,errors:eo,control:en,register:Y,removeItem:ea,addItem:el,getValues:et,removeBlock:er,setValue:K,openModalConfirmScore:O,setOpenModalConfirmScore:H,itemScore:R,allOptions:z},G):(0,o.jsx)(f.Z,{}),(0,o.jsx)(u.ZP,{item:!0,xs:12,md:12,sx:{mt:4},children:(0,o.jsx)(v.Z,{variant:"outlined",color:"primary",startIcon:(0,o.jsx)(k.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){ed()},children:"Inserir Bloco"})}),F&&(0,o.jsx)(d.Z,{md:12,sx:{mt:4},children:(0,o.jsx)(c.Z,{children:(0,o.jsx)(u.ZP,{container:!0,spacing:4,children:(0,o.jsx)(y.Z,{xs:12,md:12,title:"Orienta\xe7\xf5es",name:"orientations.obs",required:!1,value:null==F?void 0:F.obs,multiline:!0,rows:4,control:en})})})})]}):(0,o.jsx)(f.Z,{})})};var D=n(49186);let z=()=>{let[e,t]=(0,i.useState)(null),n=(0,p.useRouter)(),r=n.pathname,{setTitle:d}=(0,i.useContext)(l.f),{id:c,setId:u}=(0,i.useContext)(a.X),{loggedUnity:m}=(0,i.useContext)(b.V);return(0,i.useEffect)(()=>{let e=async()=>{await s.h.get("".concat(r,"/getList/").concat(m.unidadeID)).then(e=>{t(e.data),d({title:"Formul\xe1rios modelo de limpeza",subtitle:{id:c,count:e.data.length,new:!1}})})};e()},[c]),(0,j.OL)(r,[{title:"ID",field:"id",size:.2},{title:"Nome",field:"nome",size:.8}]),(0,o.jsx)(o.Fragment,{children:e?c&&c>0?(0,o.jsx)(P,{id:c}):(0,o.jsx)(D.default,{values:e}):(0,o.jsx)(f.Z,{show:!0})})};var B=z},22096:function(e,t,n){"use strict";var o=n(85893),i=n(30120),s=n(67836),l=n(80562),a=n(50853),r=n(43816),d=n(61225);n(40039);var c=n(67294),u=n(83830),m=n(11163),x=n.n(m),v=n(54225),p=n(46749),h=n(21609);let j=e=>{let t=x(),{setId:n}=(0,c.useContext)(u.X);return(0,d.Z)("(min-width:640px)"),(0,o.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"row",gap:2,alignItems:"center",mb:2,justifyContent:"space-between",p:e=>e.spacing(8,0,0,0)},children:[(0,o.jsxs)(i.Z,{sx:{display:"flex",gap:"8px",textAlig:"end"},children:[e.buttonsHeader.btnBack&&(0,o.jsx)(v.Z,{onClick(){t.push((0,p.g_)(t.pathname)),n(null)},type:"button",variant:"outlined",color:"primary",size:"small",children:(0,o.jsx)(h.Z,{icon:"material-symbols:arrow-back-rounded"})}),(0,o.jsx)(s.Z,{size:"medium",value:e.value,onChange:e.onChange,placeholder:"Buscarâ€¦",variant:"standard",InputProps:{startAdornment:(0,o.jsx)(i.Z,{sx:{mr:2,display:"flex"},children:(0,o.jsx)(h.Z,{icon:"mdi:magnify",fontSize:20})}),endAdornment:(0,o.jsx)(l.Z,{size:"medium",title:"Clear","aria-label":"Clear",onClick:e.clearSearch,children:(0,o.jsx)(h.Z,{icon:"mdi:close",fontSize:20})})},sx:{width:{xs:1,sm:"auto"},"& .MuiInputBase-root > svg":{mr:2}}}),(0,o.jsx)("div",{className:"hidden sm:block ",children:(0,o.jsx)(a.M,{className:"!h-full"})})]}),(0,o.jsx)(r.Z,{btnNew:e.buttonsHeader.btnNew,btnPrint:e.buttonsHeader.btnPrint,btnBack:e.buttonsHeader.btnBack,btnSave:e.buttonsHeader.btnSave,handleSave:e.buttonsHeader.handleSave,hasListChange:e.hasChange,openModal:e.buttonsHeader.openModal})]})};t.Z=j},95722:function(e,t,n){"use strict";var o=n(85893),i=n(67294),s=n(87630),l=n(75680),a=n(22096),r=n(60565),d=n(83830);let c=e=>{let{rows:t,columns:n,buttonsHeader:c}=e,{handleSearch:u,pageSize:m,setPageSize:x,searchText:v,filteredData:p,setData:h,data:j}=(0,i.useContext)(r.f),{setId:Z}=(0,i.useContext)(d.X);function b(e){let t=e.split("/");return"".concat(t[2],"-").concat(t[1],"-").concat(t[0])}h(t);let g=j.slice().sort((e,t)=>"Inativo"===e.status&&"Inativo"!==t.status?1:"Inativo"!==e.status&&"Inativo"===t.status?-1:0),f=e=>{let t=e.row.status;return"Inativo"===t?"inativo-row":""};return n.map(e=>{"date"===e.type&&(e.sortComparator=(e,t)=>{let n=b(e),o=b(t);return n.localeCompare(o)})}),(0,o.jsx)(s._,{localeText:l.F.components.MuiDataGrid.defaultProps.localeText,autoHeight:!0,columns:n,pageSize:m,rowsPerPageOptions:[10,20,30,40,50,100],components:{Toolbar:a.Z},rows:v?p:g,onCellClick(e,t){Z(e.row.id)},onPageSizeChange:e=>x(e),getRowClassName:f,sx:{"& .MuiDataGrid-cell":{cursor:"pointer",overflow:"scroll"}},componentsProps:{toolbar:{value:v,clearSearch:()=>u(""),onChange:e=>u(e.target.value),buttonsHeader:c}}})};t.Z=c}},function(e){e.O(0,[9241,9774,2888,179],function(){return e(e.s=29295)}),_N_E=e.O()}]);