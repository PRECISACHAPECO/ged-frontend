(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9845],{83102:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/relatorio",function(){return o(74271)}])},74271:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return w}});var i=o(85893),l=o(67294),n=o(88942),d=o(97108),r=o(10160),s=o(21609),a=o(64004),c=o(15758),x=o(30140);let p=a.mM.create({page:{flexDirection:"column",backgroundColor:"#FFF",justifyContent:"start",paddingTop:15,paddingBottom:30},title:{},header:{position:"fixed",top:-10,left:0,right:0,margin:"0 auto",fontSize:12,height:50,width:"92%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},content:{marginHorizontal:10,fontSize:11,padding:15,flex:1},footer:{position:"absolute",bottom:20,color:"grey",width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:25,fontSize:10},blockTitle:{paddingVertical:5},containerFields:{display:"flex",flexDirection:"row",flexWrap:"wrap",width:"100%",paddingTop:2},fields:{display:"flex",flexDirection:"column",gap:"2px",paddingBottom:5,paddingTop:5},fieldTitle:{fontSize:8,opacity:"0.8"},fieldValue:{fontSize:10},separator:{height:"1px",width:"100%",borderBottom:"1px solid #ddd"},table:{width:"100%",display:"flex",flexDirection:"column",borderRight:"1px solid #ddd",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomLeftRadius:3,borderBottomRightRadius:3},tableTitle:{display:"flex",flexDirection:"row",width:"100%",fontSize:8,backgroundColor:"#EEE",borderTopLeftRadius:2,borderTopRightRadius:2,borderLeft:"1px solid #ddd"},tableTitlecolumn:{padding:8},tableContainer:{display:"flex",flexDirection:"row",width:"100%"},tableContent:{padding:8,borderLeft:"1px solid #ddd",borderTop:"1px solid #ddd"},tableContentcolumn:{fontSize:9}});var u=o(60664);let h=()=>{let[e,t]=(0,l.useState)([]),o=localStorage.getItem("report"),i=JSON.parse(o),n=async()=>{let e={...i.params.data};try{let o=await u.h.post("relatorio/".concat(i.params.route),e);t(o.data)}catch(l){console.log(l)}};return(0,l.useEffect)(()=>{n()},[]),e},f=()=>{var e,t,o,l,n,d,r,s,c;let x=h(),u=null==x?void 0:null===(e=x.header)||void 0===e?void 0:e.filter(e=>"Nome Fantasia"===e.name)[0].value;return x&&(0,i.jsxs)(a.G7,{style:{width:"100%"},children:[(0,i.jsx)(a.G7,{style:{padding:3,backgroundColor:"#eee",marginTop:20,border:"1px solid #ddd"},children:(0,i.jsx)(a.xv,{style:{width:"100%",textAlign:"center",fontSize:12},children:"QUALIFICA\xc7\xc3O DE FORNECEDORES"})}),(0,i.jsx)(a.G7,{style:{marginTop:20},children:(0,i.jsxs)(a.xv,{style:{fontSize:10},children:["A empresa ",(0,i.jsx)(a.xv,{children:null==x?void 0:x.unidade})," possui como norma de BPF a avalia\xe7\xe3o de seus fornecedores quanto as mat\xe9rias primas e ingredientes por estes fornecidos."]})}),"Fornecedor",(0,i.jsx)(a.G7,{style:{marginTop:20},children:(0,i.jsxs)(a.xv,{style:{fontSize:10},children:["Fornecedor: ",(0,i.jsx)(a.xv,{style:{fontWeight:"bold",fontSize:10},children:u})]})}),(0,i.jsx)(a.G7,{style:{marginTop:20},children:(0,i.jsxs)(a.xv,{style:{fontSize:10},children:[(null==x?void 0:null===(t=x.produtos)||void 0===t?void 0:t.length)>1?"Produtos fornecidos: ":"Produto fornecido: ",null==x?void 0:null===(o=x.produtos)||void 0===o?void 0:o.map((e,t)=>(0,i.jsxs)(a.xv,{children:[(0,i.jsx)(a.xv,{style:{fontWeight:"bold",fontSize:10},children:e.produtos}),t!==x.produtos.length-1&&", "]},t))]})}),(0,i.jsx)(a.G7,{style:{marginTop:20},children:(0,i.jsx)(a.G7,{style:p.containerFields,children:null===(l=x.header)||void 0===l?void 0:l.map((e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.G7,{style:[p.fields,{width:"33%"}],children:[(0,i.jsx)(a.xv,{style:p.fieldTitle,children:null!==(d=e.name)&&void 0!==d?d:"NI"}),(0,i.jsx)(a.xv,{style:p.fieldValue,children:null!==(r=e.value)&&void 0!==r?r:"NI"})]}),(t+1)%3==0&&(0,i.jsx)(a.G7,{style:p.separator})]}))})}),null===(n=x.blocks)||void 0===n?void 0:n.map((e,t)=>(0,i.jsx)(a.G7,{style:[e,{marginTop:30}],children:(0,i.jsxs)(a.G7,{style:p.table,children:[(0,i.jsxs)(a.G7,{style:p.tableTitle,children:[(0,i.jsx)(a.xv,{style:[p.tableTitlecolumn,{width:"60%"}],children:e.nome}),(0,i.jsx)(a.xv,{style:[p.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Resposta"}),(0,i.jsx)(a.xv,{style:[p.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Observa\xe7\xe3o"})]}),e.itens.map((e,t)=>(0,i.jsxs)(a.G7,{style:p.tableContainer,children:[(0,i.jsx)(a.G7,{style:[p.tableContent,{width:"60%"}],children:(0,i.jsx)(a.xv,{style:p.tableContentcolumn,children:e.nome})}),(0,i.jsx)(a.G7,{style:[p.tableContent,{width:"20%"}],children:(0,i.jsx)(a.xv,{style:p.tableContentcolumn,children:null!==(s=e.resposta)&&void 0!==s?s:""})}),(0,i.jsx)(a.G7,{style:[p.tableContent,{width:"20%"}],children:(0,i.jsx)(a.xv,{style:p.tableContentcolumn,children:null!==(c=e.obsResposta)&&void 0!==c?c:""})})]}))]})},t))]})},m=()=>{var e;let t=h();return null==t||null===(e=t.header)||void 0===e||e.filter(e=>"Nome Fantasia"===e.name)[0].value,t&&(0,i.jsx)(a.xv,{children:"Recebimento"})},g=()=>({DadosFornecedor:f,DadosRecebimentoMp:m}),j=e=>{let{nameComponent:t}=e,o=g(),l=o[t];return(0,i.jsx)(a.BB,{children:(0,i.jsxs)(a.T3,{size:"A4",style:{paddingHorizontal:25},children:[(0,i.jsx)(x.Z,{}),l&&(0,i.jsx)(l,{}),(0,i.jsx)(c.Z,{})]})})},v=e=>{let{nameComponent:t}=e,o=()=>{console.log("Assinatura eletronica")},l=()=>{window.close()},n=[{id:1,title:"Fechar",color:"primary",size:"large",variant:"outlined",icon:"ooui:close",function:l},{id:2,title:"Assinar digitalmente",color:"primary",size:"large",variant:"outlined",icon:"fluent:signature-24-filled",function:o}];return(0,i.jsxs)("div",{className:"fixed bottom-10 right-8 flex flex-col gap-2",children:[n&&n.map(e=>(0,i.jsx)("div",{style:{textAlign:"center"},onClick:e.function,children:(0,i.jsx)(r.Z,{color:e.color,size:e.size,variant:e.variant,children:(0,i.jsx)(s.Z,{icon:e.icon})})},e.id)),(0,i.jsx)("div",{children:(0,i.jsx)(a.WD,{document:(0,i.jsx)(j,{nameComponent:t}),fileName:t,children(e){let{blob:t,url:o,loading:l,error:n}=e;return(0,i.jsx)("div",{style:{textAlign:"center"},children:(0,i.jsx)(r.Z,{color:"primary",size:"large",variant:"outlined",children:(0,i.jsx)(s.Z,{icon:"basil:download-solid"})})})}})})]})},b=()=>(0,i.jsx)(a.T3,{size:"A4",children:(0,i.jsx)(a.G7,{children:(0,i.jsx)(a.xv,{style:{color:"red",fontSize:20,padding:10},children:"Erro ao carregar o relat\xf3rio. Entre em contato com o suporte."})})}),y=()=>{let e=localStorage.getItem("report"),t=JSON.parse(e),o=null==t?void 0:t.nameComponent,l=g(),r=l[o];return(0,i.jsx)(n.Z,{children:r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{nameComponent:o}),(0,i.jsx)(d.Z,{children:(0,i.jsx)(r,{})})]}):(0,i.jsx)(b,{})})};y.getLayout=e=>(0,i.jsx)(n.Z,{children:e}),y.setConfig=()=>({mode:"light"});var w=y}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=83102)}),_N_E=e.O()}]);