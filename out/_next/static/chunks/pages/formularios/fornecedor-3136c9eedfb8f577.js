(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7463],{85390:function(e,t,a){"use strict";a.d(t,{Z:function(){return Z}});var r=a(63366),o=a(87462),n=a(67294);a(59864);var i=a(86010),l=a(94780),s=a(67074),d=a(78884),c=a(36622),u=a(1588),p=a(34867);function m(e){return(0,p.Z)("MuiToggleButtonGroup",e)}let h=(0,u.Z)("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]);var f=a(85893);let x=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],v=e=>{let{classes:t,orientation:a,fullWidth:r,disabled:o}=e,n={root:["root","vertical"===a&&"vertical",r&&"fullWidth"],grouped:["grouped",`grouped${(0,c.Z)(a)}`,o&&"disabled"]};return(0,l.Z)(n,m,t)},g=(0,s.ZP)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver(e,t){let{ownerState:a}=e;return[{[`& .${h.grouped}`]:t.grouped},{[`& .${h.grouped}`]:t[`grouped${(0,c.Z)(a.orientation)}`]},t.root,"vertical"===a.orientation&&t.vertical,a.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>(0,o.Z)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${h.grouped}`]:(0,o.Z)({},"horizontal"===e.orientation?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${h.selected} + .${h.grouped}.${h.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${h.selected} + .${h.grouped}.${h.selected}`]:{borderTop:0,marginTop:0}})})),b=n.forwardRef(function(e,t){let a=(0,d.Z)({props:e,name:"MuiToggleButtonGroup"}),{children:l,className:s,color:c="standard",disabled:u=!1,exclusive:p=!1,fullWidth:m=!1,onChange:h,orientation:b="horizontal",size:Z="medium",value:y}=a,j=(0,r.Z)(a,x),C=(0,o.Z)({},a,{disabled:u,fullWidth:m,orientation:b,size:Z}),z=v(C),N=(e,t)=>{let a;if(!h)return;let r=y&&y.indexOf(t);y&&r>=0?(a=y.slice()).splice(r,1):a=y?y.concat(t):[t],h(e,a)},k=(e,t)=>{h&&h(e,y===t?null:t)};return(0,f.jsx)(g,(0,o.Z)({role:"group",className:(0,i.Z)(z.root,s),ref:t,ownerState:C},j,{children:n.Children.map(l,e=>{var t;return n.isValidElement(e)?n.cloneElement(e,{className:(0,i.Z)(z.grouped,e.props.className),onChange:p?k:N,selected:void 0===e.props.selected?(t=e.props.value,void 0!==y&&void 0!==t&&(Array.isArray(y)?y.indexOf(t)>=0:t===y)):e.props.selected,size:e.props.size||Z,fullWidth:m,color:e.props.color||c,disabled:e.props.disabled||u}):null})}))});var Z=b},87054:function(e,t,a){"use strict";a.d(t,{Z:function(){return j}});var r=a(63366),o=a(87462),n=a(67294),i=a(86010),l=a(94780),s=a(41796),d=a(50522),c=a(36622),u=a(78884),p=a(67074),m=a(1588),h=a(34867);function f(e){return(0,h.Z)("MuiToggleButton",e)}let x=(0,m.Z)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]);var v=a(85893);let g=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],b=e=>{let{classes:t,fullWidth:a,selected:r,disabled:o,size:n,color:i}=e,s={root:["root",r&&"selected",o&&"disabled",a&&"fullWidth",`size${(0,c.Z)(n)}`,i]};return(0,l.Z)(s,f,t)},Z=(0,p.ZP)(d.Z,{name:"MuiToggleButton",slot:"Root",overridesResolver(e,t){let{ownerState:a}=e;return[t.root,t[`size${(0,c.Z)(a.size)}`]]}})(({theme:e,ownerState:t})=>{let a,r="standard"===t.color?e.palette.text.primary:e.palette[t.color].main;return e.vars&&(r="standard"===t.color?e.vars.palette.text.primary:e.vars.palette[t.color].main,a="standard"===t.color?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),(0,o.Z)({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${x.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,s.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${x.selected}`]:{color:r,backgroundColor:e.vars?`rgba(${a} / ${e.vars.palette.action.selectedOpacity})`:(0,s.Fq)(r,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${a} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,s.Fq)(r,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${a} / ${e.vars.palette.action.selectedOpacity})`:(0,s.Fq)(r,e.palette.action.selectedOpacity)}}}},"small"===t.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===t.size&&{padding:15,fontSize:e.typography.pxToRem(15)})}),y=n.forwardRef(function(e,t){let a=(0,u.Z)({props:e,name:"MuiToggleButton"}),{children:n,className:l,color:s="standard",disabled:d=!1,disableFocusRipple:c=!1,fullWidth:p=!1,onChange:m,onClick:h,selected:f,size:x="medium",value:y}=a,j=(0,r.Z)(a,g),C=(0,o.Z)({},a,{color:s,disabled:d,disableFocusRipple:c,fullWidth:p,size:x}),z=b(C),N=e=>{h&&(h(e,y),e.defaultPrevented)||!m||m(e,y)};return(0,v.jsx)(Z,(0,o.Z)({className:(0,i.Z)(z.root,l),disabled:d,focusRipple:!c,ref:t,onClick:N,onChange:m,value:y,ownerState:C,"aria-pressed":f},j,{children:n}))});var j=y},59424:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/fornecedor",function(){return a(11645)}])},93250:function(e,t,a){"use strict";var r=a(85893),o=a(49837),n=a(91359),i=a(95722);let l=e=>{let{result:t,columns:a,btnNew:l=!0,btnPrint:s=!0,btnBack:d,openModal:c}=e;return(0,r.jsx)(o.Z,{children:(0,r.jsx)(n.Z,{sx:{pt:"0"},children:(0,r.jsx)(i.Z,{rows:t,columns:a,buttonsHeader:{btnNew:l,btnPrint:s,btnBack:d,openModal:c}})})})};t.Z=l},11645:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var r=a(85893),o=a(67294),n=a(60664),i=a(93250),l=a(47180),s=a(60565),d=a(83830),c=a(40039),u=a(72819),p=a(86501),m=a(47842),h=a(11163),f=a(46749),x=a(69418),v=a(61953),g=a(29630);let b=e=>{let{values:t}=e;return(0,r.jsxs)(v.Z,{display:"flex",flexDirection:"column",sx:{gap:4},children:[(0,r.jsxs)(g.Z,{variant:"body2",children:[(0,r.jsx)("strong",{children:"E-mail enviado para: "})," ",null==t?void 0:t.email]}),(0,r.jsxs)(g.Z,{variant:"body2",children:[(0,r.jsx)("strong",{children:"Link do formul\xe1rio: "})," ",null==t?void 0:t.link]})]})},Z=()=>{let{user:e,loggedUnity:t}=(0,o.useContext)(c.V),[a,v]=(0,o.useState)(null),g=(0,h.useRouter)(),Z=g.pathname,{setTitle:y}=(0,o.useContext)(s.f),{id:j,setId:C}=(0,o.useContext)(d.X),[z,N]=(0,o.useState)(!1),[k,w]=(0,o.useState)(!1),[D,R]=(0,o.useState)(null),$=()=>{N(!0)},T=async()=>{console.log("\uD83D\uDE80 ~ user.cnpj:",e.cnpj),await n.h.post("".concat(Z,"/getList/"),{unidadeID:t.unidadeID,papelID:e.papelID,cnpj:e.cnpj?e.cnpj:null}).then(e=>{v(e.data),y({title:"Fornecedor",subtitle:{id:j,count:e.data.length,new:!1}})})},S=async a=>{console.log("\uD83D\uDE80 ~ makeFornecedor : ",a);try{let r=await n.h.post("/formularios/fornecedor/makeFornecedor",{usuarioID:e.usuarioID,papelID:e.papelID,unidadeID:t.unidadeID,values:a.fields});200==r.status&&(p.ZP.success("E-mail enviado com sucesso"),R(r.data),C(r.data.fornecedorID),w(!0))}catch(o){console.error(o),console.error("Erro ao enviar email",o)}},I=()=>{let e=null==D?void 0:D.link;e&&(navigator.clipboard.writeText(e),p.ZP.success("Link copiado com sucesso!"))};(0,o.useEffect)(()=>{T()},[j]),(0,o.useEffect)(()=>{g.query.f&&C(g.query.f)},[g.query]);let M=1==e.papelID?[{headerName:"ID",field:"id",size:1},{headerName:"Fornecedor",field:"fornecedor",size:1},{headerName:"CNPJ",field:"cnpj",size:1},{headerName:"Data da Avalia\xe7\xe3o",field:"data",size:1},{headerName:"Cidade",field:"cidade",size:1},{headerName:"Respons\xe1vel",field:"responsavel",size:1},{headerName:"Status",field:{name:"status",cor:"cor"},size:1}]:2==e.papelID?[{headerName:"ID",field:"id",size:1},{headerName:"F\xe1brica",field:"fabrica",size:1},{headerName:"CNPJ",field:"cnpj",size:1},{headerName:"Data da Avalia\xe7\xe3o",field:"data",size:1},{headerName:"Cidade",field:"cidade",size:1},{headerName:"Respons\xe1vel",field:"responsavel",size:1},{headerName:"Status",field:{name:"status",cor:"cor"},size:1}]:[],B=(0,f.OL)(Z,M);return(0,r.jsxs)(r.Fragment,{children:[a?j&&j>0?(0,r.jsx)(l.Z,{id:j,makeFornecedor:S}):(0,r.jsx)(i.Z,{result:a,columns:B,openModal:1==e.papelID?$:null,btnNew:1==e.papelID}):(0,r.jsx)(m.Z,{show:!0}),(0,r.jsx)(u.Z,{title:"Habilitar Fornecedor",description:"Habilitar novo preenchimento de formul\xe1rio pro fornecedor",handleConclusion:S,setOpenModal:N,openModal:z,size:"lg",children:(0,r.jsx)(x.Z,{})}),(0,r.jsx)(u.Z,{title:"Formul\xe1rio enviado ao fornecedor",description:"Um novo formul\xe1rio de qualifica\xe7\xe3o de fornecedor foi enviado",handleCopyLink:I,setOpenModal:w,openModal:k,children:(0,r.jsx)(b,{values:D})})]})};var y=Z},84242:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var r=a(85893),o=a(61953),n=a(67836),i=a(80562),l=a(50853),s=a(11163),d=a.n(s),c=a(75084),u=a(41664),p=a.n(u),m=a(40039),h=a(67294),f=a(83830),x=a(46749),v=a(21609);let g=e=>{let{btnNew:t,btnPrint:a,btnSave:o,btnBack:n,handleSave:i,hasListChange:l,openModal:s}=e,u=d(),{setId:g}=(0,h.useContext)(f.X),{routes:b}=(0,h.useContext)(m.V);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between my-2 w-full",children:[(0,r.jsx)("div",{}),(0,r.jsxs)("div",{className:"flex items-center gap-4 ",children:[(0,r.jsx)("div",{children:a&&(0,r.jsxs)(c.Z,{onClick:()=>window.print(),type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,r.jsx)(v.Z,{icon:"mdi:printer"}),(0,r.jsx)("span",{className:"hidden sm:block",children:"Imprimir"})]})}),(0,r.jsx)("div",{className:"",children:t&&b.find(e=>(e.rota===u.pathname||e.rota===(0,x.g_)(u.pathname))&&e.inserir)&&(0,r.jsx)(p(),{href:s?"":"".concat(u.pathname,"/novo"),children:(0,r.jsxs)(c.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",onClick:s||null,sx:{display:"flex",gap:2},children:[(0,r.jsx)(v.Z,{icon:"ic:outline-plus"}),(0,r.jsx)("span",{className:"hidden sm:block",children:"Novo"})]})})}),(0,r.jsx)("div",{children:o&&(0,r.jsxs)(c.Z,{onClick:i,disabled:!l,type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,r.jsx)(v.Z,{icon:"mdi:check-bold"}),(0,r.jsx)("span",{className:"hidden sm:block",children:"Salvar"})]})})]})]})})};var b=a(61225);let Z=e=>{let t=d(),{setId:a}=(0,h.useContext)(f.X);return(0,b.Z)("(min-width:640px)"),(0,r.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"row",gap:2,alignItems:"center",mb:2,justifyContent:"space-between",p:e=>e.spacing(8,0,0,0)},children:[(0,r.jsxs)(o.Z,{sx:{display:"flex",gap:"8px",textAlig:"end"},children:[e.buttonsHeader.btnBack&&(0,r.jsx)(c.Z,{onClick(){t.push((0,x.g_)(t.pathname)),a(null)},type:"button",variant:"outlined",color:"primary",size:"small",children:(0,r.jsx)(v.Z,{icon:"material-symbols:arrow-back-rounded"})}),(0,r.jsx)(n.Z,{size:"medium",value:e.value,onChange:e.onChange,placeholder:"Buscarâ€¦",variant:"standard",InputProps:{startAdornment:(0,r.jsx)(o.Z,{sx:{mr:2,display:"flex"},children:(0,r.jsx)(v.Z,{icon:"mdi:magnify",fontSize:20})}),endAdornment:(0,r.jsx)(i.Z,{size:"medium",title:"Clear","aria-label":"Clear",onClick:e.clearSearch,children:(0,r.jsx)(v.Z,{icon:"mdi:close",fontSize:20})})},sx:{width:{xs:1,sm:"auto"},"& .MuiInputBase-root > svg":{mr:2}}}),(0,r.jsx)("div",{className:"hidden sm:block ",children:(0,r.jsx)(l.M,{className:"!h-full"})})]}),(0,r.jsx)(g,{btnNew:e.buttonsHeader.btnNew,btnPrint:e.buttonsHeader.btnPrint,btnBack:e.buttonsHeader.btnBack,btnSave:e.buttonsHeader.btnSave,handleSave:e.buttonsHeader.handleSave,hasListChange:e.hasChange,openModal:e.buttonsHeader.openModal})]})};var y=Z},95722:function(e,t,a){"use strict";var r=a(85893),o=a(67294),n=a(87630),i=a(75680),l=a(84242),s=a(60565),d=a(83830);let c=e=>{let{rows:t,columns:a,buttonsHeader:c}=e,{handleSearch:u,pageSize:p,setPageSize:m,searchText:h,filteredData:f,setData:x,data:v}=(0,o.useContext)(s.f),{setId:g}=(0,o.useContext)(d.X);return x(t),(0,r.jsx)(n._,{localeText:i.F.components.MuiDataGrid.defaultProps.localeText,autoHeight:!0,columns:a,pageSize:p,rowsPerPageOptions:[10,20,30,40,50,100],components:{Toolbar:l.Z},rows:h?f:v,onCellClick(e,t){g(e.row.id)},onPageSizeChange:e=>m(e),sx:{"& .MuiDataGrid-cell":{cursor:"pointer",overflow:"scroll"}},componentsProps:{toolbar:{value:h,clearSearch:()=>u(""),onChange:e=>u(e.target.value),buttonsHeader:c}}})};t.Z=c}},function(e){e.O(0,[4186,1445,1111,5999,2389,2187,9349,1515,5876,1959,7180,9774,2888,179],function(){return e(e.s=59424)}),_N_E=e.O()}]);