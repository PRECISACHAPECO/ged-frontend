"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{69418:function(e,o,a){a.d(o,{Z:function(){return j}});var t=a(85893),l=a(44642),n=a(79072),r=a(61953),i=a(49837),s=a(91359),d=a(29630),c=a(67294),u=a(40039),p=a(82747),x=a(60664),m=a(29308),h=a(84220);let v=e=>{var o,a,l,n,i,s,p,v;let{fields:f,setFields:g,handleCnpj:j,validCnpj:D,getValues:b,control:y,errors:Z,setValue:I,register:C,reset:A}=e,{loggedUnity:S}=(0,c.useContext)(u.V),[F,w]=(0,c.useState)([]),[R,E]=(0,c.useState)([]),[N,P]=(0,c.useState)([]),z=async()=>{let e=await x.h.post("/formularios/fornecedor/getModels",{unidadeID:S.unidadeID});w(e.data)},T=async()=>{let e=await x.h.post("/formularios/fornecedor/getProducts",{unidadeID:S.unidadeID});E(e.data)},W=async()=>{let e=await x.h.post("/formularios/fornecedor/getGruposAnexo",{unidadeID:S.unidadeID});P(e.data)},G=()=>{g(null),I("fields.cnpj",""),I("fields.razaoSocial",""),I("fields.email",""),I("fields.modelo",null),I("fields.gruposAnexo",[]),I("fields.produtos",[])};return(0,c.useEffect)(()=>{A(),z(),T(),W()},[]),F&&R&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Z,{children:[(0,t.jsx)(m.Z,{xs:12,md:12,title:"CNPJ",name:"fields.cnpj",value:null==f?void 0:f.cnpj,onChange:j,clearField:b("fields.cnpj")?G:null,mask:"cnpj",required:!0,control:y,errors:null==Z?void 0:null===(o=Z.fields)||void 0===o?void 0:o.cnpj}),!1==D&&(0,t.jsx)(d.Z,{variant:"body2",color:"error",children:"CNPJ inv\xe1lido!"})]}),(0,t.jsx)(m.Z,{xs:12,md:12,title:"Raz\xe3o Social",name:"fields.razaoSocial",value:null==f?void 0:f.razaoSocial,disabled:!D,required:!0,control:y,errors:null==Z?void 0:null===(a=Z.fields)||void 0===a?void 0:a.razaoSocial}),(0,t.jsx)(m.Z,{xs:12,md:12,type:"email",title:"E-mail",name:"fields.email",value:null==f?void 0:f.email,disabled:!D,required:!0,control:y,errors:null==Z?void 0:null===(l=Z.fields)||void 0===l?void 0:l.email}),(0,t.jsx)(h.Z,{xs:12,md:12,title:"Modelo de Formul\xe1rio",name:"fields.modelo",options:F,required:!0,value:null==f?void 0:f.modelo,disabled:!D,register:C,setValue:I,control:y,errors:null==Z?void 0:null===(n=Z.fields)||void 0===n?void 0:n.modelo}),(0,t.jsx)(h.Z,{xs:12,md:12,title:"Grupos de Anexo",multiple:!0,name:"fields.gruposAnexo",value:null!==(p=null==f?void 0:f.gruposAnexo)&&void 0!==p?p:[],disabled:!D,options:null!=N?N:[],register:C,setValue:I,control:y,errors:null==Z?void 0:null===(i=Z.fields)||void 0===i?void 0:i.gruposAnexo}),(0,t.jsx)(h.Z,{xs:12,md:12,title:"Produtos",name:"fields.produtos",value:null!==(v=null==f?void 0:f.produtos)&&void 0!==v?v:[],disabled:!D,multiple:!0,required:!0,options:null!=R?R:[],register:C,setValue:I,control:y,errors:null==Z?void 0:null===(s=Z.fields)||void 0===s?void 0:s.produtos})]})};a(86501);var f=a(34175);let g=e=>{var o,a,m,h,g,j;let{cnpj:D,control:b,setValue:y,register:Z,errors:I,reset:C,getValues:A}=e,[S,F]=(0,c.useState)(!1),{loggedUnity:w}=(0,c.useContext)(u.V),[R,E]=(0,c.useState)(null),[N,P]=(0,c.useState)(null),z=e=>{console.log("\uD83D\uDE80 ~ handleCnpj:",e),18==e.length?(0,p.zk)(e)?(P(!0),T(e)):P(!1):(P(null),E(null))},T=async e=>{try{let o=await x.h.post("/formularios/fornecedor/cnpj",{unidadeID:w.unidadeID,cnpj:e}),a={new:o.data.new,fornecedorID:o.data.fornecedorID,data:o.data.dataAvaliacao,modelo:o.data.modelo.nome,produtos:o.data.produtos,gruposAnexo:o.data.gruposAnexo},t=await W(e);E({...R,cnpj:(0,f.PK)(t.data.CNPJ),status:t.data.STATUS,dataAbertura:t.data["DATA ABERTURA"],telefone:t.data.DDD+" "+t.data.TELEFONE,razaoSocial:t.data["RAZAO SOCIAL"],nomeFantasia:t.data["NOME FANTASIA"],email:t.data.EMAIL,cidade:t.data.MUNICIPIO+"/"+t.data.UF,preenchimento:a}),y("fields.cnpj",e),y("fields.razaoSocial",t.data["RAZAO SOCIAL"]),y("fields.nome",t.data["NOME FANTASIA"]),y("fields.email",t.data.EMAIL),y("fields.modelo",o.data.modelo.id>0?o.data.modelo:null),y("fields.gruposAnexo",o.data.gruposAnexo),y("fields.produtos",o.data.produtos)}catch(l){console.error(l)}},W=async e=>{let o=e.replace(/\D/g,""),a=await x.h.get("https://api-publica.speedio.com.br/buscarcnpj?cnpj=".concat(o));return a};return(0,c.useEffect)(()=>{F(!S),D&&D.length>0&&z(D)},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.Z,{children:(0,t.jsxs)(n.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,t.jsx)(r.Z,{display:"flex",flexDirection:"column",sx:{gap:4},children:(0,t.jsx)(v,{setFields:E,fields:null!=R?R:null,control:b,errors:I,reset:C,setValue:y,getValues:A,register:Z,handleCnpj:z,validCnpj:N},S)})}),(0,t.jsxs)(n.ZP,{item:!0,xs:12,md:6,children:[(0,t.jsx)(i.Z,{children:(0,t.jsx)(s.Z,{children:(0,t.jsxs)(r.Z,{display:"flex",flexDirection:"column",sx:{gap:4},children:[(0,t.jsx)(d.Z,{variant:"body2",children:(0,t.jsx)("strong",{children:"Dados consultados da Receita Federal"})}),(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Raz\xe3o Social:"})," ",null==R?void 0:R.razaoSocial]}),(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Nome Fantasia:"})," ",null==R?void 0:R.razaoSocial]}),(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"CNPJ:"})," ",null==R?void 0:R.cnpj]}),(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Status:"})," ",null==R?void 0:R.status]}),(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Data Abertura:"})," ",null==R?void 0:R.dataAbertura]}),(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Telefone:"})," ",null==R?void 0:R.telefone]}),(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"E-mail:"})," ",null==R?void 0:R.email]}),(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Cidade:"})," ",null==R?void 0:R.cidade]})]})})}),(0,t.jsx)(i.Z,{sx:{mt:4},children:(0,t.jsx)(s.Z,{children:(0,t.jsxs)(r.Z,{display:"flex",flexDirection:"column",sx:{gap:4},children:[(0,t.jsx)(d.Z,{variant:"body2",children:(0,t.jsx)("strong",{children:"Dados do \xfaltimo formul\xe1rio deste fornecedor"})}),(null==R?void 0:null===(o=R.preenchimento)||void 0===o?void 0:o.new)?(0,t.jsx)(d.Z,{variant:"body2",color:"primary",children:(0,t.jsx)("strong",{children:"Novo fornecedor"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"ID: "})," ",null==R?void 0:null===(a=R.preenchimento)||void 0===a?void 0:a.fornecedorID]}),(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Data de preenchimento:"})," ",null==R?void 0:null===(m=R.preenchimento)||void 0===m?void 0:m.data]}),(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Modelo:"})," ",null==R?void 0:null===(h=R.preenchimento)||void 0===h?void 0:h.modelo]}),(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Grupos de anexo: "}),null==R?void 0:null===(g=R.preenchimento)||void 0===g?void 0:g.gruposAnexo.map((e,o)=>{var a;return"".concat(e.nome).concat(o<(null==R?void 0:null===(a=R.preenchimento)||void 0===a?void 0:a.gruposAnexo.length)-1?", ":"")})]}),(0,t.jsxs)(d.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Produtos: "}),null==R?void 0:null===(j=R.preenchimento)||void 0===j?void 0:j.produtos.map((e,o)=>{var a;return"".concat(e.nome).concat(o<(null==R?void 0:null===(a=R.preenchimento)||void 0===a?void 0:a.produtos.length)-1?", ":"")})]})]})]})})})]})]})})})};var j=g},40106:function(e,o,a){a.d(o,{Z:function(){return eZ}});var t=a(85893),l=a(67294),n=a(87536),r=a(56531),i=a(79139),s=a(34282);a(96351);var d=a(29308),c=a(66136),u=a(79072),p=a(72389),x=a(80562),m=a(21609),h=a(10179),v=a(42107),f=a(73731),g=a(53934);let j=e=>{var o;let{key:a,item:l,handleFileClick:n,indexGrupo:r,indexItem:i,selectedItem:s,handleFileSelect:d,handleRemove:c,loadingFile:j,folder:D,error:b,disabled:y,modeTheme:Z,inputRef:I}=e;return console.log("\uD83D\uDE80 ~ AnexoGrid item:",l),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:3,children:(0,t.jsxs)("div",{className:"".concat((null==b?void 0:b[a])?"border border-red-500":"dark"===Z?"bg-[#202023]":"bg-[#F6F6F8]"," rounded-lg flex flex-col relative z-10"),children:[(0,t.jsx)("div",{className:"flex items-center justify-center p-2 mt-1 ",children:(0,t.jsx)("p",{className:"font-medium text-sm ",children:l.nome})}),(0,t.jsx)("div",{className:"flex justify-center items-center cursor-pointer p-1 h-[100px] w-full ",disabled:y,onClick(){l.anexo&&l.anexo.path&&l.anexo.exist?window.open(l.anexo.path,"_blank"):y||n(l)},children:(0,t.jsxs)("div",{className:"flex p-1 justify-center items-center gap-2 rounded-lg w-full h-full m-3 border-2 border-dashed hover:border-[#4A8B57] transition-colors ".concat("dark"===Z?" border-[#27272a]":"rgba(76, 78, 100, 0.12)"),children:[s&&s.grupoAnexoItemID==l.grupoAnexoItemID&&(0,t.jsx)(f.Z,{show:j,title:"Enviando anexo..."}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:l.anexo&&l.anexo.exist?(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)(v.Z,{data:l.anexo}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)("p",{className:"text-sm opacity-80",children:[l.anexo.nome,(0,t.jsx)("span",{className:"text-xs opacity-50 ml-1",children:"(".concat((l.anexo.size/1024/1024).toFixed(2),"MB)")})]}),l.descricao&&(0,t.jsx)(g.Z,{text:l.descricao})]}),(0,t.jsx)("p",{className:"text-xs opacity-50",children:new Date(l.anexo.time).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)(h.Z,{className:"w-8 h-8 ".concat(l.anexo&&l.anexo.exist?"fill-[#666CFF]":"fill-current")}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("h6",{className:"text-sm font-normal opacity-80",children:"Adicione um arquivo"}),l.descricao&&(0,t.jsx)(g.Z,{text:l.descricao})]})]})})]})}),(0,t.jsx)("div",{className:"flex items-center justify-between gap-1 p-2 py-3 pl-4",children:(0,t.jsx)(p.Z,{title:1==l.hasPending?"Este item n\xe3o pode mais ser removido pois j\xe1 foi respondido em um formul\xe1rio":"Remover este item",children:(0,t.jsx)(x.Z,{color:"error",onClick:()=>c(l),disabled:!(null===(o=l.anexo)||void 0===o?void 0:o.exist)||y,children:(0,t.jsx)(m.Z,{icon:"tabler:trash-filled"})})})}),(0,t.jsx)("input",{type:"file",ref:I,style:{display:"none"},onChange:e=>d(e,s,D)})]})})};a(88475);var D=a(92945),b=a(49837),y=a(91359),Z=a(29630),I=a(63366),C=a(87462);a(59864);var A=a(86010),S=a(94780),F=a(67074),w=a(78884),R=a(36622),E=a(1588),N=a(34867);function P(e){return(0,N.Z)("MuiToggleButtonGroup",e)}let z=(0,E.Z)("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),T=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],W=e=>{let{classes:o,orientation:a,fullWidth:t,disabled:l}=e,n={root:["root","vertical"===a&&"vertical",t&&"fullWidth"],grouped:["grouped",`grouped${(0,R.Z)(a)}`,l&&"disabled"]};return(0,S.Z)(n,P,o)},G=(0,F.ZP)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver(e,o){let{ownerState:a}=e;return[{[`& .${z.grouped}`]:o.grouped},{[`& .${z.grouped}`]:o[`grouped${(0,R.Z)(a.orientation)}`]},o.root,"vertical"===a.orientation&&o.vertical,a.fullWidth&&o.fullWidth]}})(({ownerState:e,theme:o})=>(0,C.Z)({display:"inline-flex",borderRadius:(o.vars||o).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${z.grouped}`]:(0,C.Z)({},"horizontal"===e.orientation?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${z.selected} + .${z.grouped}.${z.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${z.selected} + .${z.grouped}.${z.selected}`]:{borderTop:0,marginTop:0}})})),k=l.forwardRef(function(e,o){let a=(0,w.Z)({props:e,name:"MuiToggleButtonGroup"}),{children:n,className:r,color:i="standard",disabled:s=!1,exclusive:d=!1,fullWidth:c=!1,onChange:u,orientation:p="horizontal",size:x="medium",value:m}=a,h=(0,I.Z)(a,T),v=(0,C.Z)({},a,{disabled:s,fullWidth:c,orientation:p,size:x}),f=W(v),g=(e,o)=>{let a;if(!u)return;let t=m&&m.indexOf(o);m&&t>=0?(a=m.slice()).splice(t,1):a=m?m.concat(o):[o],u(e,a)},j=(e,o)=>{u&&u(e,m===o?null:o)};return(0,t.jsx)(G,(0,C.Z)({role:"group",className:(0,A.Z)(f.root,r),ref:o,ownerState:v},h,{children:l.Children.map(n,e=>{var o;return l.isValidElement(e)?l.cloneElement(e,{className:(0,A.Z)(f.grouped,e.props.className),onChange:d?j:g,selected:void 0===e.props.selected?(o=e.props.value,void 0!==m&&void 0!==o&&(Array.isArray(m)?m.indexOf(o)>=0:o===m)):e.props.selected,size:e.props.size||x,fullWidth:c,color:e.props.color||i,disabled:e.props.disabled||s}):null})}))});var O=a(41796),M=a(50522);function $(e){return(0,N.Z)("MuiToggleButton",e)}let B=(0,E.Z)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),V=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],L=e=>{let{classes:o,fullWidth:a,selected:t,disabled:l,size:n,color:r}=e,i={root:["root",t&&"selected",l&&"disabled",a&&"fullWidth",`size${(0,R.Z)(n)}`,r]};return(0,S.Z)(i,$,o)},q=(0,F.ZP)(M.Z,{name:"MuiToggleButton",slot:"Root",overridesResolver(e,o){let{ownerState:a}=e;return[o.root,o[`size${(0,R.Z)(a.size)}`]]}})(({theme:e,ownerState:o})=>{let a,t="standard"===o.color?e.palette.text.primary:e.palette[o.color].main;return e.vars&&(t="standard"===o.color?e.vars.palette.text.primary:e.vars.palette[o.color].main,a="standard"===o.color?e.vars.palette.text.primaryChannel:e.vars.palette[o.color].mainChannel),(0,C.Z)({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},o.fullWidth&&{width:"100%"},{[`&.${B.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,O.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${B.selected}`]:{color:t,backgroundColor:e.vars?`rgba(${a} / ${e.vars.palette.action.selectedOpacity})`:(0,O.Fq)(t,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${a} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,O.Fq)(t,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${a} / ${e.vars.palette.action.selectedOpacity})`:(0,O.Fq)(t,e.palette.action.selectedOpacity)}}}},"small"===o.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===o.size&&{padding:15,fontSize:e.typography.pxToRem(15)})}),_=l.forwardRef(function(e,o){let a=(0,w.Z)({props:e,name:"MuiToggleButton"}),{children:l,className:n,color:r="standard",disabled:i=!1,disableFocusRipple:s=!1,fullWidth:d=!1,onChange:c,onClick:u,selected:p,size:x="medium",value:m}=a,h=(0,I.Z)(a,V),v=(0,C.Z)({},a,{color:r,disabled:i,disableFocusRipple:s,fullWidth:d,size:x}),f=L(v),g=e=>{u&&(u(e,m),e.defaultPrevented)||!c||c(e,m)};return(0,t.jsx)(q,(0,C.Z)({className:(0,A.Z)(f.root,n),disabled:i,focusRipple:!s,ref:o,onClick:g,onChange:c,value:m,ownerState:v,"aria-pressed":p},h,{children:l}))});var J=function(e){return(0,t.jsx)("svg",{fill:"currentColor",viewBox:"0 0 16 16",height:"1em",width:"1em",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5z"})})},U=function(e){return(0,t.jsx)("svg",{fill:"currentColor",viewBox:"0 0 16 16",height:"1em",width:"1em",...e,children:(0,t.jsx)("path",{d:"M1 2.5A1.5 1.5 0 012.5 1h3A1.5 1.5 0 017 2.5v3A1.5 1.5 0 015.5 7h-3A1.5 1.5 0 011 5.5v-3zM2.5 2a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zm6.5.5A1.5 1.5 0 0110.5 1h3A1.5 1.5 0 0115 2.5v3A1.5 1.5 0 0113.5 7h-3A1.5 1.5 0 019 5.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zM1 10.5A1.5 1.5 0 012.5 9h3A1.5 1.5 0 017 10.5v3A1.5 1.5 0 015.5 15h-3A1.5 1.5 0 011 13.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zm6.5.5A1.5 1.5 0 0110.5 9h3a1.5 1.5 0 011.5 1.5v3a1.5 1.5 0 01-1.5 1.5h-3A1.5 1.5 0 019 13.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3z"})})};let H=e=>{let{values:o}=e,[a,n]=(0,l.useState)(null);console.log("\uD83D\uDE80 ~ selectedItem:",a);let{settings:r}=(0,l.useContext)(c.J6),i=r.mode,s=(0,l.useRef)(null),d=e=>{s.current.click(),n(e)};(0,l.useEffect)(()=>{s.current.value=""},[o.handleFileSelect]);let[p,x]=(0,l.useState)("list"),m=(e,o)=>{x(o)};return(0,t.jsx)(b.Z,{sx:{mt:4},children:(0,t.jsxs)(y.Z,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsxs)(Z.Z,{variant:"subtitle1",sx:{fontWeight:600},children:[o.grupo.nome,(0,t.jsx)(Z.Z,{variant:"body2",sx:{mb:2},children:o.grupo.descricao})]}),(0,t.jsx)("div",{children:(0,t.jsxs)(k,{exclusive:!0,color:"primary",value:p,onChange:m,children:[(0,t.jsx)(_,{value:"list",children:(0,t.jsx)(J,{})}),(0,t.jsx)(_,{value:"grid",children:(0,t.jsx)(U,{})})]})})]}),(0,t.jsx)(u.ZP,{container:!0,spacing:4,children:o.grupo.itens.map((e,l)=>"list"===p?(0,t.jsx)(D.Z,{modeTheme:i,handleFileClick:d,selectedItem:a,inputRef:s,item:e,loadingFile:o.loadingFile,grupo:o.grupo,indexGrupo:o.indexGrupo,indexItem:l,handleFileSelect:o.handleFileSelect,handleRemove:o.handleRemove,folder:o.folder,error:o.error,disabled:o.disabled},"".concat(o.indexGrupo,"-").concat(l)):(0,t.jsx)(j,{modeTheme:i,handleFileClick:d,selectedItem:a,inputRef:s,item:e,loadingFile:o.loadingFile,grupo:o.grupo,indexGrupo:o.indexGrupo,indexItem:l,handleFileSelect:o.handleFileSelect,handleRemove:o.handleRemove,folder:o.folder,error:o.error,disabled:o.disabled},"".concat(o.indexGrupo,"-").concat(l)))})]})})};var K=a(19604),Q=a(55343),X=a(11163),Y=a.n(X),ee=a(46749),eo=a(60664),ea=a(36188);a(60565);var et=a(83830),el=a(40039),en=a(39976),er=a(47842),ei=a(86501),es=a(80377),ed=a(22416),ec=a(61953),eu=a(22841),ep=a(16056);let ex=e=>{let{xs:o,md:a,title:l,index:n,name:r,typePage:i,value:s,disabled:d,register:c,...p}=e;return(0,t.jsx)(u.ZP,{item:!0,xs:o,md:a,children:(0,t.jsx)(ec.Z,{display:"flex",flexDirection:"column",alignItems:"start",children:(0,t.jsx)(eu.Z,{control:(0,t.jsx)(ep.Z,{...p,name:r,...c(r),defaultChecked:s,disabled:d,onChange(e){p.onChange&&p.onChange(e.target.checked,n,r,i)}}),label:l,size:"small",sx:{"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}})})})},em=e=>{let{data:o,control:a,setValue:n,register:r,errors:i}=e,[s,c]=(0,l.useState)(!0);return n("emailDestinatario",o.email),(0,t.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[s&&(0,t.jsx)(d.Z,{name:"emailDestinatario",type:"email",title:"E-mail do destinat\xe1rio",required:!0,control:a,errors:i.emailDestinatario}),(0,t.jsx)(d.Z,{name:"assunto",title:"Assunto",required:!0,register:r,control:a,defaultValue:"",errors:i.assunto}),(0,t.jsx)(d.Z,{name:"descricao",title:"Descri\xe7\xe3o",multiline:!0,rows:4,required:!0,control:a,defaultValue:"",errors:i.descricao}),(0,t.jsxs)(ed.Z,{row:!0,children:[(0,t.jsx)(ex,{name:"email",title:"E-mail",value:!0,register:r,onChange:()=>c(!s)}),(0,t.jsx)(ex,{name:"alerta",title:"Alerta",value:!0,register:r})]})]})};var eh=a(99070),ev=a(40874);let ef=e=>{let[o,a]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let o=async()=>{await eo.h.post("relatorio/fornecedor/dadosFornecedor",{data:e}).then(e=>a(e.data))};o()},[e]),o},eg=e=>{var o,a,n,r,i,s,d,c,u;let{params:p}=e,x=ef(p);return(0,t.jsx)(t.Fragment,{children:x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eh.G7,{style:ev.W.containerFields,children:null===(o=x.fields)||void 0===o?void 0:o.map((e,o)=>(0,t.jsxs)(l.Fragment,{children:[(0,t.jsxs)(eh.G7,{style:[ev.W.fields,{width:"33%"}],children:[(0,t.jsx)(eh.xv,{style:ev.W.fieldTitle,children:null!==(n=e.title)&&void 0!==n?n:"NI"}),(0,t.jsx)(eh.xv,{style:ev.W.fieldValue,children:null!==(r=e.value)&&void 0!==r?r:"NI"})]}),(o+1)%3==0&&(0,t.jsx)(eh.G7,{style:ev.W.separator})]},o))}),(0,t.jsx)(eh.G7,{style:ev.W.separator}),(0,t.jsxs)(eh.G7,{style:{display:"flex",flexDirection:"column",gap:7,paddingVertical:10,paddingBottom:10},children:[(0,t.jsxs)(eh.xv,{style:ev.W.fieldTitle,children:["Atividades: ",(0,t.jsx)(eh.xv,{style:ev.W.fieldValue,children:null!==(i=x.atividades)&&void 0!==i?i:"NI"})]}),(0,t.jsxs)(eh.xv,{style:ev.W.fieldTitle,children:["Sistema de qualidade:"," ",(0,t.jsx)(eh.xv,{style:ev.W.fieldValue,children:null!==(s=x.sistemaQualidade)&&void 0!==s?s:"NI"})]}),(0,t.jsxs)(eh.xv,{style:ev.W.fieldTitle,children:["Categoria: ",(0,t.jsx)(eh.xv,{style:ev.W.fieldValue,children:null!==(d=x.categoria)&&void 0!==d?d:"NI"})]})]}),(0,t.jsx)(eh.G7,{style:ev.W.separator}),null===(a=x.blocos)||void 0===a?void 0:a.map((e,o)=>(0,t.jsxs)(eh.G7,{style:e,children:[(0,t.jsx)(eh.xv,{style:[ev.W.blockTitle,{paddingTop:20}],children:e.nome}),(0,t.jsxs)(eh.G7,{style:ev.W.table,children:[(0,t.jsxs)(eh.G7,{style:ev.W.tableTitle,children:[(0,t.jsx)(eh.xv,{style:[ev.W.tableTitlecolumn,{width:"60%"}],children:"Item"}),(0,t.jsx)(eh.xv,{style:[ev.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Resposta"}),(0,t.jsx)(eh.xv,{style:[ev.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Observa\xe7\xe3o"})]}),e.itens.map((e,o)=>(0,t.jsxs)(eh.G7,{style:ev.W.tableContainer,children:[(0,t.jsx)(eh.G7,{style:[ev.W.tableContent,{width:"60%"}],children:(0,t.jsx)(eh.xv,{style:ev.W.tableContentcolumn,children:e.nome})}),(0,t.jsx)(eh.G7,{style:[ev.W.tableContent,{width:"20%"}],children:(0,t.jsx)(eh.xv,{style:ev.W.tableContentcolumn,children:null!==(c=e.resposta)&&void 0!==c?c:"--"})}),(0,t.jsx)(eh.G7,{style:[ev.W.tableContent,{width:"20%"}],children:(0,t.jsx)(eh.xv,{style:ev.W.tableContentcolumn,children:null!==(u=e.obsResposta)&&void 0!==u?u:"--"})})]}))]})]},o))]})})};var ej=a(69418),eD=a(44373);let eb=e=>{let{values:o,handleFileSelect:a,handleRemove:n,loadingFile:r,disabled:i}=e,{settings:s}=(0,l.useContext)(c.J6),d=s.mode,[p,x]=(0,l.useState)(null),m=(0,l.useRef)(null),h=e=>{console.log("\uD83D\uDE80 >>>>> handleFileClick:",e),m.current.click(),x(e)};return(0,l.useEffect)(()=>{console.log("no useEffect no useRef.."),o&&(m.current.value="")},[a]),(0,t.jsx)("div",{className:"flex flex-col gap-2",children:o&&o.map((e,l)=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.ZP,{container:!0,spacing:2,children:(0,t.jsx)(u.ZP,{item:!0,xs:12,sm:6,children:(0,t.jsxs)(ec.Z,{display:"flex",alignItems:"center",sx:{gap:1},children:[(0,t.jsx)(Z.Z,{color:"primary",variant:"subtitle1",sx:{fontWeight:700},children:e.nome}),(0,t.jsx)(Z.Z,{variant:"body2",children:"(".concat(e.unidadeMedida,")")})]})})},l),e.produtoAnexosDescricao&&e.produtoAnexosDescricao.length>0&&(0,t.jsx)(u.ZP,{container:!0,spacing:4,children:e.produtoAnexosDescricao.map((o,s)=>(0,t.jsx)(D.Z,{modeTheme:d,handleFileClick:h,selectedItem:p,inputRef:m,item:o,loadingFile:r,grupo:e,indexGrupo:l,indexItem:s,handleFileSelect:a,folder:"produto",handleRemove:n,error:!1,disabled:i},"".concat(l,"-").concat(s)))}),e.anexos&&0===e.anexos.length&&(0,t.jsx)(Z.Z,{variant:"body2",sx:{mb:2},children:"Este produto n\xe3o exige anexos"}),l<o.length-1&&(0,t.jsx)(eD.Z,{sx:{my:4}})]}))})},ey=e=>{var o,a;let{id:p,makeFornecedor:x}=e,{user:m,loggedUnity:h}=(0,l.useContext)(el.V),[v,f]=(0,l.useState)(!1),[g,j]=(0,l.useState)(!1),[D,I]=(0,l.useState)(!1),[C,A]=(0,l.useState)(!1),[S,F]=(0,l.useState)(!1),[w,R]=(0,l.useState)(!0),[E,N]=(0,l.useState)(null),[P,z]=(0,l.useState)([]),[T,W]=(0,l.useState)([]),[G,k]=(0,l.useState)(null),{createNewNotification:O}=(0,l.useContext)(en.u),[M,$]=(0,l.useState)(!1),[B,V]=(0,l.useState)([]),[L,q]=(0,l.useState)(null),[_,J]=(0,l.useState)([]),[U,X]=(0,l.useState)(""),[ed,ec]=(0,l.useState)(!1),[eu,ep]=(0,l.useState)(!1),[ex,eh]=(0,l.useState)({status:!1,errors:[]}),{settings:ev}=(0,l.useContext)(c.J6),{setId:ef}=(0,l.useContext)(et.X),[eD,ey]=(0,l.useState)({status:!1,message:"Voc\xea n\xe3o tem permiss\xf5es",messageType:"info"}),eZ=Y(),eI=p&&p>0?"edit":"new",eC=eZ.pathname,{reset:eA,register:eS,getValues:eF,setValue:ew,control:eR,watch:eE,handleSubmit:eN,clearErrors:eP,setError:ez,formState:{errors:eT}}=(0,n.cI)(),eW=async(e,o)=>{let a={status:e,observacao:o,auth:{usuarioID:m.usuarioID,papelID:m.papelID,unidadeID:h.unidadeID}};try{A(!0),await eo.h.post("".concat(eC,"/changeFormStatus/").concat(p),a).then(o=>{ei.ZP.success(ee.OD.successUpdate),A(!1),eJ(e,null,null)})}catch(t){console.log(t)}},eG=async e=>{try{if(!e.email&&!e.alerta)return ei.ZP.error("Selecione ao menos um tipo de notifica\xe7\xe3o!");let o={titulo:e.assunto,descricao:e.descricao,url:"/formularios/fornecedor/",urlID:p,tipoNotificacaoID:3,usuarioGeradorID:m.usuarioID,usuarioID:0,unidadeID:E.fornecedor.unidadeID,papelID:2,email:e.email,alerta:e.alerta};if(console.log("\uD83D\uDE80 ~ data dat notifica\xe7\xe3o:",o),O(o),e.email){let a={values:e,auth:{id:p,usuarioID:m.usuarioID,papelID:m.papelID,unidadeID:h.unidadeID}};await eo.h.post("".concat(eC,"/sendNotification"),a)}let t=e.alerta&&e.email?"E-mail e alerta enviados com sucesso!":e.alerta&&!e.email?"Alerta criado com sucesso!":!e.alerta&&e.email?"E-mail enviado com sucesso!":null;ei.ZP.success(t)}catch(l){console.log(l)}},ek=()=>{navigator.clipboard.writeText(L),ei.ZP.success("Link copiado com sucesso!")},eO=[{id:1,name:"Gerar novo formul\xe1rio",description:"Gerar um novo formul\xe1rio de preenchimento para este fornecedor.",component:(0,t.jsx)(ej.Z,{cnpj:null==E?void 0:null===(o=E.fornecedor)||void 0===o?void 0:o.cnpj}),route:null,type:null,modal:!0,action:x,size:"lg",icon:"fluent:form-new-20-regular",identification:null},{id:2,name:"Gerar notifica\xe7\xe3o",description:"Gerar uma nova notifica\xe7\xe3o para o fornecedor, podendo ser um e-mail e/ou alerta do sistema.",component:(0,t.jsx)(em,{data:{email:null===(a=B.find(e=>"email"==e.nomeColuna))||void 0===a?void 0:a.email}}),route:null,type:null,modal:!0,action:eG,icon:"cil:bell",identification:null},{id:3,name:"Copiar link do formul\xe1rio",description:"Copiar o link deste formul\xe1rio.",component:(0,t.jsx)(ej.Z,{}),route:null,type:null,action:ek,modal:!1,icon:"solar:copy-outline",identification:null},{id:4,name:"Formul\xe1rio do fornecedor",component:(0,t.jsx)(eg,{params:{id:p}}),route:"/relatorio/fornecedor/dadosFornecedor",papelID:m.papelID,modal:!1,type:"report",icon:"fluent:print-24-regular",identification:null,params:{fornecedorID:p}}],eM=async()=>{try{await eo.h.post("".concat(eC,"/verifyFormPending/").concat(p),{parFormularioID:1}).then(e=>{R(e.data) //! true/false
})}catch(e){console.log(e)}},e$=()=>{try{f(!0),eo.h.post("".concat((0,ee.g_)(eC),"/new/getData"),{unidadeID:h.unidadeID}).then(e=>{console.log("getNewData: ",e.data),V(e.data.fields),J(e.data.blocos),X(e.data.info),eA(e.data),ey({status:!0,message:'Esse formul\xe1rio j\xe1 foi conclu\xeddo! Para alter\xe1-lo \xe9 necess\xe1rio atualizar seu Status para "Em preenchimento" atrav\xe9s do bot\xe3o "Status"!',messageType:"info"}),f(!1)})}catch(e){console.log("\uD83D\uDE80 ~ error:",e)}},eB=()=>{f(!0),p&&eo.h.post("".concat(eC,"/getData/").concat(p),{type:eI,unidadeID:h.unidadeID}).then(e=>{var o,a;console.log("getData: ",e.data),V(e.data.fields),z(e.data.produtos),J(e.data.blocos),W(e.data.grupoAnexo),X(e.data.info),N(e.data.unidade),q(e.data.link),eA(e.data),k(ee.WR[null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(a=o.info)||void 0===a?void 0:a.status]),ey({status:2==m.papelID&&e.data.info.status<40,message:2==m.papelID?"Esse formul\xe1rio j\xe1 foi conclu\xeddo e enviado pra f\xe1brica, n\xe3o \xe9 mais poss\xedvel alterar as informa\xe7\xf5es!":"Somente o fornecedor pode alterar as informa\xe7\xf5es deste formul\xe1rio!",messageType:2==m.papelID?"warning":"info"}),eM(),f(!1)})},eV=()=>{eP();let e=!1,o=[];null==B||B.forEach((a,t)=>{let l=a.tabela?"fields[".concat(t,"].").concat(a.tabela):"fields[".concat(t,"].").concat(a.nomeColuna),n=eF(l);1!==a.obrigatorio||n||(ez(l,{type:"manual",message:"Campo obrigat\xf3rio"}),o.push(null==a?void 0:a.nomeCampo),e=!0)}),_.forEach((a,t)=>{a.itens.forEach((a,l)=>{let n=eF("blocos[".concat(t,"].itens[").concat(l,"].resposta"));(null==a?void 0:a.obrigatorio)!==1||n||(ez("blocos[".concat(t,"].itens[").concat(l,"].resposta"),{type:"manual",message:"Campo obrigat\xe1rio"}),o.push(null==a?void 0:a.nome),e=!0)})}),eh({status:e,errors:o})},eL=async e=>{if(9===e.length){let o=e.replace(/[^0-9]/g,"");try{let a=await eo.h.get("https://viacep.com.br/ws/".concat(o,"/json/"));a.data.localidade?(B.forEach(async(e,o)=>{("logradouro"===e.nomeColuna||"bairro"===e.nomeColuna||"cidade"===e.nomeColuna||"estado"===e.nomeColuna)&&(await ew("fields[".concat(o,"].logradouro"),a.data.logradouro),await ew("fields[".concat(o,"].bairro"),a.data.bairro),await ew("fields[".concat(o,"].cidade"),a.data.localidade),await ew("fields[".concat(o,"].estado"),a.data.uf))}),ei.ZP.success("Endere\xe7o encontrado!")):ei.ZP.error("Endere\xe7o n\xe3o encontrado!")}catch(t){console.error(t)}}},eq=()=>{eV(),ec(!0),F(!0)},e_=async e=>{e.conclusion=!0,await eN(eU)(e)},eJ=(e,o,a)=>{let t=30==e?"Em preenchimento":40==e?"Conclu\xeddo":50==e?"Reprovado":60==e?"Aprovado parcialmente":70==e?"Aprovado":"Pendente",l={titulo:"Formul\xe1rio de Fornecedor ".concat(t),descricao:"O formul\xe1rio de Fornecedor #".concat(p," est\xe1 ").concat(t,"."),url:"/formularios/fornecedor/",urlID:p,tipoNotificacaoID:6,usuarioGeradorID:m.usuarioID,usuarioID:0,unidadeID:h.unidadeID,papelID:1};if(l&&(O(l),o)){let n={titulo:"Fornecedor gerado",descricao:"O formul\xe1rio de Fornecedor #".concat(p," est\xe1 ").concat(t," e gerou uma n\xe3o conformidade."),url:"/formularios/fornecedor/nao-conformidade/",urlID:a,tipoNotificacaoID:5,usuarioGeradorID:m.usuarioID,usuarioID:0,unidadeID:h.unidadeID,papelID:1};O(n)}},eU=async function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===o.conclusion&&(e.status=m&&1==m.papelID?o.status:40,e.obsConclusao=o.obsConclusao);let a={form:e,auth:{usuarioID:m.usuarioID,papelID:m.papelID,unidadeID:h.unidadeID}};console.log("\uD83D\uDE80 ~ onSubmit: ",a);try{"edit"==eI?(A(!0),await eo.h.post("".concat(eC,"/updateData/").concat(p),a).then(o=>{ei.ZP.success(ee.OD.successUpdate),A(!1);let a=null;o.data&&o.data.naoConformidade&&o.data.id>0&&(eZ.push("/formularios/fornecedor/nao-conformidade/"),ef(o.data.id),a=o.data.id),eJ(e.status,e.naoConformidade,a)})):"new"==eI?await eo.h.post("".concat((0,ee.g_)(eC),"/insertData"),a).then(e=>{eZ.push("".concat((0,ee.g_)(eC))),ef(e.data),ei.ZP.success(ee.OD.successNew)}):ei.ZP.error(ee.OD.error)}catch(t){console.log(t)}},eH=async(e,o)=>{I(!0);let a=e.target.files;if(a&&a.length>0){var t;let l=new FormData;for(let n=0;n<a.length;n++)l.append("files[]",a[n]);l.append("usuarioID",m.usuarioID),l.append("unidadeID",h.unidadeID),l.append("produtoAnexoID",null!==(t=o.produtoAnexoID)&&void 0!==t?t:null),await eo.h.post("".concat(eC,"/saveAnexo/").concat(p,"/produto/").concat(m.usuarioID,"/").concat(E.unidadeID),l).then(e=>{I(!1),console.log("response: ",e.data),ei.ZP.success("Anexo adicionado com sucesso!");let a=P.map(a=>a.produtoID==o.produtoID?{...a,produtoAnexosDescricao:a.produtoAnexosDescricao.map(a=>a.produtoAnexoID==o.produtoAnexoID?{...a,anexos:[...a.anexos,...e.data]}:a)}:a);z(a)}).catch(e=>{var o,a,t;I(!1),ei.ZP.error(null!==(t=null===(o=e.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message)&&void 0!==t?t:"Erro ao atualizar anexo, tente novamente!")})}},eK=async(e,o)=>{j(!0);let a=e.target.files;if(a&&a.length>0){var t;let l=new FormData;for(let n=0;n<a.length;n++)l.append("files[]",a[n]);l.append("usuarioID",m.usuarioID),l.append("unidadeID",h.unidadeID),l.append("grupoAnexoItemID",null!==(t=o.grupoAnexoItemID)&&void 0!==t?t:null),await eo.h.post("".concat(eC,"/saveAnexo/").concat(p,"/grupo-anexo/").concat(m.usuarioID,"/").concat(E.unidadeID),l).then(e=>{j(!1),ei.ZP.success("Anexo adicionado com sucesso!!!!!");let a=T.map(a=>a.grupoAnexoID==o.grupoAnexoID?{...a,itens:a.itens.map(a=>a.grupoAnexoItemID==o.grupoAnexoItemID?{...a,anexos:[...a.anexos,...e.data]}:a)}:a);W(a)}).catch(e=>{var o,a,t;j(!1),ei.ZP.error(null!==(t=null===(o=e.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message)&&void 0!==t?t:"Erro ao atualizar anexo, tente novamente!")})}},eQ=async e=>{console.log("\uD83D\uDE80 ~ item:",e),e&&await eo.h.delete("".concat(eC,"/deleteAnexo/").concat(p,"/").concat(e.anexoID,"/").concat(E.unidadeID,"/").concat(m.usuarioID,"/produto")).then(e=>{ei.ZP.success("Anexo removido com sucesso!");let o=e.data,a=P.map(e=>({...e,produtoAnexosDescricao:e.produtoAnexosDescricao.map(e=>({...e,anexos:e.anexos.filter(e=>e.anexoID!=o)}))}));z(a)}).catch(e=>{var o,a,t;ei.ZP.error(null!==(t=null===(o=e.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message)&&void 0!==t?t:"Erro ao remover anexo, tente novamente!")})},eX=async e=>{e&&await eo.h.delete("".concat(eC,"/deleteAnexo/").concat(p,"/").concat(e.anexoID,"/").concat(E.unidadeID,"/").concat(m.usuarioID,"/grupo-anexo")).then(e=>{ei.ZP.success("Anexo removido com sucesso!");let o=e.data,a=T.map(e=>({...e,itens:e.itens.map(e=>({...e,anexos:e.anexos.filter(e=>e.anexoID!=o)}))}));W(a)}).catch(e=>{var o,a,t;ei.ZP.error(null!==(t=null===(o=e.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message)&&void 0!==t?t:"Erro ao remover anexo, tente novamente!")})};return(0,l.useEffect)(()=>{"new"==eI?e$():eB()},[p,C]),(0,l.useEffect)(()=>{eV()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(er.Z,{show:v}),(0,t.jsxs)("form",{onSubmit:eN(eU),children:[!eD.status&&(0,t.jsx)(K.Z,{severity:eD.messageType,sx:{mb:2},children:eD.message}),(0,t.jsxs)(b.Z,{children:[(0,t.jsx)(ea.Z,{btnCancel:!0,btnSave:(null==U?void 0:U.status)<40||"new"==eI,btnSend:"edit"==eI&&(null==U?void 0:U.status)<50,btnPrint:"edit"==eI,generateReport:ee.OE,actionsData:eO,actions:!0,handleSubmit:()=>eN(eU),handleSend:eq,iconConclusion:"mdi:check-bold",titleConclusion:"Concluir Fornecedor",title:"Fornecedor",btnStatus:"edit"==eI,handleBtnStatus:()=>$(!0),type:eI,status:G}),(0,t.jsx)(y.Z,{children:(0,t.jsx)(r.Z,{register:eS,errors:eT,setValue:ew,control:eR,fields:B,values:B,getAddressByCep:eL,disabled:!eD.status})})]}),E&&(null==E?void 0:E.obrigatorioProdutoFornecedor)&&P&&P.length>0&&(0,t.jsx)(b.Z,{sx:{mt:4},children:(0,t.jsx)(y.Z,{children:(0,t.jsx)(eb,{values:P,handleFileSelect:eH,handleRemove:eQ,loadingFile:D,disabled:!eD.status},D)})}),_&&_.map((e,o)=>(0,t.jsx)(i.Z,{index:o,blockKey:"parFornecedorModeloBlocoID",setBlocos:J,values:e,control:eR,register:eS,setValue:ew,errors:eT,disabled:!eD.status},o)),T&&T.map((e,o)=>{var a,l;return(0,t.jsx)(H,{values:{grupo:e,loadingFile:g,indexGrupo:o,handleFileSelect:eK,handleRemove:eX,folder:"grupo-anexo",disabled:!eD.status,error:null==eT?void 0:null===(a=eT.grupoAnexo)||void 0===a?void 0:null===(l=a[o])||void 0===l?void 0:l.itens}},o)}),U&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(b.Z,{sx:{mt:4},children:(0,t.jsx)(y.Z,{children:(0,t.jsx)(u.ZP,{container:!0,spacing:4,children:(0,t.jsx)(u.ZP,{item:!0,xs:12,md:12,children:(0,t.jsxs)(Q.Z,{fullWidth:!0,children:[(0,t.jsx)(Z.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Observa\xe7\xf5es (campo de uso exclusivo da validadora)"}),(0,t.jsx)(d.Z,{title:"Observa\xe7\xe3o (opcional)",name:"info.obs",multiline:!0,rows:4,value:U.obs,disabled:!eD.status,control:eR})]})})})})})}),M&&(0,t.jsx)(s.Z,{title:"Hist\xf3rico do Formul\xe1rio",text:"Listagem do hist\xf3rico das movimenta\xe7\xf5es do formul\xe1rio ".concat(p," do Fornecedor."),id:p,parFormularioID:1,formStatus:U.status,hasFormPending:w,canChangeStatus:1==m.papelID&&!w&&U.status>30,openModal:M,handleClose:()=>$(!1),btnCancel:!0,btnConfirm:!0,handleSubmit:eW}),(0,t.jsx)(es.Z,{openModal:ed,handleClose(){ec(!1),F(!1)},title:"Concluir Formul\xe1rio",text:"Deseja realmente concluir este formul\xe1rio?",info:U,canChange:!w,register:eS,setValue:ew,getValues:eF,btnCancel:!0,btnConfirm:!0,btnConfirmColor:"primary",conclusionForm:e_,listErrors:ex})]})]})};var eZ=ey}}]);